#define DYNEventSpecial
/* DSblock model generated by Dymola from Modelica model twotTankscontrolOutlet
 Dymola Version 2022 (64-bit), 2021-04-14 translated this at Thu Nov 30 14:20:33 2023

   */

#include <matrixop.h>
#include "matrixop.c"
static const char* DymArrays2[1]={"SimpleLiquidWater"};
#if defined(DynSimStruct)
static double DymArrays0[3]={2.0, 2.0, 4.0};
static double DymArrays1[3]={995.586, 995.586, 995.586};
#endif
/* Declaration of C-structs */
struct DymStruc0;
struct DymStruc1;
struct DymStruc2;
struct DymStruc0 {
  double  a_0member;
  double  b_0member;
  double  dp_min_0member;
};
DYMOLA_STATIC struct DymStruc0 DymStruc0_construct(double   a_02, double   b_02,
   double   dp_min_02) {
  struct DymStruc0 dummy_0;
  dummy_0.a_0member = a_02;
  dummy_0.b_0member = b_02;
  dummy_0.dp_min_0member = dp_min_02;
  return dummy_0;
}
struct DymStruc1 {
  double  p_0member;
  double  T_0member;
};
DYMOLA_STATIC struct DymStruc1 DymStruc1_construct(double   T_02, double   p_02) {
  struct DymStruc1 dummy_0;
  dummy_0.T_0member = T_02;
  dummy_0.p_0member = p_02;
  return dummy_0;
}
struct DymStruc2 {
  double  rho_0member;
};
DYMOLA_STATIC struct DymStruc2 DymStruc2_construct(double   rho_02) {
  struct DymStruc2 dummy_0;
  dummy_0.rho_0member = rho_02;
  return dummy_0;
}
/* Prototypes for functions used in model */
DYMOLA_STATIC double   Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0DP
  (struct DymStruc0 INx_0con, struct DymStruc2 INx_0var, double  mx_0flow);
DYMOLA_STATIC struct DymStruc0  Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0INx_0con
  (double  a0_0, double  b0_0, double  dpx_0min);
DYMOLA_STATIC struct DymStruc2  Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0INx_0var
  (double  rho0_0);
DYMOLA_STATIC double   Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0MFLOW
  (struct DymStruc0 INx_0con, struct DymStruc2 INx_0var, double  dp0_0);
DYMOLA_STATIC double   Modelica_Fluid_Dissipation_Utilities_Functions_General_SmoothPower
  (double  x0_0, double  deltax0_0, double  pow0_0);
DYMOLA_STATIC void Modelica_Fluid_Utilities_checkBoundary(const char*  
  mediumName0_0, StringArray   substanceNames0_0, int  singleState0_0, int  
  definex_0p, RealArray   Xx_0boundary, const char*  modelName0_0);
DYMOLA_STATIC double   Modelica_Fluid_Utilities_evaluatePoly3x_0derivativeAtZero
  (double  x0_0, double  x10_0, double  y10_0, double  y1d0_0, double  y0d0_0);
DYMOLA_STATIC double   Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility(
  double  x0_0, double  x10_0, double  k10_0, double  k20_0, int  usex_0yd0, 
  double  yd00_0);
DYMOLA_STATIC double   Modelica_Fluid_Utilities_regStep(double  x0_0, double  
  y10_0, double  y20_0, double  xx_0small);
DYMOLA_STATIC double   Modelica_Media_Water_ConstantPropertyLiquidWater_densityx_0Unique4
  (struct DymStruc1 state0_0);
/* Codes used in model */

/* Flattened Modelica model:

function Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_DP
input Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_con IN_con(start = Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_con(
a = 15.0, 
b = 0.0, 
dp_min = 0.1
)) annotation (Dialog(group="Constant inputs"));
input Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_var IN_var annotation (Dialog(group="Variable inputs"));
discrete input Real m_flow(unit = "kg/s") "Mass flow rate" annotation (Dialog(group="Input"));
discrete output Real DP(unit = "Pa", displayUnit = "bar") "Output for function dp_volumeFlowRate_DP";
protected 
discrete Real a(start = abs(IN_con.a));
discrete Real b(start = abs(IN_con.b));
discrete Real V_flow(start = m_flow/max(1E-15, IN_var.rho), unit = "m3/s") "Volume flow rate";
discrete Real dp_min(start = max(1E-15, abs(IN_con.dp_min)), unit = "Pa", displayUnit = "bar") "Start of approximation for decreasing pressure loss";
discrete Real V_flow_smooth(start = (if a > 0 and b <= 0 then (dp_min/a)^0.5 else 0), unit = "m3/s") "Start of approximation for decreasing volume flow rate";
public 
algorithm 
assert(a+b > 0, "Please provide non-zero factors for either a or b of function dp=a*V_flow^2 + b*V_flow");
DP := a*(if a > 0 and b <= 0 then Modelica.Fluid.Dissipation.Utilities.Functions.General.SmoothPower(V_flow, V_flow_smooth, 2) else (if a > 0 and b > 0 then V_flow*abs(V_flow) else 0))+b*V_flow;
annotation(Inline=false, smoothOrder=2);
end Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_DP;

  */
DYMOLA_STATIC double   Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0DP
  (struct DymStruc0 INx_0con, struct DymStruc2 INx_0var, double  mx_0flow) {
  PushContext("Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_DP")
  {
    /* Declare outputs and temporaries */
    double   DP0_0;
    double   a0_0;
    double   b0_0;
    double   Vx_0flow;
    double   dpx_0min;
    double   Vx_0flowx_0smooth;
    DP0_0=0;
    a0_0 = fabs(INx_0con.a_0member);
    b0_0 = fabs(INx_0con.b_0member);
    Vx_0flow = divGuarded(mx_0flow,"m_flow",RealBmax(1E-15, INx_0var.rho_0member),
      "max(1E-15, IN_var.rho)");
    dpx_0min = RealBmax(1E-15, fabs(INx_0con.dp_min_0member));
    Vx_0flowx_0smooth = IF a0_0 > 0 AND b0_0 <= 0 THEN powGuarded(divGuarded(
      dpx_0min,"dp_min",a0_0,"a"),"dp_min/a",0.5,"0.5") ELSE 0;
    /* Start of real code */
      AssertModelica(a0_0+b0_0 > 0,"a+b > 0", "Please provide non-zero factors for either a or b of function dp=a*V_flow^2 + b*V_flow");
      DP0_0 = a0_0*(IF a0_0 > 0 AND b0_0 <= 0 THEN Modelica_Fluid_Dissipation_Utilities_Functions_General_SmoothPower
        (Vx_0flow, Vx_0flowx_0smooth, 2) ELSE IF a0_0 > 0 AND b0_0 > 0 THEN 
        Vx_0flow*fabs(Vx_0flow) ELSE 0)+b0_0*Vx_0flow;
    /* Output section */
    PopContext()
    return DP0_0;
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_con
discrete input Real a(start = 15, unit = "(Pa.s2)/m6") "Coefficient for quadratic term" annotation (Dialog(group="Generic variables"));
discrete input Real b(start = 0, unit = "(Pa.s)/m3") "Coefficient for linear term" annotation (Dialog(group="Generic variables"));
discrete input Real dp_min(start = 0.1, unit = "Pa", displayUnit = "bar") "Start of approximation for decreasing pressure loss (only used for b=0)";
output Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_con _out(start = Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_con(
a = a, 
b = b, 
dp_min = dp_min
));

algorithm 
end Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_con;

  */
DYMOLA_STATIC struct DymStruc0  Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0INx_0con
  (double  a0_0, double  b0_0, double  dpx_0min) {
  PushContext("Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_con")
  {
    /* Declare outputs and temporaries */
    struct DymStruc0  x_0out;
    x_0out.a_0member = a0_0;
    x_0out.b_0member = b0_0;
    x_0out.dp_min_0member = dpx_0min;
    /* Start of real code */
    /* Output section */
    PopContext()
    return x_0out;
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_var
discrete input Real rho(unit = "kg/m3", displayUnit = "g/cm3", min = 0.0) "Density of fluid" annotation (Dialog(group="Fluid properties"));
output Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_var _out(start = Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_var(
rho = rho
));

algorithm 
end Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_var;

  */
DYMOLA_STATIC struct DymStruc2  Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0INx_0var
  (double  rho0_0) {
  PushContext("Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_var")
  {
    /* Declare outputs and temporaries */
    struct DymStruc2  x_0out;
    x_0out.rho_0member = rho0_0;
    /* Start of real code */
    /* Output section */
    PopContext()
    return x_0out;
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_MFLOW
input Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_con IN_con(start = Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_con(
a = 15.0, 
b = 0.0, 
dp_min = 0.1
)) annotation (Dialog(group="Constant inputs"));
input Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_var IN_var annotation (Dialog(group="Variable inputs"));
discrete input Real dp(unit = "Pa", displayUnit = "bar") "Pressure loss" annotation (Dialog(group="Input"));
discrete output Real M_FLOW(unit = "kg/s") "Output for function dp_volumeFlowRate_MFLOW";
protected 
discrete Real a(start = abs(IN_con.a));
discrete Real b(start = abs(IN_con.b));
discrete Real dp_min(start = max(1E-15, abs(IN_con.dp_min)), unit = "Pa", displayUnit = "bar") "Start of approximation for decreasing pressure loss";
public 
algorithm 
assert(a+b > 0, "Please provide non-zero factors for either a or b of function dp=a*V_flow^2 + b*V_flow");
M_FLOW := IN_var.rho*(if a > 0 and b <= 0 then Modelica.Fluid.Dissipation.Utilities.Functions.General.SmoothPower(1/a*dp, 1/a*dp_min, 0.5) else (if a > 0 and b > 0 then noEvent((if dp > 0 then 1 else (if dp < 0 then -1 else 0)))*(( -b/(2*a))+sqrt((b/(2*a))^2+1/a*abs(dp))) else b*dp));
annotation(Inline=true, smoothOrder=2);
end Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_MFLOW;

  */
DYMOLA_STATIC double   Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0MFLOW
  (struct DymStruc0 INx_0con, struct DymStruc2 INx_0var, double  dp0_0) {
  PushContext("Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_MFLOW")
  {
    /* Declare outputs and temporaries */
    double   Mx_0FLOW;
    double   a0_0;
    double   b0_0;
    double   dpx_0min;
    Mx_0FLOW=0;
    a0_0 = fabs(INx_0con.a_0member);
    b0_0 = fabs(INx_0con.b_0member);
    dpx_0min = RealBmax(1E-15, fabs(INx_0con.dp_min_0member));
    /* Start of real code */
      AssertModelica(a0_0+b0_0 > 0,"a+b > 0", "Please provide non-zero factors for either a or b of function dp=a*V_flow^2 + b*V_flow");
      Mx_0FLOW = INx_0var.rho_0member*(IF a0_0 > 0 AND b0_0 <= 0 THEN 
        Modelica_Fluid_Dissipation_Utilities_Functions_General_SmoothPower(
        divinvGuarded(a0_0,"a")*dp0_0, divinvGuarded(a0_0,"a")*dpx_0min, 0.5)
         ELSE IF a0_0 > 0 AND b0_0 > 0 THEN (IF dp0_0 > 0 THEN 1 ELSE IF dp0_0
         < 0 THEN -1 ELSE 0)*(( -divGuarded(b0_0,"b",2*a0_0,"2*a"))+sqrtGuarded(
        sqr(divGuarded(b0_0,"b",2*a0_0,"2*a"))+divinvGuarded(a0_0,"a")*fabs(
        dp0_0),"(b/(2*a))^2+1/a*abs(dp)")) ELSE b0_0*dp0_0);
    /* Output section */
    PopContext()
    return Mx_0FLOW;
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Dissipation.Utilities.Functions.General.SmoothPower
discrete input Real x "Input variable";
discrete input Real deltax "Range for interpolation";
discrete input Real pow "Exponent for x";
discrete output Real y "Output variable";
protected 
discrete Real adeltax(start = abs(deltax));
discrete Real C3(start = 0.5*((pow-1)*adeltax^(pow-3)));
discrete Real C1(start = 0.5*((3-pow)*adeltax^(pow-1)));
public 
algorithm 
y := (if x >= adeltax then x^pow else (if x <=  -adeltax then  -( -x)^pow else (C1+C3*x*x)*x));
annotation(derivative(zeroDerivative=deltax, zeroDerivative=pow)=Modelica.Fluid.Dissipation.Utilities.Functions.General.SmoothPower_der, Inline=false, smoothOrder=1);
end Modelica.Fluid.Dissipation.Utilities.Functions.General.SmoothPower;

  */
DYMOLA_STATIC double   Modelica_Fluid_Dissipation_Utilities_Functions_General_SmoothPower
  (double  x0_0, double  deltax0_0, double  pow0_0) {
  PushContext("Modelica.Fluid.Dissipation.Utilities.Functions.General.SmoothPower")
  {
    /* Declare outputs and temporaries */
    double   y0_0;
    double   adeltax0_0;
    double   C30_0;
    double   C10_0;
    y0_0=0;
    adeltax0_0 = fabs(deltax0_0);
    C30_0 = 0.5*(pow0_0-1)*powGuarded(adeltax0_0,"adeltax",pow0_0-3,"pow-3");
    C10_0 = 0.5*(3-pow0_0)*powGuarded(adeltax0_0,"adeltax",pow0_0-1,"pow-1");
    /* Start of real code */
      y0_0 = IF x0_0 >= adeltax0_0 THEN powGuarded(x0_0,"x",pow0_0,"pow") ELSE 
        IF x0_0 <=  -adeltax0_0 THEN  -powGuarded( -x0_0," -x",pow0_0,"pow")
         ELSE (C10_0+C30_0*x0_0*x0_0)*x0_0;
    /* Output section */
    PopContext()
    return y0_0;
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Utilities.checkBoundary
input String mediumName;
input String substanceNames[:] "Names of substances";
input Boolean singleState;
input Boolean define_p;
discrete input Real X_boundary[:];
input String modelName(start = "??? boundary ???");
protected 
Integer nX(start = size(X_boundary, 1));
String X_str;
public 
algorithm 
assert( not singleState or singleState and define_p, "
Wrong value of parameter define_p (= false) in model \""+modelName+"\":
The selected medium \""+mediumName+"\" has Medium.singleState=true.
Therefore, an boundary density cannot be defined and
define_p = true is required.
");
for i in (1:nX) loop
assert(X_boundary[i] >= 0.0, "
Wrong boundary mass fractions in medium \""+mediumName+"\" in model \""+modelName+"\":
The boundary value X_boundary("+       String(i, true, 0)+") = "+       String(X_boundary[i], true, 0)+"
is negative. It must be positive.
");
end for;
if (nX > 0 and abs(sum(X_boundary)-1.0) > 1E-10) then 
X_str := "";
for i in (1:nX) loop
X_str := X_str+"   X_boundary["+       String(i, true, 0)+"] = "+       String(X_boundary[i], true, 0)+" \""+substanceNames[i]+"\"\n";
end for;
ModelicaError("The boundary mass fractions in medium \""+mediumName+"\" in model \""+modelName+"\"\n"+"do not sum up to 1. Instead, sum(X_boundary) = "+       String(sum(X_boundary), true, 0)+":\n"+X_str);
end if;
end Modelica.Fluid.Utilities.checkBoundary;

  */
DYMOLA_STATIC void Modelica_Fluid_Utilities_checkBoundary(const char*  
  mediumName0_0, StringArray   substanceNames0_0, int  singleState0_0, int  
  definex_0p, RealArray   Xx_0boundary, const char*  modelName0_0) {
  char*retSMark_=GetStringMark();
  PushContext("Modelica.Fluid.Utilities.checkBoundary")
  {
    /* Declare outputs and temporaries */
    int   nX0_0;
    const char*   Xx_0str;
    MarkObject retmark_ = PushMark();
    nX0_0 = DYNSizeSimple(Xx_0boundary, 1);
    Xx_0str="";
    /* Start of real code */
      AssertModelica( NOT singleState0_0 OR singleState0_0 AND definex_0p,
        " not singleState or singleState and define_p", StringAdd(StringAdd(
        StringAdd(StringAdd("\nWrong value of parameter define_p (= false) in model \"",
        modelName0_0),"\":\nThe selected medium \""),mediumName0_0),
        "\" has Medium.singleState=true.\nTherefore, an boundary density cannot be defined and\ndefine_p = true is required.\n"));
      {
        int end_ = nX0_0;
        int i0_0_0;
        for(i0_0_0 = 1;i0_0_0 <= end_;i0_0_0 += 1) {
          AssertModelica(RealElement( Xx_0boundary, (SizeType)(i0_0_0)) >= 0.0,
            "X_boundary[i] >= 0.0", StringAdd(StringAdd(StringAdd(StringAdd(
            StringAdd(StringAdd(StringAdd(StringAdd("\nWrong boundary mass fractions in medium \"",
            mediumName0_0),"\" in model \""),modelName0_0),"\":\nThe boundary value X_boundary("),
            Integer2String2(i0_0_0, true, 0)),") = "),Real2String2(RealElement( 
            Xx_0boundary, (SizeType)(i0_0_0)), true, 0)),"\nis negative. It must be positive.\n"));
        }
      }
      if (nX0_0 > 0 AND fabs(Realsum( Xx_0boundary)-1.0) > 1E-10) {
        Xx_0str = SqueezeString("", retSMark_);
        Release();
        {
          int end_ = nX0_0;
          int i0_0_0;
          for(i0_0_0 = 1;i0_0_0 <= end_;i0_0_0 += 1) {
            Xx_0str = SqueezeString(StringAdd(StringAdd(StringAdd(StringAdd(
              StringAdd(StringAdd(StringAdd(Xx_0str,"   X_boundary["),
              Integer2String2(i0_0_0, true, 0)),"] = "),Real2String2(
              RealElement( Xx_0boundary, (SizeType)(i0_0_0)), true, 0))," \""),
              StringElement( substanceNames0_0, (SizeType)(i0_0_0))),"\"\n"), retSMark_);
          }
        }
        ModelicaError(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(
          StringAdd(StringAdd(StringAdd("The boundary mass fractions in medium \"",
          mediumName0_0),"\" in model \""),modelName0_0),"\"\n"),
          "do not sum up to 1. Instead, sum(X_boundary) = "),Real2String2(
          Realsum( Xx_0boundary), true, 0)),":\n"),Xx_0str));
        Release();
      }
    /* Output section */
    PopMark(retmark_);
    SetStringMark(retSMark_);
    PopContext()
    return ;
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Utilities.regSquare2.regSquare2_utility
discrete input Real x;
discrete input Real x1 "Approximation of function abs(x) < x1";
discrete input Real k1 "y = (if x>=0 then k1 else -k2)*x*|x|; k1 >= k2";
discrete input Real k2 "y = (if x>=0 then k1 else -k2)*x*|x|";
input Boolean use_yd0(start = false) "= true, if yd0 shall be used";
discrete input Real yd0(start = 1, min = 0.0) "Desired derivative at x=0: dy/dx = yd0";
discrete output Real y;
protected 
discrete Real x2;
discrete Real y1;
discrete Real y2;
discrete Real y1d;
discrete Real y2d;
discrete Real w;
discrete Real w1;
discrete Real w2;
discrete Real y0d;
discrete Real ww;
public 
algorithm 
x2 :=  -x1;
if (x <= x2) then 
y :=  -k2*x^2;
else
y1 := k1*x1^2;
y2 :=  -k2*x2^2;
y1d := k1*2*x1;
y2d :=  -k2*2*x2;
if (use_yd0) then 
y0d := yd0;
else
w := x2/x1;
y0d := ((3*y2-x2*y2d)/w-(3*y1-x1*y1d)*w)/(2*x1*(1-w));
end if;
w1 := 2.23606797749979*k1*x1;
w2 := 2.23606797749979*k2*abs(x2);
ww := 0.9*(if w1 < w2 then w1 else w2);
if (ww < y0d) then 
y0d := ww;
end if;
y := (if x >= 0 then Modelica.Fluid.Utilities.evaluatePoly3_derivativeAtZero(x, x1, y1, y1d, y0d) else Modelica.Fluid.Utilities.evaluatePoly3_derivativeAtZero(x, x2, y2, y2d, y0d));
end if;
annotation(derivative(zeroDerivative=use_yd0)=Modelica.Fluid.Utilities.regSquare2.regSquare2_utility:der, smoothOrder=2);
end Modelica.Fluid.Utilities.regSquare2.regSquare2_utility;

  */
DYMOLA_STATIC double   Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility(
  double  x0_0, double  x10_0, double  k10_0, double  k20_0, int  usex_0yd0, 
  double  yd00_0) {
  PushContext("Modelica.Fluid.Utilities.regSquare2.regSquare2_utility")
  {
    /* Declare outputs and temporaries */
    double   y0_0;
    double   x20_0;
    double   y10_0;
    double   y20_0;
    double   y1d0_0;
    double   y2d0_0;
    double   w0_0;
    double   w10_0;
    double   w20_0;
    double   y0d0_0;
    double   ww0_0;
    y0_0=0;
    x20_0=0;
    y10_0=0;
    y20_0=0;
    y1d0_0=0;
    y2d0_0=0;
    w0_0=0;
    w10_0=0;
    w20_0=0;
    y0d0_0=0;
    ww0_0=0;
    /* Start of real code */
      x20_0 =  -x10_0;
      if (x0_0 <= x20_0) {
        y0_0 =  -k20_0*sqr(x0_0);
      }
      else{
        y10_0 = k10_0*sqr(x10_0);
        y20_0 =  -k20_0*sqr(x20_0);
        y1d0_0 = k10_0*2*x10_0;
        y2d0_0 =  -k20_0*2*x20_0;
        if (usex_0yd0) {
          y0d0_0 = yd00_0;
        }
        else{
          w0_0 = divGuarded(x20_0,"x2",x10_0,"x1");
          y0d0_0 = divGuarded(divGuarded(3*y20_0-x20_0*y2d0_0,"3*y2-x2*y2d",w0_0,
            "w")-(3*y10_0-x10_0*y1d0_0)*w0_0,"(3*y2-x2*y2d)/w-(3*y1-x1*y1d)*w",2
            *x10_0*(1-w0_0),"2*x1*(1-w)");
        }
        w10_0 = 2.23606797749979*k10_0*x10_0;
        w20_0 = 2.23606797749979*k20_0*fabs(x20_0);
        ww0_0 = 0.9*(IF w10_0 < w20_0 THEN w10_0 ELSE w20_0);
        if (ww0_0 < y0d0_0) {
          y0d0_0 = ww0_0;
        }
        y0_0 = IF x0_0 >= 0 THEN Modelica_Fluid_Utilities_evaluatePoly3x_0derivativeAtZero
          (x0_0, x10_0, y10_0, y1d0_0, y0d0_0) ELSE Modelica_Fluid_Utilities_evaluatePoly3x_0derivativeAtZero
          (x0_0, x20_0, y20_0, y2d0_0, y0d0_0);
      }
    /* Output section */
    PopContext()
    return y0_0;
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Utilities.regStep
discrete input Real x "Abscissa value";
discrete input Real y1 "Ordinate value for x > 0";
discrete input Real y2 "Ordinate value for x < 0";
discrete input Real x_small(start = 1E-05, min = 0.0) "Approximation of step for -x_small <= x <= x_small; x_small >= 0 required";
discrete output Real y "Ordinate value to approximate y = if x > 0 then y1 else y2";

algorithm 
y := smooth(1, (if x > x_small then y1 else (if x <  -x_small then y2 else (if x_small > 0 then x/x_small*((x/x_small)^2-3)*(y2-y1)/4+(y1+y2)/2 else (y1+y2)/2))));
end Modelica.Fluid.Utilities.regStep;

  */
DYMOLA_STATIC double   Modelica_Fluid_Utilities_regStep(double  x0_0, double  
  y10_0, double  y20_0, double  xx_0small) {
  PushContext("Modelica.Fluid.Utilities.regStep")
  {
    /* Declare outputs and temporaries */
    double   y0_0;
    y0_0=0;
    /* Start of real code */
      y0_0 = IF x0_0 > xx_0small THEN y10_0 ELSE IF x0_0 <  -xx_0small THEN 
        y20_0 ELSE IF xx_0small > 0 THEN divGuarded(x0_0,"x",xx_0small,"x_small")
        *(sqr(divGuarded(x0_0,"x",xx_0small,"x_small"))-3)*(y20_0-y10_0)/
        (double)(4)+(y10_0+y20_0)/(double)(2) ELSE (y10_0+y20_0)/(double)(2);
    /* Output section */
    PopContext()
    return y0_0;
  }}

/* Flattened Modelica model:

function Modelica.Media.Water.ConstantPropertyLiquidWater.density_Unique4
input Modelica.Media.Interfaces.PartialSimpleMedium.ThermodynamicState state;
discrete output Real d(start = 1, nominal = 1.0, unit = "kg/m3", displayUnit = "g/cm3", min = 0.0, max = 100000.0) "Density";

algorithm 
d := 995.586;
end Modelica.Media.Water.ConstantPropertyLiquidWater.density_Unique4;

  */
DYMOLA_STATIC double   Modelica_Media_Water_ConstantPropertyLiquidWater_densityx_0Unique4
  (struct DymStruc1 state0_0) {
  PushContext("Modelica.Media.Water.ConstantPropertyLiquidWater.density_Unique4")
  {
    /* Declare outputs and temporaries */
    double   d0_0;
    d0_0 = 1;
    /* Start of real code */
      d0_0 = 995.586;
    /* Output section */
    PopContext()
    return d0_0;
  }}

/* Flattened Modelica model:

function Modelica.Fluid.Utilities.evaluatePoly3_derivativeAtZero
discrete input Real x "Value for which polynomial shall be evaluated";
discrete input Real x1 "Abscissa value";
discrete input Real y1 "y1=f(x1)";
discrete input Real y1d "First derivative at y1";
discrete input Real y0d "First derivative at f(x=0)";
discrete output Real y;
protected 
discrete Real a1;
discrete Real a2;
discrete Real a3;
discrete Real xx;
public 
algorithm 
a1 := x1*y0d;
a2 := 3*y1-x1*y1d-2*a1;
a3 := y1-a2-a1;
xx := x/x1;
y := xx*(a1+xx*(a2+xx*a3));
annotation(derivative=Modelica.Fluid.Utilities.evaluatePoly3_derivativeAtZero:der, smoothOrder=3);
end Modelica.Fluid.Utilities.evaluatePoly3_derivativeAtZero;

  */
DYMOLA_STATIC double   Modelica_Fluid_Utilities_evaluatePoly3x_0derivativeAtZero
  (double  x0_0, double  x10_0, double  y10_0, double  y1d0_0, double  y0d0_0) {
  PushContext("Modelica.Fluid.Utilities.evaluatePoly3_derivativeAtZero")
  {
    /* Declare outputs and temporaries */
    double   y0_0;
    double   a10_0;
    double   a20_0;
    double   a30_0;
    double   xx0_0;
    y0_0=0;
    a10_0=0;
    a20_0=0;
    a30_0=0;
    xx0_0=0;
    /* Start of real code */
      a10_0 = x10_0*y0d0_0;
      a20_0 = 3*y10_0-x10_0*y1d0_0-2*a10_0;
      a30_0 = y10_0-a20_0-a10_0;
      xx0_0 = divGuarded(x0_0,"x",x10_0,"x1");
      y0_0 = xx0_0*(a10_0+xx0_0*(a20_0+xx0_0*a30_0));
    /* Output section */
    PopContext()
    return y0_0;
  }}
/* DSblock C-code: */

BreakSectionFunctionDef(1)
BreakSectionFunctionDef(0)
#define NX_    8
#define NX2_   4
#define NU_    0
#define NY_    0
#define NW_    335
#define NP_    91
#define NPS_   0
#define ND_   0
#define NXP_   0
#define NInitial_   0
#define MAXAuxStr_   0
#define MAXAuxStrLen_   500
#define NHash1_ -2063178927
#define NHash2_ -878543885
#define NHash3_ 0
#define NI_    0
#define NRelF_ 24
#define NRel_  24
#define NTim_  1
#define NSamp_ 0
#define NCons_ 0
#define NA_    173
#define SizePre_ 4
#define SizeEq_ 10
#define SizeDelay_ 0
#define QNLmax_ 3
#define MAXAux 0
#define NrDymolaTimers_ 0
#define NWhen_ 0
#define NCheckIf_ 0
#define NGlobalHelp_ 193
#define NGlobalHelpI_ 70
#ifndef NExternalObject_
#define NExternalObject_ 0
#endif
#include <moutil.c>
DYMOLA_STATIC unsigned int FMIClockValueReferences_[1]={0};
DYMOLA_STATIC unsigned int FMIClockFirstValueReferences_[1]={0};
PreNonAliasDef(0)
PreNonAliasDef(1)
PreNonAliasDef(2)
PreNonAliasDef(3)
PreNonAliasDef(4)
PreNonAliasDef(5)
#if !defined(DYM2CCUR)
 DYMOLA_STATIC const char*modelName="twotTankscontrolOutlet";
#endif
DYMOLA_STATIC const char*usedLibraries[]={0};
DYMOLA_STATIC const char*dllLibraryPath[]={0};
DYMOLA_STATIC const char*default_dymosim_license_filename=
 "c:/users/dander80/appdata/roaming/dassaultsystemes/dymola/dymola.lic";
#define QJacobianCGDef_ 1
DYMOLA_STATIC int QJacobianCG_[17]={6 , 1 , 1 , 1 , 2 , 1 , 3 , 1 , 4 , 2 , 5 , 7
   , 2 , 6 , 8 , 0 , 0};
static int QJacobianGrp0[9]={1, 1, 1, 1, 1, 1, 0, 0, 0};
static int QJacobianGrp1[6]={1, 2 , 2 , 2 , 4 , 0};
static int QJacobianGrp2[9]={3, 3, 3, 3, 0, 0, 3, 3, 0};
static int QJacobianGrp3[6]={1, 4 , 2 , 2 , 4 , 0};
static int QJacobianGrp4[9]={5, 5, 7, 7, 0, 0, 0, 0, 0};
static int QJacobianGrp5[9]={6, 6, 8, 8, 0, 6, 0, 8, 0};
DYMOLA_STATIC struct QJacobianTag_ QJacobianGC2_[7]={
{0, QJacobianGrp0},{1, QJacobianGrp1},{0, QJacobianGrp2},{1, QJacobianGrp3},{0, 
  QJacobianGrp4},{0, QJacobianGrp5},{0,0}};
DYMOLA_STATIC double QJacobianCD_[9]={0  , 44 , 50 , 54 , 56 , 56 , 54 , 70 , 66};
#include <dsblock1.c>

/* Define variable names. */

#define Sections_

TranslatedEquations

InitialSection
#if defined(DynSimStruct)
DYNX(W_,0) = true;
DYNX(W_,1) = 2;
DYNX(W_,2) = 2;
DYNX(W_,14) = 2;
DYNX(W_,15) = 2;
DYNX(W_,29) = true;
DYNX(W_,40) = 3;
DYNX(W_,46) = true;
DYNX(W_,53) = false;
DYNX(W_,54) = 1;
DYNX(W_,82) = 100;
DYNX(W_,96) = 2;
DYNX(W_,97) = 2;
DYNX(W_,111) = true;
DYNX(W_,122) = 3;
DYNX(W_,127) = true;
DYNX(W_,134) = false;
DYNX(W_,135) = 1;
DYNX(W_,163) = 100;
DYNX(W_,173) = true;
DYNX(W_,179) = true;
DYNX(W_,180) = true;
DYNX(W_,190) = true;
DYNX(W_,197) = true;
DYNX(W_,198) = true;
DYNX(W_,208) = 1;
DYNX(W_,214) = false;
DYNX(W_,218) = 3;
DYNX(W_,219) = false;
DYNX(W_,220) = false;
DYNX(W_,221) = false;
DYNX(W_,222) = false;
DYNX(W_,224) = true;
DYNX(W_,231) = true;
DYNX(W_,232) = true;
DYNX(W_,242) = 1;
DYNX(W_,248) = false;
DYNX(W_,252) = 3;
DYNX(W_,253) = false;
DYNX(W_,254) = false;
DYNX(W_,255) = false;
DYNX(W_,256) = false;
DYNX(W_,258) = 1;
DYNX(W_,264) = false;
DYNX(W_,271) = 3;
DYNX(W_,272) = true;
DYNX(W_,273) = false;
DYNX(W_,274) = false;
DYNX(W_,275) = false;
DYNX(W_,277) = 1;
DYNX(W_,283) = false;
DYNX(W_,290) = 3;
DYNX(W_,291) = true;
DYNX(W_,292) = false;
DYNX(W_,293) = false;
DYNX(W_,294) = false;
DYNX(W_,298) = 1;
DYNX(W_,301) = false;
DYNX(W_,302) = false;
DYNX(W_,318) = 1;
DYNX(W_,321) = false;
DYNX(W_,322) = false;
memcpy(&DYNX(W_,3), &DymArrays0, sizeof(double)*3);
DYNX(W_,8) = false;
DYNX(W_,16) = 2;
DYNX(W_,17) = 2;
DYNX(W_,19) = true;
DYNX(W_,30) = true;
DYNX(W_,39) = false;
DYNX(W_,49) = false;
DYNX(W_,57) = false;
DYNX(W_,58) = 0;
DYNX(W_,98) = 2;
DYNX(W_,99) = 2;
DYNX(W_,101) = true;
DYNX(W_,112) = true;
DYNX(W_,121) = false;
DYNX(W_,130) = false;
DYNX(W_,138) = false;
DYNX(W_,139) = 0;
DYNX(W_,174) = false;
DYNX(W_,175) = false;
DYNX(W_,192) = false;
DYNX(W_,193) = false;
DYNX(W_,215) = true;
DYNX(W_,226) = false;
DYNX(W_,227) = false;
DYNX(W_,249) = true;
DYNX(W_,265) = true;
DYNX(W_,284) = true;
DYNX(W_,297) = 3;
DYNX(W_,303) = 3;
DYNX(W_,309) = 3;
DYNX(W_,317) = 3;
DYNX(W_,323) = 3;
DYNX(W_,329) = 3;
DYNX(W_,38) = 0;
DYNX(W_,120) = 0;
DYNX(W_,27) = 0;
DYNX(W_,109) = 0;
DYNX(W_,212) = 0;
DYNX(W_,246) = 0;
DYNX(W_,262) = 0;
DYNX(W_,281) = 0;
DYNX(W_,306) = 0;
DYNX(W_,326) = 0;
DYNX(W_,206) = 995.586;
DYNX(W_,207) = 995.586;
DYNX(W_,240) = 995.586;
DYNX(W_,241) = 995.586;
DYNX(W_,188) = 995.586;
DYNX(W_,189) = 995.586;
DYNX(W_,305) = false;
DYNX(W_,325) = false;
DYNX(W_,37) = 0.0;
DYNX(W_,56) = 0.0;
DYNX(W_,60) = 0.0;
DYNX(W_,28) = 0.018015268;
DYNX(W_,24) = 1.0;
DYNX(W_,23) = 995.586;
memcpy(&DYNX(W_,61), &DymArrays1, sizeof(double)*3);
DYNX(W_,119) = 0.0;
DYNX(W_,137) = 0.0;
DYNX(W_,141) = 0.0;
DYNX(W_,110) = 0.018015268;
DYNX(W_,106) = 1.0;
DYNX(W_,105) = 995.586;
memcpy(&DYNX(W_,142), &DymArrays1, sizeof(double)*3);
DYNX(W_,263) = 0.018015268;
DYNX(W_,260) = 1.0;
DYNX(W_,259) = 995.586;
DYNX(W_,282) = 0.018015268;
DYNX(W_,279) = 1.0;
DYNX(W_,278) = 995.586;
DYNX(W_,213) = 0.018015268;
DYNX(W_,210) = 1.0;
DYNX(W_,209) = 995.586;
DYNX(W_,247) = 0.018015268;
DYNX(W_,244) = 1.0;
DYNX(W_,243) = 995.586;
#endif
if (!DymolaUserHomotopy) UpdateInitVars(time, X_, XD_, U_, DP_, IP_, LP_, F_, Y_, W_, QZ_, duser_, iuser_, cuser_, did_, 1);
BoundParameterSection
AssertModelica(DYNX(DP_,49) >= 0.0,"y1_outlet.p >= 0.0", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd("Pressure (= ",Real2String2(
  DYNX(DP_,49), true, 0))," Pa) of medium \""),"SimpleLiquidWater"),
  "\" is negative\n(Temperature = "),Real2String2(DYNX(DP_,50), true, 0))," K)"));
PopAllMarks();
AssertModelica(DYNX(DP_,50) >= 272.15 AND DYNX(DP_,50) <= 403.15,
  "y1_outlet.T >= 272.15 and y1_outlet.T <= 403.15", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd("\nTemperature T (= ",
  Real2String2(DYNX(DP_,50), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();
AssertModelica(DYNX(DP_,57) >= 0.0,"y2_outlet.p >= 0.0", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd("Pressure (= ",Real2String2(
  DYNX(DP_,57), true, 0))," Pa) of medium \""),"SimpleLiquidWater"),
  "\" is negative\n(Temperature = "),Real2String2(DYNX(DP_,58), true, 0))," K)"));
PopAllMarks();
AssertModelica(DYNX(DP_,58) >= 272.15 AND DYNX(DP_,58) <= 403.15,
  "y2_outlet.T >= 272.15 and y2_outlet.T <= 403.15", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd("\nTemperature T (= ",
  Real2String2(DYNX(DP_,58), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();
AssertModelica(DYNX(DP_,61) >= 272.15 AND DYNX(DP_,61) <= 403.15,
  "x1_inlet.T >= 272.15 and x1_inlet.T <= 403.15", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd("\nTemperature T (= ",
  Real2String2(DYNX(DP_,61), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();
AssertModelica(DYNX(DP_,64) >= 272.15 AND DYNX(DP_,64) <= 403.15,
  "x2_inlet.T >= 272.15 and x2_inlet.T <= 403.15", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd("\nTemperature T (= ",
  Real2String2(DYNX(DP_,64), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();
BoundParameterSection
DYNX(W_,6) = DYNX(DP_,0);
DYNX(W_,7) = DYNX(DP_,1);
DYNX(W_,9) = IF DYNX(W_,8) THEN 1 ELSE 100.0*DYNX(DP_,6);
DYNX(W_,12) = DYNX(DP_,0);
DYNX(W_,13) = DYNX(DP_,1);
DYNX(W_,18) = DYNX(W_,12);

 /* Linear system of equations to solve. */
/* Tag: initialization.linear[1] */
/* Introducing 1 common subexpressions used in 1 expressions */
/* Of the common subexpressions 1 are reals, 0 are integers, and 0
   are booleans. */
DYNX(DYNhelp,0) = IF DYNX(W_,19) THEN 0.0 ELSE 0.0002390057361376673;
DYNX(W_,20) = 288.15;
SolveScalarLinearParametric(1.0-DYNX(DYNhelp,0)*(IF DYNX(W_,19) THEN 4184.0
   ELSE 0.0),"1.0-(if tank1.use_T_start then 0.0 else 0.0002390057361376673)*(if tank1.use_T_start then 4184.0 else 0.0)",
   (IF DYNX(W_,19) THEN DYNX(W_,7) ELSE 273.15)+DYNX(DYNhelp,0)*(IF DYNX(W_,19)
   THEN -1142859.5999999999 ELSE 83680.0),"(if tank1.use_T_start then system.T_start else 273.15)+(if tank1.use_T_start then 0.0 else 0.0002390057361376673)*(if tank1.use_T_start then -1142859.5999999999 else 83680.0)",
   DYNX(W_,20),"tank1.T_start");
DYNX(W_,21) = IF DYNX(W_,19) THEN 4184*(DYNX(W_,20)-273.15) ELSE 83680.0;
 /* End of Equation Block */ 

DYNX(W_,47) = IF DYNX(W_,8) THEN DYNX(W_,9) ELSE 100.0*DYNX(DP_,6);
DYNX(W_,48) = IF DYNX(W_,8) THEN DYNX(DP_,4)*DYNX(W_,47) ELSE DYNX(DP_,6);
DYNX(W_,59) = DYNX(DP_,1);
DYNX(W_,83) = DYNX(DP_,7);
DYNX(W_,84) = DYNX(DP_,8);
DYNX(W_,91) = RealBmax(DYNX(DP_,9), 1E-15);
DYNX(W_,94) = DYNX(DP_,0);
DYNX(W_,95) = DYNX(DP_,1);
DYNX(W_,100) = DYNX(W_,94);

 /* Linear system of equations to solve. */
/* Tag: initialization.linear[2] */
/* Introducing 1 common subexpressions used in 1 expressions */
/* Of the common subexpressions 1 are reals, 0 are integers, and 0
   are booleans. */
DYNX(DYNhelp,1) = IF DYNX(W_,101) THEN 0.0 ELSE 0.0002390057361376673;
DYNX(W_,102) = 288.15;
SolveScalarLinearParametric(1.0-DYNX(DYNhelp,1)*(IF DYNX(W_,101) THEN 4184.0
   ELSE 0.0),"1.0-(if tank2.use_T_start then 0.0 else 0.0002390057361376673)*(if tank2.use_T_start then 4184.0 else 0.0)",
   (IF DYNX(W_,101) THEN DYNX(W_,7) ELSE 273.15)+DYNX(DYNhelp,1)*(IF 
  DYNX(W_,101) THEN -1142859.5999999999 ELSE 83680.0),"(if tank2.use_T_start then system.T_start else 273.15)+(if tank2.use_T_start then 0.0 else 0.0002390057361376673)*(if tank2.use_T_start then -1142859.5999999999 else 83680.0)",
   DYNX(W_,102),"tank2.T_start");
DYNX(W_,103) = IF DYNX(W_,101) THEN 4184*(DYNX(W_,102)-273.15) ELSE 83680.0;
 /* End of Equation Block */ 

DYNX(W_,128) = IF DYNX(W_,8) THEN DYNX(W_,9) ELSE 100.0*DYNX(DP_,6);
DYNX(W_,129) = IF DYNX(W_,8) THEN DYNX(DP_,4)*DYNX(W_,128) ELSE DYNX(DP_,6);
DYNX(W_,140) = DYNX(DP_,1);
DYNX(W_,164) = DYNX(DP_,23);
DYNX(W_,165) = DYNX(DP_,24);
DYNX(W_,172) = RealBmax(DYNX(DP_,25), 1E-15);
DYNX(W_,176) = 0.01*DYNX(W_,6);
DYNX(W_,177) = DYNX(DP_,3);
DYNX(W_,178) = IF DYNX(W_,8) THEN DYNX(DP_,4)*DYNX(W_,9) ELSE DYNX(DP_,6);
{
  struct DymStruc0 dummy_DymStruc0;
  dummy_DymStruc0 = (PushModelContext(1,"Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_con(R3.a, R3.b, 1E-10)")
    Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0INx_0con
    (DYNX(DP_,40), DYNX(DP_,41), 1E-10));
  DYNX(DYNhelp,2)=dummy_DymStruc0.a_0member;
  DYNX(DYNhelp,3)=dummy_DymStruc0.b_0member;
  DYNX(DYNhelp,4)=dummy_DymStruc0.dp_min_0member;
}
PopModelContext();
DYNX(DYNhelp,5) = (PushModelContext(1,"Modelica.Media.Water.ConstantPropertyLiquidWater.density_Unique4(\nR3.state_dp_small)")
  Modelica_Media_Water_ConstantPropertyLiquidWater_densityx_0Unique4(
  DymStruc1_construct(DYNX(DP_,43), DYNX(DP_,42))));
PopModelContext();
{
  struct DymStruc2 dummy_DymStruc2;
  dummy_DymStruc2 = (PushModelContext(1,"Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_var(Modelica.Media.Water.ConstantPropertyLiquidWater.density_Unique4(\nR3.state_dp_small))")
    Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0INx_0var
    (DYNX(DYNhelp,5)));
  DYNX(DYNhelp,6)=dummy_DymStruc2.rho_0member;
}
PopModelContext();
DYNX(W_,187) = (PushModelContext(1,"Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_DP(\nModelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_con(R3.a, R3.b, 1E-10), \nModelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_var(Modelica.Media.Water.ConstantPropertyLiquidWater.density_Unique4(\nR3.state_dp_small)), \nR3.m_flow_small)")
  Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0DP(
  DymStruc0_construct(DYNX(DYNhelp,2), DYNX(DYNhelp,3), DYNX(DYNhelp,4)), 
  DymStruc2_construct(DYNX(DYNhelp,6)), DYNX(W_,178)));
PopModelContext();
DYNX(W_,194) = 0.01*DYNX(W_,6);
DYNX(W_,195) = DYNX(DP_,3);
DYNX(W_,196) = IF DYNX(W_,8) THEN DYNX(DP_,4)*DYNX(W_,9) ELSE DYNX(DP_,6);
{
  struct DymStruc0 dummy_DymStruc0;
  dummy_DymStruc0 = (PushModelContext(1,"Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_con(R1.a, R1.b, 1E-10)")
    Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0INx_0con
    (DYNX(DP_,45), DYNX(DP_,46), 1E-10));
  DYNX(DYNhelp,7)=dummy_DymStruc0.a_0member;
  DYNX(DYNhelp,8)=dummy_DymStruc0.b_0member;
  DYNX(DYNhelp,9)=dummy_DymStruc0.dp_min_0member;
}
PopModelContext();
DYNX(DYNhelp,10) = (PushModelContext(1,"Modelica.Media.Water.ConstantPropertyLiquidWater.density_Unique4(\nR1.state_dp_small)")
  Modelica_Media_Water_ConstantPropertyLiquidWater_densityx_0Unique4(
  DymStruc1_construct(DYNX(DP_,48), DYNX(DP_,47))));
PopModelContext();
{
  struct DymStruc2 dummy_DymStruc2;
  dummy_DymStruc2 = (PushModelContext(1,"Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_var(Modelica.Media.Water.ConstantPropertyLiquidWater.density_Unique4(\nR1.state_dp_small))")
    Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0INx_0var
    (DYNX(DYNhelp,10)));
  DYNX(DYNhelp,11)=dummy_DymStruc2.rho_0member;
}
PopModelContext();
DYNX(W_,205) = (PushModelContext(1,"Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_DP(\nModelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_con(R1.a, R1.b, 1E-10), \nModelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_var(Modelica.Media.Water.ConstantPropertyLiquidWater.density_Unique4(\nR1.state_dp_small)), \nR1.m_flow_small)")
  Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0DP(
  DymStruc0_construct(DYNX(DYNhelp,7), DYNX(DYNhelp,8), DYNX(DYNhelp,9)), 
  DymStruc2_construct(DYNX(DYNhelp,11)), DYNX(W_,196)));
PopModelContext();
DYNX(W_,228) = 0.01*DYNX(W_,6);
DYNX(W_,229) = DYNX(DP_,3);
DYNX(W_,230) = IF DYNX(W_,8) THEN DYNX(DP_,4)*DYNX(W_,9) ELSE DYNX(DP_,6);
{
  struct DymStruc0 dummy_DymStruc0;
  dummy_DymStruc0 = (PushModelContext(1,"Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_con(R2.a, R2.b, 1E-10)")
    Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0INx_0con
    (DYNX(DP_,53), DYNX(DP_,54), 1E-10));
  DYNX(DYNhelp,12)=dummy_DymStruc0.a_0member;
  DYNX(DYNhelp,13)=dummy_DymStruc0.b_0member;
  DYNX(DYNhelp,14)=dummy_DymStruc0.dp_min_0member;
}
PopModelContext();
DYNX(DYNhelp,15) = (PushModelContext(1,"Modelica.Media.Water.ConstantPropertyLiquidWater.density_Unique4(\nR2.state_dp_small)")
  Modelica_Media_Water_ConstantPropertyLiquidWater_densityx_0Unique4(
  DymStruc1_construct(DYNX(DP_,56), DYNX(DP_,55))));
PopModelContext();
{
  struct DymStruc2 dummy_DymStruc2;
  dummy_DymStruc2 = (PushModelContext(1,"Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_var(Modelica.Media.Water.ConstantPropertyLiquidWater.density_Unique4(\nR2.state_dp_small))")
    Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0INx_0var
    (DYNX(DYNhelp,15)));
  DYNX(DYNhelp,16)=dummy_DymStruc2.rho_0member;
}
PopModelContext();
DYNX(W_,239) = (PushModelContext(1,"Modelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_DP(\nModelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_con(R2.a, R2.b, 1E-10), \nModelica.Fluid.Dissipation.PressureLoss.General.dp_volumeFlowRate_IN_var(Modelica.Media.Water.ConstantPropertyLiquidWater.density_Unique4(\nR2.state_dp_small)), \nR2.m_flow_small)")
  Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0DP(
  DymStruc0_construct(DYNX(DYNhelp,12), DYNX(DYNhelp,13), DYNX(DYNhelp,14)), 
  DymStruc2_construct(DYNX(DYNhelp,16)), DYNX(W_,230)));
PopModelContext();
DYNX(DYNhelp,17) = divinvGuarded(DYNX(DP_,68),"pid_Tank1.Ti");
DYNX(W_,300) = DYNX(DYNhelp,17);
DYNX(W_,304) = DYNX(DP_,71);
DYNX(W_,307) = DYNX(DP_,69);
DYNX(DYNhelp,18) = divinvGuarded(DYNX(DP_,70),"pid_Tank1.Nd");
DYNX(W_,308) = RealBmax(DYNX(DYNhelp,18)*DYNX(DP_,69), 1E-13);
DYNX(W_,310) = DYNX(DP_,72);
DYNX(DYNhelp,19) = fabs(DYNX(W_,307));
DYNX(W_,312) = DYNX(DYNhelp,19) < 1E-15;
DYNX(W_,313) = DYNX(DP_,67);
DYNX(DYNhelp,20) = divinvGuarded(DYNX(DP_,80),"pid_Tank2.Ti");
DYNX(W_,320) = DYNX(DYNhelp,20);
DYNX(W_,324) = DYNX(DP_,83);
DYNX(W_,327) = DYNX(DP_,81);
DYNX(DYNhelp,21) = divinvGuarded(DYNX(DP_,82),"pid_Tank2.Nd");
DYNX(W_,328) = RealBmax(DYNX(DYNhelp,21)*DYNX(DP_,81), 1E-13);
DYNX(W_,330) = DYNX(DP_,84);
DYNX(DYNhelp,22) = fabs(DYNX(W_,327));
DYNX(W_,332) = DYNX(DYNhelp,22) < 1E-15;
DYNX(W_,333) = DYNX(DP_,79);
BoundParameterConstantSection
DYNX(W_,76) = 0.7853981633974483*sqr(DYNX(DP_,11));
DYNX(W_,157) = 0.7853981633974483*sqr(DYNX(DP_,27));
DYNX(W_,158) = 0.7853981633974483*sqr(DYNX(DP_,31));
DYNX(W_,77) = 0.7853981633974483*sqr(DYNX(DP_,15));
DYNX(W_,191) = 4184*(DYNX(DP_,50)-273.15);
DYNX(W_,270) = 4184*(DYNX(DP_,61)-273.15);
DYNX(W_,78) = 0.7853981633974483*sqr(DYNX(DP_,19));
DYNX(W_,225) = 4184*(DYNX(DP_,58)-273.15);
DYNX(W_,289) = 4184*(DYNX(DP_,64)-273.15);
DYNX(W_,159) = 0.7853981633974483*sqr(DYNX(DP_,35));
DYNX(W_,22) = DYNX(W_,12);
DYNX(W_,104) = DYNX(W_,94);
DYNX(W_,204) = 273.15+0.0002390057361376673*DYNX(W_,191);
DYNX(W_,238) = 273.15+0.0002390057361376673*DYNX(W_,225);
DYNX(W_,32) = 1E-05*DYNX(W_,22);
DYNX(W_,114) = 1E-05*DYNX(W_,104);
DYNX(W_,211) = 4184*(DYNX(DP_,50)-273.15);
DYNX(W_,216) = DYNX(DP_,50)-273.15;
DYNX(W_,217) = 1E-05*DYNX(DP_,49);
DYNX(W_,245) = 4184*(DYNX(DP_,58)-273.15);
DYNX(W_,250) = DYNX(DP_,58)-273.15;
DYNX(W_,251) = 1E-05*DYNX(DP_,57);
DYNX(W_,261) = 4184*(DYNX(DP_,61)-273.15);
DYNX(W_,266) = DYNX(DP_,61)-273.15;
DYNX(W_,280) = 4184*(DYNX(DP_,64)-273.15);
DYNX(W_,285) = DYNX(DP_,64)-273.15;
DYNX(W_,223) = DYNX(DP_,51);
DYNX(W_,257) = DYNX(DP_,59);
DYNX(W_,276) = DYNX(DP_,62);
DYNX(W_,295) = DYNX(DP_,65);
BoundParameterSection
InitialSection
#if defined(DynSimStruct)
DYNX(W_,42) = 100000.0;
DYNX(W_,45) = 100000.0;
DYNX(W_,79) = 100000.0;
DYNX(W_,80) = 100000.0;
DYNX(W_,81) = 100000.0;
DYNX(W_,85) = true;
DYNX(W_,86) = true;
DYNX(W_,87) = true;
DYNX(W_,88) = false;
DYNX(W_,89) = false;
DYNX(W_,90) = false;
DYNX(W_,123) = 100000.0;
DYNX(W_,126) = 100000.0;
DYNX(W_,160) = 100000.0;
DYNX(W_,161) = 100000.0;
DYNX(W_,162) = 100000.0;
DYNX(W_,166) = true;
DYNX(W_,167) = true;
DYNX(W_,168) = true;
DYNX(W_,169) = false;
DYNX(W_,170) = false;
DYNX(W_,171) = false;
DYNX(W_,183) = 288.15;
DYNX(W_,184) = 288.15;
DYNX(W_,185) = 288.15;
DYNX(W_,186) = 288.15;
DYNX(W_,201) = 288.15;
DYNX(W_,202) = 288.15;
DYNX(W_,203) = 288.15;
DYNX(W_,235) = 288.15;
DYNX(W_,236) = 288.15;
DYNX(W_,237) = 288.15;
DYNX(W_,269) = 100000.0;
DYNX(W_,288) = 100000.0;
#endif
InitialSection
InitialStartSection
InitialStartSection2
DYNX(W_,41) =  -DYNX(W_,177);
DYNX(W_,43) = DYNX(W_,21);
DYNX(W_,44) =  -DYNX(W_,195);
DYNX(W_,70) = DYNX(W_,83);
DYNX(W_,71) = DYNX(W_,83);
DYNX(W_,72) = DYNX(W_,83);
DYNX(W_,124) = DYNX(W_,103);
DYNX(W_,125) =  -DYNX(W_,229);
DYNX(W_,151) = DYNX(W_,164);
DYNX(W_,152) = DYNX(W_,164);
DYNX(W_,153) = DYNX(W_,164);
DYNX(W_,181) = DYNX(W_,176);
DYNX(W_,199) = DYNX(W_,194);
DYNX(W_,233) = DYNX(W_,228);
DYNX(X_,1) = DYNX(W_,20);
DYNX(X_,3) = DYNX(W_,102);
DYNX(X_,4) = DYNX(W_,304);
DYNX(X_,5) = DYNX(W_,310);
DYNX(X_,6) = DYNX(W_,324);
DYNX(X_,7) = DYNX(W_,330);
InitialSection
if (!DymolaUserHomotopy) UpdateInitVars(time, X_, XD_, U_, DP_, IP_, LP_, F_, Y_, W_, QZ_, duser_, iuser_, cuser_, did_, 1);
DefaultSection
InitializeData(0)
InitialSection
InitialSection2
DYNX(X_,5) = DYNX(W_,310);
DYNX(X_,7) = DYNX(W_,330);
DYNX(X_,6) = DYNX(W_,324);
DYNX(X_,2) = DYNX(W_,172);
AssertModelica(LessEqual(DYNX(X_,2),"tank2.level", DYNX(W_,164),"tank2.fluidLevel_max",
   0),"tank2.level <= tank2.fluidLevel_max", StringAdd(StringAdd(
  "Vessel is overflowing (fluidLevel > fluidLevel_max = ",Real2String2(
  DYNX(X_,2), true, 0)),")"));
PopAllMarks();
AssertModelica(Greater(DYNX(X_,2),"tank2.level", (-1E-06)*DYNX(W_,164),
  "(-1E-06)*tank2.fluidLevel_max", 1),"tank2.level > (-1E-06)*tank2.fluidLevel_max",
   StringAdd(StringAdd("Fluid level (= ",Real2String2(DYNX(X_,2), true, 0)),
  ") is below zero meaning that the solution failed."));
PopAllMarks();
DYNX(X_,0) = DYNX(W_,91);
AssertModelica(LessEqual(DYNX(X_,0),"tank1.level", DYNX(W_,83),"tank1.fluidLevel_max",
   2),"tank1.level <= tank1.fluidLevel_max", StringAdd(StringAdd(
  "Vessel is overflowing (fluidLevel > fluidLevel_max = ",Real2String2(
  DYNX(X_,0), true, 0)),")"));
PopAllMarks();
AssertModelica(Greater(DYNX(X_,0),"tank1.level", (-1E-06)*DYNX(W_,83),
  "(-1E-06)*tank1.fluidLevel_max", 3),"tank1.level > (-1E-06)*tank1.fluidLevel_max",
   StringAdd(StringAdd("Fluid level (= ",Real2String2(DYNX(X_,0), true, 0)),
  ") is below zero meaning that the solution failed."));
PopAllMarks();
DYNX(X_,4) = DYNX(W_,304);
DYNX(X_,1) = DYNX(W_,20);
AssertModelica(DYNX(W_,22) >= 0.0,"tank1.medium.p >= 0.0", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd("Pressure (= ",Real2String2(
  DYNX(W_,22), true, 0))," Pa) of medium \""),"SimpleLiquidWater"),
  "\" is negative\n(Temperature = "),Real2String2(DYNX(X_,1), true, 0))," K)"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(X_,1),"tank1.medium.T", 272.15,"272.15", 4)
   AND LessEqual(DYNX(X_,1),"tank1.medium.T", 403.15,"403.15", 5),
  "tank1.medium.T >= 272.15 and tank1.medium.T <= 403.15", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd("\nTemperature T (= ",
  Real2String2(DYNX(X_,1), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();
DYNX(X_,3) = DYNX(W_,102);
AssertModelica(DYNX(W_,104) >= 0.0,"tank2.medium.p >= 0.0", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd("Pressure (= ",Real2String2(
  DYNX(W_,104), true, 0))," Pa) of medium \""),"SimpleLiquidWater"),
  "\" is negative\n(Temperature = "),Real2String2(DYNX(X_,3), true, 0))," K)"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(X_,3),"tank2.medium.T", 272.15,"272.15", 6)
   AND LessEqual(DYNX(X_,3),"tank2.medium.T", 403.15,"403.15", 7),
  "tank2.medium.T >= 272.15 and tank2.medium.T <= 403.15", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd("\nTemperature T (= ",
  Real2String2(DYNX(X_,3), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();
InitialSection
InitialSectionB
Init_=false;InitializeData(2);Init_=true;
EndInitialSection
AssertModelica(DYNX(W_,22) >= 0.0,"tank1.medium.p >= 0.0", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd("Pressure (= ",Real2String2(
  DYNX(W_,22), true, 0))," Pa) of medium \""),"SimpleLiquidWater"),
  "\" is negative\n(Temperature = "),Real2String2(DYNX(X_,1), true, 0))," K)"));
PopAllMarks();
BreakSectionFunctionCallNew(0);
BreakSectionFunctionEnd()
BreakSectionFunctionStart(1);
AssertModelica(DYNX(W_,104) >= 0.0,"tank2.medium.p >= 0.0", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd("Pressure (= ",Real2String2(
  DYNX(W_,104), true, 0))," Pa) of medium \""),"SimpleLiquidWater"),
  "\" is negative\n(Temperature = "),Real2String2(DYNX(X_,3), true, 0))," K)"));
PopAllMarks();

OutputSection
AssertModelica(GreaterEqual(DYNX(X_,1),"tank1.medium.T", 272.15,"272.15", 4)
   AND LessEqual(DYNX(X_,1),"tank1.medium.T", 403.15,"403.15", 5),
  "tank1.medium.T >= 272.15 and tank1.medium.T <= 403.15", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd("\nTemperature T (= ",
  Real2String2(DYNX(X_,1), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(X_,3),"tank2.medium.T", 272.15,"272.15", 6)
   AND LessEqual(DYNX(X_,3),"tank2.medium.T", 403.15,"403.15", 7),
  "tank2.medium.T >= 272.15 and tank2.medium.T <= 403.15", StringAdd(StringAdd(
  StringAdd(StringAdd(StringAdd(StringAdd(StringAdd(StringAdd("\nTemperature T (= ",
  Real2String2(DYNX(X_,3), true, 0))," K) is not\nin the allowed range ("),
  "272.15")," K <= T <= "),"403.15")," K)\nrequired from medium model \""),
  "SimpleLiquidWater"),"\".\n"));
PopAllMarks();
(PushModelContext(1,"Modelica.Fluid.Utilities.checkBoundary(\"SimpleLiquidWater\", {\"SimpleLiquidWater\"}, true, true, y1_outlet.X_in_internal, \"Boundary_pT\")")
  Modelica_Fluid_Utilities_checkBoundary("SimpleLiquidWater", StringTemporaryDense( 
  DymArrays2, 1, 1), true, true, RealTemporaryDense( &DYNX(W_,223), 1, 1), 
  "Boundary_pT"));
PopAllMarks();
(PushModelContext(1,"Modelica.Fluid.Utilities.checkBoundary(\"SimpleLiquidWater\", {\"SimpleLiquidWater\"}, true, true, y2_outlet.X_in_internal, \"Boundary_pT\")")
  Modelica_Fluid_Utilities_checkBoundary("SimpleLiquidWater", StringTemporaryDense( 
  DymArrays2, 1, 1), true, true, RealTemporaryDense( &DYNX(W_,257), 1, 1), 
  "Boundary_pT"));
PopAllMarks();
(PushModelContext(1,"Modelica.Fluid.Utilities.checkBoundary(\"SimpleLiquidWater\", {\"SimpleLiquidWater\"}, true, true, x1_inlet.X_in_internal, \"MassFlowSource_T\")")
  Modelica_Fluid_Utilities_checkBoundary("SimpleLiquidWater", StringTemporaryDense( 
  DymArrays2, 1, 1), true, true, RealTemporaryDense( &DYNX(W_,276), 1, 1), 
  "MassFlowSource_T"));
PopAllMarks();
(PushModelContext(1,"Modelica.Fluid.Utilities.checkBoundary(\"SimpleLiquidWater\", {\"SimpleLiquidWater\"}, true, true, x2_inlet.X_in_internal, \"MassFlowSource_T\")")
  Modelica_Fluid_Utilities_checkBoundary("SimpleLiquidWater", StringTemporaryDense( 
  DymArrays2, 1, 1), true, true, RealTemporaryDense( &DYNX(W_,295), 1, 1), 
  "MassFlowSource_T"));
PopAllMarks();
AssertModelica(LessEqual(DYNX(X_,0),"tank1.level", DYNX(W_,83),"tank1.fluidLevel_max",
   2),"tank1.level <= tank1.fluidLevel_max", StringAdd(StringAdd(
  "Vessel is overflowing (fluidLevel > fluidLevel_max = ",Real2String2(
  DYNX(X_,0), true, 0)),")"));
PopAllMarks();
AssertModelica(Greater(DYNX(X_,0),"tank1.level", (-1E-06)*DYNX(W_,83),
  "(-1E-06)*tank1.fluidLevel_max", 3),"tank1.level > (-1E-06)*tank1.fluidLevel_max",
   StringAdd(StringAdd("Fluid level (= ",Real2String2(DYNX(X_,0), true, 0)),
  ") is below zero meaning that the solution failed."));
PopAllMarks();
AssertModelica(LessEqual(DYNX(X_,2),"tank2.level", DYNX(W_,164),"tank2.fluidLevel_max",
   0),"tank2.level <= tank2.fluidLevel_max", StringAdd(StringAdd(
  "Vessel is overflowing (fluidLevel > fluidLevel_max = ",Real2String2(
  DYNX(X_,2), true, 0)),")"));
PopAllMarks();
AssertModelica(Greater(DYNX(X_,2),"tank2.level", (-1E-06)*DYNX(W_,164),
  "(-1E-06)*tank2.fluidLevel_max", 1),"tank2.level > (-1E-06)*tank2.fluidLevel_max",
   StringAdd(StringAdd("Fluid level (= ",Real2String2(DYNX(X_,2), true, 0)),
  ") is below zero meaning that the solution failed."));
PopAllMarks();

DynamicsSection
DYNX(W_,296) = DYNX(DP_,66)-DYNX(X_,0);
DYNX(F_,5) = IF DYNX(W_,312) THEN 0 ELSE divGuarded(DYNX(W_,296)-DYNX(X_,5),
  "pid_Tank1.u-pid_Tank1.D.x",DYNX(W_,308),"pid_Tank1.D.T");
DYNX(W_,315) = IF LessTime(200, 0) THEN 5 ELSE 7;
DYNX(W_,316) = DYNX(W_,315)-DYNX(X_,2);
DYNX(F_,7) = IF DYNX(W_,332) THEN 0 ELSE divGuarded(DYNX(W_,316)-DYNX(X_,7),
  "feedback_Tank2.y-pid_Tank2.D.x",DYNX(W_,328),"pid_Tank2.D.T");
DYNX(F_,6) = DYNX(W_,320)*DYNX(W_,316);
DYNX(W_,167) = GreaterEqual(DYNX(X_,2),"tank2.level", DYNX(DP_,32),
  "tank2.portsData[2].height", 8);
DYNX(DYNhelp,23) = RealBmax(0, DYNX(X_,2)-DYNX(DP_,32));
DYNX(W_,161) = 995.586*DYNX(DYNhelp,23)*DYNX(DP_,2)+DYNX(W_,94);
DYNX(W_,155) = IF DYNX(X_,2)-DYNX(DP_,32)-0.1*DYNX(DP_,31) > 0.1*DYNX(DP_,31)
   THEN 1 ELSE IF DYNX(X_,2)-DYNX(DP_,32)-0.1*DYNX(DP_,31) < (-0.1)*DYNX(DP_,31)
   THEN 0.001 ELSE IF 0.1*DYNX(DP_,31) > 0 THEN 0.5005+divGuarded((-0.24975)*(
  DYNX(X_,2)-DYNX(DP_,32)-0.1*DYNX(DP_,31))*(sqr(divGuarded(DYNX(X_,2)-
  DYNX(DP_,32)-0.1*DYNX(DP_,31),"tank2.level-tank2.portsData[2].height-0.1*tank2.portsData[2].diameter",
  0.1*DYNX(DP_,31),"0.1*tank2.portsData[2].diameter"))-3),"(-0.24975)*((tank2.level-tank2.portsData[2].height-0.1*tank2.portsData[2].diameter)*(((tank2.level-tank2.portsData[2].height-0.1*tank2.portsData[2].diameter)/(0.1*tank2.portsData[2].diameter))^2-3))",
  0.1*DYNX(DP_,31),"0.1*tank2.portsData[2].diameter") ELSE 0.5005;

MixedSystemOfEquations(4, DYNX(DYNhelp,24))

  { /* Non-linear system of equations to solve. */
  /* Tag: simulation.nonlinear[1] */
  /* Introducing 2 common subexpressions used in 0 expressions */
  /* Of the common subexpressions 2 are reals, 0 are integers, and 0
     are booleans. */
  const char*const varnames_[]={"R2.dp"};
  const double nominal_[]={100000.0};
  NonLinearSystemOfEquations(Jacobian__, residue__, x__, 1, 0, 1, 1, 7, 
    DYNX(DYNhelp,28), 35, DYNX(did_->helpvari_vec,0), 23);
  SetInitVector(x__, 1, DYNX(W_,233), Remember_(DYNX(W_,233), 0));
  Residues;
    DYNX(W_,126) = DYNX(W_,233)+DYNX(DP_,57);
    DYNX(DYNhelp,63) = (PushModelContext(1,"Modelica.Fluid.Fittings.BaseClasses.GenericResistances.VolumeFlowRate.massFlowRate(R2.dp, R2.a, R2.b, 995.586, 995.586, R2.dp_small, R2.m_flow_small)")
      Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0MFLOW
      (Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0INx_0con
      (DYNX(DP_,53), DYNX(DP_,54), DYNX(W_,239)), Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0INx_0var
      (Modelica_Fluid_Utilities_regStep(DYNX(W_,233), 995.586, 995.586, 
      DYNX(W_,239))), DYNX(W_,233)));
    PopModelContext();
    DYNX(W_,125) =  -DYNX(DYNhelp,63);
  DYNX(DYNhelp,64) = IF DYNX(W_,167) THEN DYNX(W_,126)-(DYNX(W_,161)+divGuarded(
    0.5*(IF DYNX(W_,125) >= DYNX(W_,129) THEN 0.0010044335697769957*(
    DYNX(DP_,34)+divGuarded(sqr(DYNX(W_,158)),"tank2.portAreas[2]^2",sqr(
    DYNX(W_,165)),"tank2.vesselArea^2")-1)*DYNX(W_,155)*sqr(DYNX(W_,125)) ELSE 
    IF DYNX(W_,125) <=  -DYNX(W_,129) THEN  -divGuarded(0.0010044335697769957*(
    1.0+DYNX(DP_,33)-divGuarded(sqr(DYNX(W_,158)),"tank2.portAreas[2]^2",sqr(
    DYNX(W_,165)),"tank2.vesselArea^2"))*sqr(DYNX(W_,125)),"0.0010044335697769957*((1.0+tank2.portsData[2].zeta_out-tank2.portAreas[2]^2/tank2.vesselArea^2)*tank2.ports[2].m_flow^2)",
    DYNX(W_,155),"tank2.ports_penetration[2]") ELSE IF 0.0010044335697769957*(
    DYNX(DP_,34)+divGuarded(sqr(DYNX(W_,158)),"tank2.portAreas[2]^2",sqr(
    DYNX(W_,165)),"tank2.vesselArea^2")-1)*DYNX(W_,155) >= divGuarded(
    0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,33)-divGuarded(sqr(
    DYNX(W_,158)),"tank2.portAreas[2]^2",sqr(DYNX(W_,165)),"tank2.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank2.portsData[2].zeta_out-tank2.portAreas[2]^2/tank2.vesselArea^2)",
    DYNX(W_,155),"tank2.ports_penetration[2]") THEN (PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility(tank2.ports[2].m_flow, tank2.m_flow_small, 0.0010044335697769957*((tank2.portsData[2].zeta_in+tank2.portAreas[2]^2/tank2.vesselArea^2-1)*tank2.ports_penetration[2]), (0.0010044335697769957+0.0010044335697769957*(tank2.portsData[2].zeta_out-tank2.portAreas[2]^2/tank2.vesselArea^2))/tank2.ports_penetration[2], false, 1)\nModelica.Fluid.Utiliti...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility(DYNX(W_,125), 
    DYNX(W_,129), 0.0010044335697769957*(DYNX(DP_,34)+divGuarded(sqr(
    DYNX(W_,158)),"tank2.portAreas[2]^2",sqr(DYNX(W_,165)),"tank2.vesselArea^2")
    -1)*DYNX(W_,155), divGuarded(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,33)-divGuarded(sqr(DYNX(W_,158)),"tank2.portAreas[2]^2",sqr(
    DYNX(W_,165)),"tank2.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank2.portsData[2].zeta_out-tank2.portAreas[2]^2/tank2.vesselArea^2)",
    DYNX(W_,155),"tank2.ports_penetration[2]"), false, 1)) ELSE  -
    (PushModelContext(1,"Modelica.Fluid.Utilities.regSquare2.regSquare2_utility( -tank2.ports[2].m_flow, tank2.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank2.portsData[2].zeta_out-tank2.portAreas[2]^2/tank2.vesselArea^2))/tank2.ports_penetration[2], 0.0010044335697769957*((tank2.portsData[2].zeta_in+tank2.portAreas[2]^2/tank2.vesselArea^2-1)*tank2.ports_penetration[2]), false, 1)\nModelica.Fluid.Utili...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility( -DYNX(W_,125), 
    DYNX(W_,129), divGuarded(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,33)-divGuarded(sqr(DYNX(W_,158)),"tank2.portAreas[2]^2",sqr(
    DYNX(W_,165)),"tank2.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank2.portsData[2].zeta_out-tank2.portAreas[2]^2/tank2.vesselArea^2)",
    DYNX(W_,155),"tank2.ports_penetration[2]"), 0.0010044335697769957*(
    DYNX(DP_,34)+divGuarded(sqr(DYNX(W_,158)),"tank2.portAreas[2]^2",sqr(
    DYNX(W_,165)),"tank2.vesselArea^2")-1)*DYNX(W_,155), false, 1))),
    "0.5*smooth(2, smooth(2, (if noEvent(tank2.ports[2].m_flow >= tank2.m_flow_small) then 0.0010044335697769957*((tank2.portsData[2].zeta_in+tank2.portAreas[2]^2/tank2.vesselArea^2-1)*tank2.ports_penetration[2]*tank2.ports[2].m_flow^2) else (if noEvent(tank2.ports[2].m_flow <=  -tank2.m_flow_small) then  -0.0010044335697769957*((1.0+tank2.portsData[2].zeta_out-tank2.portAreas[2]^2/tank2.vesselArea^...",
    sqr(DYNX(W_,158)),"tank2.portAreas[2]^2")) ELSE IF DYNX(W_,170) THEN 
    DYNX(W_,126)-DYNX(W_,161) ELSE DYNX(W_,125);
  PopModelContext();
  SetVector(residue__, 1, DYNX(DYNhelp,64));

  { /* No analytic Jacobian available*/
  SolveNonLinearSystemOfEquationsMixed(Jacobian__, 0, 0, 0, residue__, x__,"Tag: simulation.nonlinear[1]");
  DYNX(W_,233) = GetVector(x__, 1);
  EndNonLinearSystemOfEquations(residue__, x__);
   /* End of Non-Linear Equation Block */ }



  DYNX(W_,152) = IF DYNX(W_,167) THEN DYNX(X_,2)-DYNX(DP_,32) ELSE IF 
    DYNX(W_,170) THEN DYNX(W_,125) ELSE 9.869232667160129E-06*(DYNX(W_,126)-
    DYNX(W_,161))*(DYNX(DP_,32)-DYNX(X_,2));

  MixedModeStartBoolean
  UpdateVariableNamed(DYNX(W_,170),"tank2.inFlow[2]",  NOT DYNX(W_,167) AND (
    Greater(DYNX(W_,152),"tank2.s[2]", 0,"0", 9) OR DYNX(DP_,32) >= DYNX(W_,164)));
  MixedModeInit(1, DYNX(DYNhelp,65))
  ThetaMixedCross(0,9)
  MixedModeEndBoolean
  UpdateReal(DYNX(W_,152), 1)
  UpdateReal(DYNX(W_,126), 2)
  UpdateReal(DYNX(W_,233), 3)
  UpdateReal(DYNX(W_,125), 4)
EndMixedSystemOfEquations

DYNX(W_,85) = GreaterEqual(DYNX(X_,0),"tank1.level", DYNX(DP_,12),
  "tank1.portsData[1].height", 10);
DYNX(DYNhelp,66) = RealBmax(0, DYNX(X_,0)-DYNX(DP_,12));
DYNX(W_,79) = 995.586*DYNX(DYNhelp,66)*DYNX(DP_,2)+DYNX(W_,12);
DYNX(W_,73) = IF DYNX(X_,0)-DYNX(DP_,12)-0.1*DYNX(DP_,11) > 0.1*DYNX(DP_,11)
   THEN 1 ELSE IF DYNX(X_,0)-DYNX(DP_,12)-0.1*DYNX(DP_,11) < (-0.1)*DYNX(DP_,11)
   THEN 0.001 ELSE IF 0.1*DYNX(DP_,11) > 0 THEN 0.5005+divGuarded((-0.24975)*(
  DYNX(X_,0)-DYNX(DP_,12)-0.1*DYNX(DP_,11))*(sqr(divGuarded(DYNX(X_,0)-
  DYNX(DP_,12)-0.1*DYNX(DP_,11),"tank1.level-tank1.portsData[1].height-0.1*tank1.portsData[1].diameter",
  0.1*DYNX(DP_,11),"0.1*tank1.portsData[1].diameter"))-3),"(-0.24975)*((tank1.level-tank1.portsData[1].height-0.1*tank1.portsData[1].diameter)*(((tank1.level-tank1.portsData[1].height-0.1*tank1.portsData[1].diameter)/(0.1*tank1.portsData[1].diameter))^2-3))",
  0.1*DYNX(DP_,11),"0.1*tank1.portsData[1].diameter") ELSE 0.5005;
DYNX(W_,166) = GreaterEqual(DYNX(X_,2),"tank2.level", DYNX(DP_,28),
  "tank2.portsData[1].height", 11);
DYNX(DYNhelp,67) = RealBmax(0, DYNX(X_,2)-DYNX(DP_,28));
DYNX(W_,160) = 995.586*DYNX(DYNhelp,67)*DYNX(DP_,2)+DYNX(W_,94);
DYNX(W_,154) = IF DYNX(X_,2)-DYNX(DP_,28)-0.1*DYNX(DP_,27) > 0.1*DYNX(DP_,27)
   THEN 1 ELSE IF DYNX(X_,2)-DYNX(DP_,28)-0.1*DYNX(DP_,27) < (-0.1)*DYNX(DP_,27)
   THEN 0.001 ELSE IF 0.1*DYNX(DP_,27) > 0 THEN 0.5005+divGuarded((-0.24975)*(
  DYNX(X_,2)-DYNX(DP_,28)-0.1*DYNX(DP_,27))*(sqr(divGuarded(DYNX(X_,2)-
  DYNX(DP_,28)-0.1*DYNX(DP_,27),"tank2.level-tank2.portsData[1].height-0.1*tank2.portsData[1].diameter",
  0.1*DYNX(DP_,27),"0.1*tank2.portsData[1].diameter"))-3),"(-0.24975)*((tank2.level-tank2.portsData[1].height-0.1*tank2.portsData[1].diameter)*(((tank2.level-tank2.portsData[1].height-0.1*tank2.portsData[1].diameter)/(0.1*tank2.portsData[1].diameter))^2-3))",
  0.1*DYNX(DP_,27),"0.1*tank2.portsData[1].diameter") ELSE 0.5005;

MixedSystemOfEquations(6, DYNX(DYNhelp,68))

  { /* Non-linear system of equations to solve. */
  /* Tag: simulation.nonlinear[2] */
  /* Introducing 3 common subexpressions used in 0 expressions */
  /* Of the common subexpressions 3 are reals, 0 are integers, and 0
     are booleans. */
  const char*const varnames_[]={"tank2.ports[1].p", "R3.dp"};
  const double nominal_[]={100000.0, 100000.0};
  NonLinearSystemOfEquations(Jacobian__, residue__, x__, 2, 0, 1, 2, 8, 
    DYNX(DYNhelp,74), 53, DYNX(did_->helpvari_vec,23), 24);
  SetInitVector(x__, 1, DYNX(W_,123), Remember_(DYNX(W_,123), 1));
  SetInitVector(x__, 2, DYNX(W_,181), Remember_(DYNX(W_,181), 2));
  Residues;
    DYNX(W_,42) = DYNX(W_,181)+DYNX(W_,123);
    DYNX(DYNhelp,127) = (PushModelContext(1,"Modelica.Fluid.Fittings.BaseClasses.GenericResistances.VolumeFlowRate.massFlowRate(R3.dp, R3.a, R3.b, 995.586, 995.586, R3.dp_small, R3.m_flow_small)")
      Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0MFLOW
      (Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0INx_0con
      (DYNX(DP_,40), DYNX(DP_,41), DYNX(W_,187)), Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0INx_0var
      (Modelica_Fluid_Utilities_regStep(DYNX(W_,181), 995.586, 995.586, 
      DYNX(W_,187))), DYNX(W_,181)));
    PopModelContext();
    DYNX(W_,41) =  -DYNX(DYNhelp,127);
  DYNX(DYNhelp,128) = IF DYNX(W_,166) THEN DYNX(W_,123)-(DYNX(W_,160)+divGuarded
    (0.5*(IF  -DYNX(W_,41) >= DYNX(W_,129) THEN 0.0010044335697769957*(
    DYNX(DP_,30)+divGuarded(sqr(DYNX(W_,157)),"tank2.portAreas[1]^2",sqr(
    DYNX(W_,165)),"tank2.vesselArea^2")-1)*DYNX(W_,154)*sqr(DYNX(W_,41)) ELSE 
    IF  -DYNX(W_,41) <=  -DYNX(W_,129) THEN  -divGuarded(0.0010044335697769957*(
    1.0+DYNX(DP_,29)-divGuarded(sqr(DYNX(W_,157)),"tank2.portAreas[1]^2",sqr(
    DYNX(W_,165)),"tank2.vesselArea^2"))*sqr(DYNX(W_,41)),"0.0010044335697769957*((1.0+tank2.portsData[1].zeta_out-tank2.portAreas[1]^2/tank2.vesselArea^2)*tank1.ports[1].m_flow^2)",
    DYNX(W_,154),"tank2.ports_penetration[1]") ELSE IF 0.0010044335697769957*(
    DYNX(DP_,30)+divGuarded(sqr(DYNX(W_,157)),"tank2.portAreas[1]^2",sqr(
    DYNX(W_,165)),"tank2.vesselArea^2")-1)*DYNX(W_,154) >= divGuarded(
    0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,29)-divGuarded(sqr(
    DYNX(W_,157)),"tank2.portAreas[1]^2",sqr(DYNX(W_,165)),"tank2.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank2.portsData[1].zeta_out-tank2.portAreas[1]^2/tank2.vesselArea^2)",
    DYNX(W_,154),"tank2.ports_penetration[1]") THEN (PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility( -tank1.ports[1].m_flow, tank2.m_flow_small, 0.0010044335697769957*((tank2.portsData[1].zeta_in+tank2.portAreas[1]^2/tank2.vesselArea^2-1)*tank2.ports_penetration[1]), (0.0010044335697769957+0.0010044335697769957*(tank2.portsData[1].zeta_out-tank2.portAreas[1]^2/tank2.vesselArea^2))/tank2.ports_penetration[1], false, 1)\nModelica.Fluid.Utili...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility( -DYNX(W_,41), 
    DYNX(W_,129), 0.0010044335697769957*(DYNX(DP_,30)+divGuarded(sqr(
    DYNX(W_,157)),"tank2.portAreas[1]^2",sqr(DYNX(W_,165)),"tank2.vesselArea^2")
    -1)*DYNX(W_,154), divGuarded(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,29)-divGuarded(sqr(DYNX(W_,157)),"tank2.portAreas[1]^2",sqr(
    DYNX(W_,165)),"tank2.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank2.portsData[1].zeta_out-tank2.portAreas[1]^2/tank2.vesselArea^2)",
    DYNX(W_,154),"tank2.ports_penetration[1]"), false, 1)) ELSE  -
    (PushModelContext(1,"Modelica.Fluid.Utilities.regSquare2.regSquare2_utility(tank1.ports[1].m_flow, tank2.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank2.portsData[1].zeta_out-tank2.portAreas[1]^2/tank2.vesselArea^2))/tank2.ports_penetration[1], 0.0010044335697769957*((tank2.portsData[1].zeta_in+tank2.portAreas[1]^2/tank2.vesselArea^2-1)*tank2.ports_penetration[1]), false, 1)\nModelica.Fluid.Utiliti...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility(DYNX(W_,41), 
    DYNX(W_,129), divGuarded(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,29)-divGuarded(sqr(DYNX(W_,157)),"tank2.portAreas[1]^2",sqr(
    DYNX(W_,165)),"tank2.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank2.portsData[1].zeta_out-tank2.portAreas[1]^2/tank2.vesselArea^2)",
    DYNX(W_,154),"tank2.ports_penetration[1]"), 0.0010044335697769957*(
    DYNX(DP_,30)+divGuarded(sqr(DYNX(W_,157)),"tank2.portAreas[1]^2",sqr(
    DYNX(W_,165)),"tank2.vesselArea^2")-1)*DYNX(W_,154), false, 1))),
    "0.5*smooth(2, smooth(2, (if noEvent( -tank1.ports[1].m_flow >= tank2.m_flow_small) then 0.0010044335697769957*((tank2.portsData[1].zeta_in+tank2.portAreas[1]^2/tank2.vesselArea^2-1)*tank2.ports_penetration[1]*tank1.ports[1].m_flow^2) else (if noEvent( -tank1.ports[1].m_flow <=  -tank2.m_flow_small) then  -0.0010044335697769957*((1.0+tank2.portsData[1].zeta_out-tank2.portAreas[1]^2/tank2.vesselA...",
    sqr(DYNX(W_,157)),"tank2.portAreas[1]^2")) ELSE IF DYNX(W_,169) THEN 
    DYNX(W_,123)-DYNX(W_,160) ELSE  -DYNX(W_,41);
  PopModelContext();
  DYNX(DYNhelp,129) = IF DYNX(W_,85) THEN DYNX(W_,42)-(DYNX(W_,79)+divGuarded(
    0.5*(IF DYNX(W_,41) >= DYNX(W_,48) THEN 0.0010044335697769957*(DYNX(DP_,14)+
    divGuarded(sqr(DYNX(W_,76)),"tank1.portAreas[1]^2",sqr(DYNX(W_,84)),
    "tank1.vesselArea^2")-1)*DYNX(W_,73)*sqr(DYNX(W_,41)) ELSE IF DYNX(W_,41)
     <=  -DYNX(W_,48) THEN  -divGuarded(0.0010044335697769957*(1.0+DYNX(DP_,13)-
    divGuarded(sqr(DYNX(W_,76)),"tank1.portAreas[1]^2",sqr(DYNX(W_,84)),
    "tank1.vesselArea^2"))*sqr(DYNX(W_,41)),"0.0010044335697769957*((1.0+tank1.portsData[1].zeta_out-tank1.portAreas[1]^2/tank1.vesselArea^2)*tank1.ports[1].m_flow^2)",
    DYNX(W_,73),"tank1.ports_penetration[1]") ELSE IF 0.0010044335697769957*(
    DYNX(DP_,14)+divGuarded(sqr(DYNX(W_,76)),"tank1.portAreas[1]^2",sqr(
    DYNX(W_,84)),"tank1.vesselArea^2")-1)*DYNX(W_,73) >= divGuarded(
    0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-divGuarded(sqr(
    DYNX(W_,76)),"tank1.portAreas[1]^2",sqr(DYNX(W_,84)),"tank1.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank1.portsData[1].zeta_out-tank1.portAreas[1]^2/tank1.vesselArea^2)",
    DYNX(W_,73),"tank1.ports_penetration[1]") THEN (PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility(tank1.ports[1].m_flow, tank1.m_flow_small, 0.0010044335697769957*((tank1.portsData[1].zeta_in+tank1.portAreas[1]^2/tank1.vesselArea^2-1)*tank1.ports_penetration[1]), (0.0010044335697769957+0.0010044335697769957*(tank1.portsData[1].zeta_out-tank1.portAreas[1]^2/tank1.vesselArea^2))/tank1.ports_penetration[1], false, 1)\nModelica.Fluid.Utiliti...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility(DYNX(W_,41), 
    DYNX(W_,48), 0.0010044335697769957*(DYNX(DP_,14)+divGuarded(sqr(DYNX(W_,76)),
    "tank1.portAreas[1]^2",sqr(DYNX(W_,84)),"tank1.vesselArea^2")-1)*DYNX(W_,73),
     divGuarded(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,13)-
    divGuarded(sqr(DYNX(W_,76)),"tank1.portAreas[1]^2",sqr(DYNX(W_,84)),
    "tank1.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank1.portsData[1].zeta_out-tank1.portAreas[1]^2/tank1.vesselArea^2)",
    DYNX(W_,73),"tank1.ports_penetration[1]"), false, 1)) ELSE  -
    (PushModelContext(1,"Modelica.Fluid.Utilities.regSquare2.regSquare2_utility( -tank1.ports[1].m_flow, tank1.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank1.portsData[1].zeta_out-tank1.portAreas[1]^2/tank1.vesselArea^2))/tank1.ports_penetration[1], 0.0010044335697769957*((tank1.portsData[1].zeta_in+tank1.portAreas[1]^2/tank1.vesselArea^2-1)*tank1.ports_penetration[1]), false, 1)\nModelica.Fluid.Utili...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility( -DYNX(W_,41), 
    DYNX(W_,48), divGuarded(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,13)-divGuarded(sqr(DYNX(W_,76)),"tank1.portAreas[1]^2",sqr(
    DYNX(W_,84)),"tank1.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank1.portsData[1].zeta_out-tank1.portAreas[1]^2/tank1.vesselArea^2)",
    DYNX(W_,73),"tank1.ports_penetration[1]"), 0.0010044335697769957*(
    DYNX(DP_,14)+divGuarded(sqr(DYNX(W_,76)),"tank1.portAreas[1]^2",sqr(
    DYNX(W_,84)),"tank1.vesselArea^2")-1)*DYNX(W_,73), false, 1))),
    "0.5*smooth(2, smooth(2, (if noEvent(tank1.ports[1].m_flow >= tank1.m_flow_small) then 0.0010044335697769957*((tank1.portsData[1].zeta_in+tank1.portAreas[1]^2/tank1.vesselArea^2-1)*tank1.ports_penetration[1]*tank1.ports[1].m_flow^2) else (if noEvent(tank1.ports[1].m_flow <=  -tank1.m_flow_small) then  -0.0010044335697769957*((1.0+tank1.portsData[1].zeta_out-tank1.portAreas[1]^2/tank1.vesselArea^...",
    sqr(DYNX(W_,76)),"tank1.portAreas[1]^2")) ELSE IF DYNX(W_,88) THEN 
    DYNX(W_,42)-DYNX(W_,79) ELSE DYNX(W_,41);
  PopModelContext();
  SetVector(residue__, 1, DYNX(DYNhelp,128));
  SetVector(residue__, 2, DYNX(DYNhelp,129));

  { /* No analytic Jacobian available*/
  SolveNonLinearSystemOfEquationsMixed(Jacobian__, 0, 0, 0, residue__, x__,"Tag: simulation.nonlinear[2]");
  DYNX(W_,123) = GetVector(x__, 1);
  DYNX(W_,181) = GetVector(x__, 2);
  EndNonLinearSystemOfEquations(residue__, x__);
   /* End of Non-Linear Equation Block */ }



  DYNX(W_,151) = IF DYNX(W_,166) THEN DYNX(X_,2)-DYNX(DP_,28) ELSE IF 
    DYNX(W_,169) THEN  -DYNX(W_,41) ELSE 9.869232667160129E-06*(DYNX(W_,123)-
    DYNX(W_,160))*(DYNX(DP_,28)-DYNX(X_,2));
  DYNX(W_,70) = IF DYNX(W_,85) THEN DYNX(X_,0)-DYNX(DP_,12) ELSE IF DYNX(W_,88)
     THEN DYNX(W_,41) ELSE 9.869232667160129E-06*(DYNX(W_,42)-DYNX(W_,79))*(
    DYNX(DP_,12)-DYNX(X_,0));

  MixedModeStartBoolean
  UpdateVariableNamed(DYNX(W_,169),"tank2.inFlow[1]",  NOT DYNX(W_,166) AND (
    Greater(DYNX(W_,151),"tank2.s[1]", 0,"0", 12) OR DYNX(DP_,28) >= 
    DYNX(W_,164)));
  UpdateVariableNamed(DYNX(W_,88),"tank1.inFlow[1]",  NOT DYNX(W_,85) AND (
    Greater(DYNX(W_,70),"tank1.s[1]", 0,"0", 13) OR DYNX(DP_,12) >= DYNX(W_,83)));
  MixedModeInit(2, DYNX(DYNhelp,130))
  ThetaMixedCross(0,12)
  ThetaMixedCross(1,13)
  MixedModeEndBoolean
  UpdateReal(DYNX(W_,151), 1)
  UpdateReal(DYNX(W_,123), 2)
  UpdateReal(DYNX(W_,70), 3)
  UpdateReal(DYNX(W_,42), 4)
  UpdateReal(DYNX(W_,181), 5)
  UpdateReal(DYNX(W_,41), 6)
EndMixedSystemOfEquations

DYNX(W_,319) = DYNX(DP_,86)*DYNX(W_,316);
DYNX(W_,331) = IF DYNX(W_,332) THEN 0 ELSE divGuarded(DYNX(W_,327)*(DYNX(W_,316)
  -DYNX(X_,7)),"pid_Tank2.D.k*(feedback_Tank2.y-pid_Tank2.D.x)",DYNX(W_,328),
  "pid_Tank2.D.T");
DYNX(W_,334) = DYNX(DP_,88)*DYNX(W_,319)+DYNX(DP_,89)*DYNX(X_,6)+DYNX(DP_,90)*
  DYNX(W_,331);
DYNX(W_,287) =  -DYNX(W_,333)*DYNX(W_,334);
AssertModelica(LessEqual(fabs(Realsum( RealScalarArray ( 1, fabs(DYNX(W_,287))))
  -Realmax( RealScalarArray ( 1, fabs(DYNX(W_,287))))),"abs(sum({abs(x2_inlet.ports[1].m_flow)})-max({abs(x2_inlet.ports[1].m_flow)}))",
   1E-60,"1E-60", 14),"abs(sum({abs(x2_inlet.ports[1].m_flow)})-max({abs(x2_inlet.ports[1].m_flow)})) <= 1E-60",
   "FlowSource only supports one connection with flow");
PopAllMarks();
DYNX(W_,118) = DYNX(W_,125)-DYNX(W_,41)-DYNX(W_,287);
DYNX(W_,93) = 0.0010044335697769957*DYNX(W_,118);
 /* Linear system of equations to solve. */
DYNX(F_,2) = RememberSimple_(DYNX(F_,2), 3);
SolveScalarLinearParametric( -DYNX(DP_,24)," -tank2.crossArea",  -DYNX(W_,93),
  " -der(tank2.V)", DYNX(F_,2),"der(tank2.level)");
 /* End of Equation Block */ 

DYNX(W_,86) = GreaterEqual(DYNX(X_,0),"tank1.level", DYNX(DP_,16),
  "tank1.portsData[2].height", 15);
DYNX(DYNhelp,132) = RealBmax(0, DYNX(X_,0)-DYNX(DP_,16));
DYNX(W_,80) = 995.586*DYNX(DYNhelp,132)*DYNX(DP_,2)+DYNX(W_,12);
DYNX(W_,74) = IF DYNX(X_,0)-DYNX(DP_,16)-0.1*DYNX(DP_,15) > 0.1*DYNX(DP_,15)
   THEN 1 ELSE IF DYNX(X_,0)-DYNX(DP_,16)-0.1*DYNX(DP_,15) < (-0.1)*DYNX(DP_,15)
   THEN 0.001 ELSE IF 0.1*DYNX(DP_,15) > 0 THEN 0.5005+divGuarded((-0.24975)*(
  DYNX(X_,0)-DYNX(DP_,16)-0.1*DYNX(DP_,15))*(sqr(divGuarded(DYNX(X_,0)-
  DYNX(DP_,16)-0.1*DYNX(DP_,15),"tank1.level-tank1.portsData[2].height-0.1*tank1.portsData[2].diameter",
  0.1*DYNX(DP_,15),"0.1*tank1.portsData[2].diameter"))-3),"(-0.24975)*((tank1.level-tank1.portsData[2].height-0.1*tank1.portsData[2].diameter)*(((tank1.level-tank1.portsData[2].height-0.1*tank1.portsData[2].diameter)/(0.1*tank1.portsData[2].diameter))^2-3))",
  0.1*DYNX(DP_,15),"0.1*tank1.portsData[2].diameter") ELSE 0.5005;

MixedSystemOfEquations(4, DYNX(DYNhelp,133))

  { /* Non-linear system of equations to solve. */
  /* Tag: simulation.nonlinear[3] */
  /* Introducing 2 common subexpressions used in 0 expressions */
  /* Of the common subexpressions 2 are reals, 0 are integers, and 0
     are booleans. */
  const char*const varnames_[]={"R1.dp"};
  const double nominal_[]={100000.0};
  NonLinearSystemOfEquations(Jacobian__, residue__, x__, 1, 0, 1, 3, 10, 
    DYNX(DYNhelp,137), 35, DYNX(did_->helpvari_vec,47), 23);
  SetInitVector(x__, 1, DYNX(W_,199), Remember_(DYNX(W_,199), 4));
  Residues;
    DYNX(W_,45) = DYNX(W_,199)+DYNX(DP_,49);
    DYNX(DYNhelp,172) = (PushModelContext(1,"Modelica.Fluid.Fittings.BaseClasses.GenericResistances.VolumeFlowRate.massFlowRate(R1.dp, R1.a, R1.b, 995.586, 995.586, R1.dp_small, R1.m_flow_small)")
      Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0MFLOW
      (Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0INx_0con
      (DYNX(DP_,45), DYNX(DP_,46), DYNX(W_,205)), Modelica_Fluid_Dissipation_PressureLoss_General_dpx_0volumeFlowRatex_0INx_0var
      (Modelica_Fluid_Utilities_regStep(DYNX(W_,199), 995.586, 995.586, 
      DYNX(W_,205))), DYNX(W_,199)));
    PopModelContext();
    DYNX(W_,44) =  -DYNX(DYNhelp,172);
  DYNX(DYNhelp,173) = IF DYNX(W_,86) THEN DYNX(W_,45)-(DYNX(W_,80)+divGuarded(
    0.5*(IF DYNX(W_,44) >= DYNX(W_,48) THEN 0.0010044335697769957*(DYNX(DP_,18)+
    divGuarded(sqr(DYNX(W_,77)),"tank1.portAreas[2]^2",sqr(DYNX(W_,84)),
    "tank1.vesselArea^2")-1)*DYNX(W_,74)*sqr(DYNX(W_,44)) ELSE IF DYNX(W_,44)
     <=  -DYNX(W_,48) THEN  -divGuarded(0.0010044335697769957*(1.0+DYNX(DP_,17)-
    divGuarded(sqr(DYNX(W_,77)),"tank1.portAreas[2]^2",sqr(DYNX(W_,84)),
    "tank1.vesselArea^2"))*sqr(DYNX(W_,44)),"0.0010044335697769957*((1.0+tank1.portsData[2].zeta_out-tank1.portAreas[2]^2/tank1.vesselArea^2)*tank1.ports[2].m_flow^2)",
    DYNX(W_,74),"tank1.ports_penetration[2]") ELSE IF 0.0010044335697769957*(
    DYNX(DP_,18)+divGuarded(sqr(DYNX(W_,77)),"tank1.portAreas[2]^2",sqr(
    DYNX(W_,84)),"tank1.vesselArea^2")-1)*DYNX(W_,74) >= divGuarded(
    0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,17)-divGuarded(sqr(
    DYNX(W_,77)),"tank1.portAreas[2]^2",sqr(DYNX(W_,84)),"tank1.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank1.portsData[2].zeta_out-tank1.portAreas[2]^2/tank1.vesselArea^2)",
    DYNX(W_,74),"tank1.ports_penetration[2]") THEN (PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility(tank1.ports[2].m_flow, tank1.m_flow_small, 0.0010044335697769957*((tank1.portsData[2].zeta_in+tank1.portAreas[2]^2/tank1.vesselArea^2-1)*tank1.ports_penetration[2]), (0.0010044335697769957+0.0010044335697769957*(tank1.portsData[2].zeta_out-tank1.portAreas[2]^2/tank1.vesselArea^2))/tank1.ports_penetration[2], false, 1)\nModelica.Fluid.Utiliti...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility(DYNX(W_,44), 
    DYNX(W_,48), 0.0010044335697769957*(DYNX(DP_,18)+divGuarded(sqr(DYNX(W_,77)),
    "tank1.portAreas[2]^2",sqr(DYNX(W_,84)),"tank1.vesselArea^2")-1)*DYNX(W_,74),
     divGuarded(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,17)-
    divGuarded(sqr(DYNX(W_,77)),"tank1.portAreas[2]^2",sqr(DYNX(W_,84)),
    "tank1.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank1.portsData[2].zeta_out-tank1.portAreas[2]^2/tank1.vesselArea^2)",
    DYNX(W_,74),"tank1.ports_penetration[2]"), false, 1)) ELSE  -
    (PushModelContext(1,"Modelica.Fluid.Utilities.regSquare2.regSquare2_utility( -tank1.ports[2].m_flow, tank1.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank1.portsData[2].zeta_out-tank1.portAreas[2]^2/tank1.vesselArea^2))/tank1.ports_penetration[2], 0.0010044335697769957*((tank1.portsData[2].zeta_in+tank1.portAreas[2]^2/tank1.vesselArea^2-1)*tank1.ports_penetration[2]), false, 1)\nModelica.Fluid.Utili...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility( -DYNX(W_,44), 
    DYNX(W_,48), divGuarded(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,17)-divGuarded(sqr(DYNX(W_,77)),"tank1.portAreas[2]^2",sqr(
    DYNX(W_,84)),"tank1.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank1.portsData[2].zeta_out-tank1.portAreas[2]^2/tank1.vesselArea^2)",
    DYNX(W_,74),"tank1.ports_penetration[2]"), 0.0010044335697769957*(
    DYNX(DP_,18)+divGuarded(sqr(DYNX(W_,77)),"tank1.portAreas[2]^2",sqr(
    DYNX(W_,84)),"tank1.vesselArea^2")-1)*DYNX(W_,74), false, 1))),
    "0.5*smooth(2, smooth(2, (if noEvent(tank1.ports[2].m_flow >= tank1.m_flow_small) then 0.0010044335697769957*((tank1.portsData[2].zeta_in+tank1.portAreas[2]^2/tank1.vesselArea^2-1)*tank1.ports_penetration[2]*tank1.ports[2].m_flow^2) else (if noEvent(tank1.ports[2].m_flow <=  -tank1.m_flow_small) then  -0.0010044335697769957*((1.0+tank1.portsData[2].zeta_out-tank1.portAreas[2]^2/tank1.vesselArea^...",
    sqr(DYNX(W_,77)),"tank1.portAreas[2]^2")) ELSE IF DYNX(W_,89) THEN 
    DYNX(W_,45)-DYNX(W_,80) ELSE DYNX(W_,44);
  PopModelContext();
  SetVector(residue__, 1, DYNX(DYNhelp,173));

  { /* No analytic Jacobian available*/
  SolveNonLinearSystemOfEquationsMixed(Jacobian__, 0, 0, 0, residue__, x__,"Tag: simulation.nonlinear[3]");
  DYNX(W_,199) = GetVector(x__, 1);
  EndNonLinearSystemOfEquations(residue__, x__);
   /* End of Non-Linear Equation Block */ }



  DYNX(W_,71) = IF DYNX(W_,86) THEN DYNX(X_,0)-DYNX(DP_,16) ELSE IF DYNX(W_,89)
     THEN DYNX(W_,44) ELSE 9.869232667160129E-06*(DYNX(W_,45)-DYNX(W_,80))*(
    DYNX(DP_,16)-DYNX(X_,0));

  MixedModeStartBoolean
  UpdateVariableNamed(DYNX(W_,89),"tank1.inFlow[2]",  NOT DYNX(W_,86) AND (
    Greater(DYNX(W_,71),"tank1.s[2]", 0,"0", 16) OR DYNX(DP_,16) >= DYNX(W_,83)));
  MixedModeInit(1, DYNX(DYNhelp,174))
  ThetaMixedCross(0,16)
  MixedModeEndBoolean
  UpdateReal(DYNX(W_,71), 1)
  UpdateReal(DYNX(W_,45), 2)
  UpdateReal(DYNX(W_,199), 3)
  UpdateReal(DYNX(W_,44), 4)
EndMixedSystemOfEquations

DYNX(W_,299) = DYNX(DP_,74)*DYNX(W_,296);
DYNX(W_,311) = IF DYNX(W_,312) THEN 0 ELSE divGuarded(DYNX(W_,307)*(DYNX(W_,296)
  -DYNX(X_,5)),"pid_Tank1.D.k*(pid_Tank1.u-pid_Tank1.D.x)",DYNX(W_,308),
  "pid_Tank1.D.T");
DYNX(W_,314) = DYNX(DP_,76)*DYNX(W_,299)+DYNX(DP_,77)*DYNX(X_,4)+DYNX(DP_,78)*
  DYNX(W_,311);
DYNX(W_,268) =  -DYNX(W_,313)*DYNX(W_,314);
AssertModelica(LessEqual(fabs(Realsum( RealScalarArray ( 1, fabs(DYNX(W_,268))))
  -Realmax( RealScalarArray ( 1, fabs(DYNX(W_,268))))),"abs(sum({abs(x1_inlet.ports[1].m_flow)})-max({abs(x1_inlet.ports[1].m_flow)}))",
   1E-60,"1E-60", 17),"abs(sum({abs(x1_inlet.ports[1].m_flow)})-max({abs(x1_inlet.ports[1].m_flow)})) <= 1E-60",
   "FlowSource only supports one connection with flow");
PopAllMarks();
DYNX(W_,36) = DYNX(W_,41)+DYNX(W_,44)-DYNX(W_,268);
DYNX(W_,11) = 0.0010044335697769957*DYNX(W_,36);
 /* Linear system of equations to solve. */
DYNX(F_,0) = RememberSimple_(DYNX(F_,0), 5);
SolveScalarLinearParametric( -DYNX(DP_,8)," -tank1.crossArea",  -DYNX(W_,11),
  " -der(tank1.V)", DYNX(F_,0),"der(tank1.level)");
 /* End of Equation Block */ 

DYNX(F_,4) = DYNX(W_,300)*DYNX(W_,296);
DYNX(W_,124) = 4184*(DYNX(X_,3)-273.15);
DYNX(W_,43) = 4184*(DYNX(X_,1)-273.15);
DYNX(W_,50) = DYNX(W_,41)*(IF DYNX(W_,41) > 0.0 THEN DYNX(W_,124) ELSE 
  DYNX(W_,43));
DYNX(W_,51) = DYNX(W_,44)*(IF DYNX(W_,44) > 0.0 THEN DYNX(W_,191) ELSE 
  DYNX(W_,43));
DYNX(W_,52) =  -DYNX(W_,268)*(IF  -DYNX(W_,268) > 0.0 THEN DYNX(W_,270) ELSE 
  DYNX(W_,43));
if (NewParameters_) {
DYNX(DYNhelp,175) = divinvGuarded(DYNX(W_,76),"tank1.portAreas[1]");
}
DYNX(W_,64) = DYNX(DYNhelp,175)*0.0010044335697769957*DYNX(W_,41);
DYNX(W_,67) = DYNX(W_,41)*(0.5*DYNX(W_,64)*DYNX(W_,64)+DYNX(DP_,2)*DYNX(DP_,12));
if (NewParameters_) {
DYNX(DYNhelp,176) = divinvGuarded(DYNX(W_,77),"tank1.portAreas[2]");
}
DYNX(W_,65) = DYNX(DYNhelp,176)*0.0010044335697769957*DYNX(W_,44);
DYNX(W_,68) = DYNX(W_,44)*(0.5*DYNX(W_,65)*DYNX(W_,65)+DYNX(DP_,2)*DYNX(DP_,16));
if (NewParameters_) {
DYNX(DYNhelp,177) = divinvGuarded(DYNX(W_,78),"tank1.portAreas[3]");
}
DYNX(W_,66) = DYNX(DYNhelp,177)*(-0.0010044335697769957)*DYNX(W_,268);
DYNX(W_,69) =  -DYNX(W_,268)*(0.5*DYNX(W_,66)*DYNX(W_,66)+DYNX(DP_,2)*
  DYNX(DP_,20));
DYNX(W_,34) = DYNX(W_,50)+DYNX(W_,51)+DYNX(W_,52)+DYNX(W_,67)+DYNX(W_,68)+
  DYNX(W_,69);
DYNX(W_,25) = 4184*(DYNX(X_,1)-273.15);
DYNX(W_,10) = DYNX(DP_,8)*DYNX(X_,0);
DYNX(W_,35) = 995.586*DYNX(W_,10);
 /* Linear system of equations to solve. */
DYNX(W_,26) = RememberSimple_(DYNX(W_,26), 6);
SolveScalarLinear( -DYNX(W_,35)," -tank1.m", DYNX(W_,36)*DYNX(W_,25)-DYNX(W_,34),
  "der(tank1.m)*tank1.medium.u-der(tank1.U)", DYNX(W_,26),"der(tank1.medium.u)");
 /* End of Equation Block */ 

DYNX(F_,1) = 0.0002390057361376673*DYNX(W_,26);
DYNX(W_,131) =  -DYNX(W_,41)*(IF  -DYNX(W_,41) > 0.0 THEN DYNX(W_,43) ELSE 
  DYNX(W_,124));
DYNX(W_,132) = DYNX(W_,125)*(IF DYNX(W_,125) > 0.0 THEN DYNX(W_,225) ELSE 
  DYNX(W_,124));
DYNX(W_,133) =  -DYNX(W_,287)*(IF  -DYNX(W_,287) > 0.0 THEN DYNX(W_,289) ELSE 
  DYNX(W_,124));
if (NewParameters_) {
DYNX(DYNhelp,178) = divinvGuarded(DYNX(W_,157),"tank2.portAreas[1]");
}
DYNX(W_,145) = DYNX(DYNhelp,178)*(-0.0010044335697769957)*DYNX(W_,41);
DYNX(W_,148) =  -DYNX(W_,41)*(0.5*DYNX(W_,145)*DYNX(W_,145)+DYNX(DP_,2)*
  DYNX(DP_,28));
if (NewParameters_) {
DYNX(DYNhelp,179) = divinvGuarded(DYNX(W_,158),"tank2.portAreas[2]");
}
DYNX(W_,146) = DYNX(DYNhelp,179)*0.0010044335697769957*DYNX(W_,125);
DYNX(W_,149) = DYNX(W_,125)*(0.5*DYNX(W_,146)*DYNX(W_,146)+DYNX(DP_,2)*
  DYNX(DP_,32));
if (NewParameters_) {
DYNX(DYNhelp,180) = divinvGuarded(DYNX(W_,159),"tank2.portAreas[3]");
}
DYNX(W_,147) = DYNX(DYNhelp,180)*(-0.0010044335697769957)*DYNX(W_,287);
DYNX(W_,150) =  -DYNX(W_,287)*(0.5*DYNX(W_,147)*DYNX(W_,147)+DYNX(DP_,2)*
  DYNX(DP_,36));
DYNX(W_,116) = DYNX(W_,131)+DYNX(W_,132)+DYNX(W_,133)+DYNX(W_,148)+DYNX(W_,149)+
  DYNX(W_,150);
DYNX(W_,107) = 4184*(DYNX(X_,3)-273.15);
DYNX(W_,92) = DYNX(DP_,24)*DYNX(X_,2);
DYNX(W_,117) = 995.586*DYNX(W_,92);
 /* Linear system of equations to solve. */
DYNX(W_,108) = RememberSimple_(DYNX(W_,108), 7);
SolveScalarLinear( -DYNX(W_,117)," -tank2.m", DYNX(W_,118)*DYNX(W_,107)-
  DYNX(W_,116),"der(tank2.m)*tank2.medium.u-der(tank2.U)", DYNX(W_,108),
  "der(tank2.medium.u)");
 /* End of Equation Block */ 

DYNX(F_,3) = 0.0002390057361376673*DYNX(W_,108);

AcceptedSection1
DYNX(W_,87) = GreaterEqual(DYNX(X_,0),"tank1.level", DYNX(DP_,20),
  "tank1.portsData[3].height", 18);
DYNX(DYNhelp,181) = RealBmax(0, DYNX(X_,0)-DYNX(DP_,20));
DYNX(W_,81) = 995.586*DYNX(DYNhelp,181)*DYNX(DP_,2)+DYNX(W_,12);
DYNX(W_,75) = IF DYNX(X_,0)-DYNX(DP_,20)-0.1*DYNX(DP_,19) > 0.1*DYNX(DP_,19)
   THEN 1 ELSE IF DYNX(X_,0)-DYNX(DP_,20)-0.1*DYNX(DP_,19) < (-0.1)*DYNX(DP_,19)
   THEN 0.001 ELSE IF 0.1*DYNX(DP_,19) > 0 THEN 0.5005+divGuarded((-0.24975)*(
  DYNX(X_,0)-DYNX(DP_,20)-0.1*DYNX(DP_,19))*(sqr(divGuarded(DYNX(X_,0)-
  DYNX(DP_,20)-0.1*DYNX(DP_,19),"tank1.level-tank1.portsData[3].height-0.1*tank1.portsData[3].diameter",
  0.1*DYNX(DP_,19),"0.1*tank1.portsData[3].diameter"))-3),"(-0.24975)*((tank1.level-tank1.portsData[3].height-0.1*tank1.portsData[3].diameter)*(((tank1.level-tank1.portsData[3].height-0.1*tank1.portsData[3].diameter)/(0.1*tank1.portsData[3].diameter))^2-3))",
  0.1*DYNX(DP_,19),"0.1*tank1.portsData[3].diameter") ELSE 0.5005;

MixedSystemOfEquations(2, DYNX(DYNhelp,182))
   /* Linear system of equations to solve. */
  /* Introducing 1 common subexpressions used in 0 expressions */
  /* Of the common subexpressions 1 are reals, 0 are integers, and 0
     are booleans. */
  DYNX(DYNhelp,184) = IF DYNX(W_,87) THEN  -(DYNX(W_,81)+divGuarded(0.5*(IF  -
    DYNX(W_,268) >= DYNX(W_,48) THEN 0.0010044335697769957*(DYNX(DP_,22)+
    divGuarded(sqr(DYNX(W_,78)),"tank1.portAreas[3]^2",sqr(DYNX(W_,84)),
    "tank1.vesselArea^2")-1)*DYNX(W_,75)*sqr(DYNX(W_,268)) ELSE IF  -
    DYNX(W_,268) <=  -DYNX(W_,48) THEN  -divGuarded(0.0010044335697769957*(1.0+
    DYNX(DP_,21)-divGuarded(sqr(DYNX(W_,78)),"tank1.portAreas[3]^2",sqr(
    DYNX(W_,84)),"tank1.vesselArea^2"))*sqr(DYNX(W_,268)),"0.0010044335697769957*((1.0+tank1.portsData[3].zeta_out-tank1.portAreas[3]^2/tank1.vesselArea^2)*x1_inlet.ports[1].m_flow^2)",
    DYNX(W_,75),"tank1.ports_penetration[3]") ELSE IF 0.0010044335697769957*(
    DYNX(DP_,22)+divGuarded(sqr(DYNX(W_,78)),"tank1.portAreas[3]^2",sqr(
    DYNX(W_,84)),"tank1.vesselArea^2")-1)*DYNX(W_,75) >= divGuarded(
    0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,21)-divGuarded(sqr(
    DYNX(W_,78)),"tank1.portAreas[3]^2",sqr(DYNX(W_,84)),"tank1.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank1.portsData[3].zeta_out-tank1.portAreas[3]^2/tank1.vesselArea^2)",
    DYNX(W_,75),"tank1.ports_penetration[3]") THEN (PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility( -x1_inlet.ports[1].m_flow, tank1.m_flow_small, 0.0010044335697769957*((tank1.portsData[3].zeta_in+tank1.portAreas[3]^2/tank1.vesselArea^2-1)*tank1.ports_penetration[3]), (0.0010044335697769957+0.0010044335697769957*(tank1.portsData[3].zeta_out-tank1.portAreas[3]^2/tank1.vesselArea^2))/tank1.ports_penetration[3], false, 1)\nModelica.Fluid.Ut...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility( -DYNX(W_,268), 
    DYNX(W_,48), 0.0010044335697769957*(DYNX(DP_,22)+divGuarded(sqr(DYNX(W_,78)),
    "tank1.portAreas[3]^2",sqr(DYNX(W_,84)),"tank1.vesselArea^2")-1)*DYNX(W_,75),
     divGuarded(0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,21)-
    divGuarded(sqr(DYNX(W_,78)),"tank1.portAreas[3]^2",sqr(DYNX(W_,84)),
    "tank1.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank1.portsData[3].zeta_out-tank1.portAreas[3]^2/tank1.vesselArea^2)",
    DYNX(W_,75),"tank1.ports_penetration[3]"), false, 1)) ELSE  -
    (PushModelContext(1,"Modelica.Fluid.Utilities.regSquare2.regSquare2_utility(x1_inlet.ports[1].m_flow, tank1.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank1.portsData[3].zeta_out-tank1.portAreas[3]^2/tank1.vesselArea^2))/tank1.ports_penetration[3], 0.0010044335697769957*((tank1.portsData[3].zeta_in+tank1.portAreas[3]^2/tank1.vesselArea^2-1)*tank1.ports_penetration[3]), false, 1)\nModelica.Fluid.Util...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility(DYNX(W_,268), 
    DYNX(W_,48), divGuarded(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,21)-divGuarded(sqr(DYNX(W_,78)),"tank1.portAreas[3]^2",sqr(
    DYNX(W_,84)),"tank1.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank1.portsData[3].zeta_out-tank1.portAreas[3]^2/tank1.vesselArea^2)",
    DYNX(W_,75),"tank1.ports_penetration[3]"), 0.0010044335697769957*(
    DYNX(DP_,22)+divGuarded(sqr(DYNX(W_,78)),"tank1.portAreas[3]^2",sqr(
    DYNX(W_,84)),"tank1.vesselArea^2")-1)*DYNX(W_,75), false, 1))),
    "0.5*smooth(2, smooth(2, (if noEvent( -x1_inlet.ports[1].m_flow >= tank1.m_flow_small) then 0.0010044335697769957*((tank1.portsData[3].zeta_in+tank1.portAreas[3]^2/tank1.vesselArea^2-1)*tank1.ports_penetration[3]*x1_inlet.ports[1].m_flow^2) else (if noEvent( -x1_inlet.ports[1].m_flow <=  -tank1.m_flow_small) then  -0.0010044335697769957*((1.0+tank1.portsData[3].zeta_out-tank1.portAreas[3]^2/tank...",
    sqr(DYNX(W_,78)),"tank1.portAreas[3]^2")) ELSE IF DYNX(W_,90) THEN  -
    DYNX(W_,81) ELSE  -DYNX(W_,268);
  PopModelContext();
  DYNX(W_,269) = RememberSimple_(DYNX(W_,269), 8);
  SolveScalarLinearMixed(IF DYNX(W_,87) THEN 1.0 ELSE IF DYNX(W_,90) THEN 1.0
     ELSE 0.0,"(if tank1.regularFlow[3] then 1.0 else (if tank1.inFlow[3] then 1.0 else 0.0))",
      -DYNX(DYNhelp,184)," -(if tank1.regularFlow[3] then  -(tank1.vessel_ps_static[3]+0.5*smooth(2, smooth(2, (if noEvent( -x1_inlet.ports[1].m_flow >= tank1.m_flow_small) then 0.0010044335697769957*((tank1.portsData[3].zeta_in+tank1.portAreas[3]^2/tank1.vesselArea^2-1)*tank1.ports_penetration[3]*x1_inlet.ports[1].m_flow^2) else (if noEvent( -x1_inlet.ports[1].m_flow <=  -tank1.m_flow_small) then  -0.001004433569776995...",
     DYNX(W_,269),"x1_inlet.ports[1].p");
   /* End of Equation Block */ 

  DYNX(W_,72) = IF DYNX(W_,87) THEN DYNX(X_,0)-DYNX(DP_,20) ELSE IF DYNX(W_,90)
     THEN  -DYNX(W_,268) ELSE 9.869232667160129E-06*(DYNX(W_,269)-DYNX(W_,81))*(
    DYNX(DP_,20)-DYNX(X_,0));

  MixedModeStartBoolean
  UpdateVariableNamed(DYNX(W_,90),"tank1.inFlow[3]",  NOT DYNX(W_,87) AND (
    Greater(DYNX(W_,72),"tank1.s[3]", 0,"0", 19) OR DYNX(DP_,20) >= DYNX(W_,83)));
  MixedModeInit(1, DYNX(DYNhelp,185))
  ThetaMixedCross(0,19)
  MixedModeEndBoolean
  UpdateReal(DYNX(W_,72), 1)
  UpdateReal(DYNX(W_,269), 2)
EndMixedSystemOfEquations

DYNX(W_,168) = GreaterEqual(DYNX(X_,2),"tank2.level", DYNX(DP_,36),
  "tank2.portsData[3].height", 20);
DYNX(DYNhelp,186) = RealBmax(0, DYNX(X_,2)-DYNX(DP_,36));
DYNX(W_,162) = 995.586*DYNX(DYNhelp,186)*DYNX(DP_,2)+DYNX(W_,94);
DYNX(W_,156) = IF DYNX(X_,2)-DYNX(DP_,36)-0.1*DYNX(DP_,35) > 0.1*DYNX(DP_,35)
   THEN 1 ELSE IF DYNX(X_,2)-DYNX(DP_,36)-0.1*DYNX(DP_,35) < (-0.1)*DYNX(DP_,35)
   THEN 0.001 ELSE IF 0.1*DYNX(DP_,35) > 0 THEN 0.5005+divGuarded((-0.24975)*(
  DYNX(X_,2)-DYNX(DP_,36)-0.1*DYNX(DP_,35))*(sqr(divGuarded(DYNX(X_,2)-
  DYNX(DP_,36)-0.1*DYNX(DP_,35),"tank2.level-tank2.portsData[3].height-0.1*tank2.portsData[3].diameter",
  0.1*DYNX(DP_,35),"0.1*tank2.portsData[3].diameter"))-3),"(-0.24975)*((tank2.level-tank2.portsData[3].height-0.1*tank2.portsData[3].diameter)*(((tank2.level-tank2.portsData[3].height-0.1*tank2.portsData[3].diameter)/(0.1*tank2.portsData[3].diameter))^2-3))",
  0.1*DYNX(DP_,35),"0.1*tank2.portsData[3].diameter") ELSE 0.5005;

MixedSystemOfEquations(2, DYNX(DYNhelp,187))
   /* Linear system of equations to solve. */
  /* Introducing 1 common subexpressions used in 0 expressions */
  /* Of the common subexpressions 1 are reals, 0 are integers, and 0
     are booleans. */
  DYNX(DYNhelp,189) = IF DYNX(W_,168) THEN  -(DYNX(W_,162)+divGuarded(0.5*(IF  -
    DYNX(W_,287) >= DYNX(W_,129) THEN 0.0010044335697769957*(DYNX(DP_,38)+
    divGuarded(sqr(DYNX(W_,159)),"tank2.portAreas[3]^2",sqr(DYNX(W_,165)),
    "tank2.vesselArea^2")-1)*DYNX(W_,156)*sqr(DYNX(W_,287)) ELSE IF  -
    DYNX(W_,287) <=  -DYNX(W_,129) THEN  -divGuarded(0.0010044335697769957*(1.0+
    DYNX(DP_,37)-divGuarded(sqr(DYNX(W_,159)),"tank2.portAreas[3]^2",sqr(
    DYNX(W_,165)),"tank2.vesselArea^2"))*sqr(DYNX(W_,287)),"0.0010044335697769957*((1.0+tank2.portsData[3].zeta_out-tank2.portAreas[3]^2/tank2.vesselArea^2)*x2_inlet.ports[1].m_flow^2)",
    DYNX(W_,156),"tank2.ports_penetration[3]") ELSE IF 0.0010044335697769957*(
    DYNX(DP_,38)+divGuarded(sqr(DYNX(W_,159)),"tank2.portAreas[3]^2",sqr(
    DYNX(W_,165)),"tank2.vesselArea^2")-1)*DYNX(W_,156) >= divGuarded(
    0.0010044335697769957+0.0010044335697769957*(DYNX(DP_,37)-divGuarded(sqr(
    DYNX(W_,159)),"tank2.portAreas[3]^2",sqr(DYNX(W_,165)),"tank2.vesselArea^2")),
    "0.0010044335697769957+0.0010044335697769957*(tank2.portsData[3].zeta_out-tank2.portAreas[3]^2/tank2.vesselArea^2)",
    DYNX(W_,156),"tank2.ports_penetration[3]") THEN (PushModelContext(1,
    "Modelica.Fluid.Utilities.regSquare2.regSquare2_utility( -x2_inlet.ports[1].m_flow, tank2.m_flow_small, 0.0010044335697769957*((tank2.portsData[3].zeta_in+tank2.portAreas[3]^2/tank2.vesselArea^2-1)*tank2.ports_penetration[3]), (0.0010044335697769957+0.0010044335697769957*(tank2.portsData[3].zeta_out-tank2.portAreas[3]^2/tank2.vesselArea^2))/tank2.ports_penetration[3], false, 1)\nModelica.Fluid.Ut...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility( -DYNX(W_,287), 
    DYNX(W_,129), 0.0010044335697769957*(DYNX(DP_,38)+divGuarded(sqr(
    DYNX(W_,159)),"tank2.portAreas[3]^2",sqr(DYNX(W_,165)),"tank2.vesselArea^2")
    -1)*DYNX(W_,156), divGuarded(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,37)-divGuarded(sqr(DYNX(W_,159)),"tank2.portAreas[3]^2",sqr(
    DYNX(W_,165)),"tank2.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank2.portsData[3].zeta_out-tank2.portAreas[3]^2/tank2.vesselArea^2)",
    DYNX(W_,156),"tank2.ports_penetration[3]"), false, 1)) ELSE  -
    (PushModelContext(1,"Modelica.Fluid.Utilities.regSquare2.regSquare2_utility(x2_inlet.ports[1].m_flow, tank2.m_flow_small, (0.0010044335697769957+0.0010044335697769957*(tank2.portsData[3].zeta_out-tank2.portAreas[3]^2/tank2.vesselArea^2))/tank2.ports_penetration[3], 0.0010044335697769957*((tank2.portsData[3].zeta_in+tank2.portAreas[3]^2/tank2.vesselArea^2-1)*tank2.ports_penetration[3]), false, 1)\nModelica.Fluid.Util...")
    Modelica_Fluid_Utilities_regSquare2_regSquare2x_0utility(DYNX(W_,287), 
    DYNX(W_,129), divGuarded(0.0010044335697769957+0.0010044335697769957*(
    DYNX(DP_,37)-divGuarded(sqr(DYNX(W_,159)),"tank2.portAreas[3]^2",sqr(
    DYNX(W_,165)),"tank2.vesselArea^2")),"0.0010044335697769957+0.0010044335697769957*(tank2.portsData[3].zeta_out-tank2.portAreas[3]^2/tank2.vesselArea^2)",
    DYNX(W_,156),"tank2.ports_penetration[3]"), 0.0010044335697769957*(
    DYNX(DP_,38)+divGuarded(sqr(DYNX(W_,159)),"tank2.portAreas[3]^2",sqr(
    DYNX(W_,165)),"tank2.vesselArea^2")-1)*DYNX(W_,156), false, 1))),
    "0.5*smooth(2, smooth(2, (if noEvent( -x2_inlet.ports[1].m_flow >= tank2.m_flow_small) then 0.0010044335697769957*((tank2.portsData[3].zeta_in+tank2.portAreas[3]^2/tank2.vesselArea^2-1)*tank2.ports_penetration[3]*x2_inlet.ports[1].m_flow^2) else (if noEvent( -x2_inlet.ports[1].m_flow <=  -tank2.m_flow_small) then  -0.0010044335697769957*((1.0+tank2.portsData[3].zeta_out-tank2.portAreas[3]^2/tank...",
    sqr(DYNX(W_,159)),"tank2.portAreas[3]^2")) ELSE IF DYNX(W_,171) THEN  -
    DYNX(W_,162) ELSE  -DYNX(W_,287);
  PopModelContext();
  DYNX(W_,288) = RememberSimple_(DYNX(W_,288), 9);
  SolveScalarLinearMixed(IF DYNX(W_,168) THEN 1.0 ELSE IF DYNX(W_,171) THEN 1.0
     ELSE 0.0,"(if tank2.regularFlow[3] then 1.0 else (if tank2.inFlow[3] then 1.0 else 0.0))",
      -DYNX(DYNhelp,189)," -(if tank2.regularFlow[3] then  -(tank2.vessel_ps_static[3]+0.5*smooth(2, smooth(2, (if noEvent( -x2_inlet.ports[1].m_flow >= tank2.m_flow_small) then 0.0010044335697769957*((tank2.portsData[3].zeta_in+tank2.portAreas[3]^2/tank2.vesselArea^2-1)*tank2.ports_penetration[3]*x2_inlet.ports[1].m_flow^2) else (if noEvent( -x2_inlet.ports[1].m_flow <=  -tank2.m_flow_small) then  -0.001004433569776995...",
     DYNX(W_,288),"x2_inlet.ports[1].p");
   /* End of Equation Block */ 

  DYNX(W_,153) = IF DYNX(W_,168) THEN DYNX(X_,2)-DYNX(DP_,36) ELSE IF 
    DYNX(W_,171) THEN  -DYNX(W_,287) ELSE 9.869232667160129E-06*(DYNX(W_,288)-
    DYNX(W_,162))*(DYNX(DP_,36)-DYNX(X_,2));

  MixedModeStartBoolean
  UpdateVariableNamed(DYNX(W_,171),"tank2.inFlow[3]",  NOT DYNX(W_,168) AND (
    Greater(DYNX(W_,153),"tank2.s[3]", 0,"0", 21) OR DYNX(DP_,36) >= 
    DYNX(W_,164)));
  MixedModeInit(1, DYNX(DYNhelp,190))
  ThetaMixedCross(0,21)
  MixedModeEndBoolean
  UpdateReal(DYNX(W_,153), 1)
  UpdateReal(DYNX(W_,288), 2)
EndMixedSystemOfEquations


AssertModelica(GreaterEqual(DYNX(W_,269),"x1_inlet.ports[1].p", 0.0,"0.0", 22),
  "x1_inlet.ports[1].p >= 0.0", StringAdd(StringAdd(StringAdd(StringAdd(
  StringAdd(StringAdd("Pressure (= ",Real2String2(DYNX(W_,269), true, 0)),
  " Pa) of medium \""),"SimpleLiquidWater"),"\" is negative\n(Temperature = "),
  Real2String2(DYNX(DP_,61), true, 0))," K)"));
PopAllMarks();
AssertModelica(GreaterEqual(DYNX(W_,288),"x2_inlet.ports[1].p", 0.0,"0.0", 23),
  "x2_inlet.ports[1].p >= 0.0", StringAdd(StringAdd(StringAdd(StringAdd(
  StringAdd(StringAdd("Pressure (= ",Real2String2(DYNX(W_,288), true, 0)),
  " Pa) of medium \""),"SimpleLiquidWater"),"\" is negative\n(Temperature = "),
  Real2String2(DYNX(DP_,64), true, 0))," K)"));
PopAllMarks();
AcceptedSection2
DYNX(W_,115) = DYNX(W_,117)*DYNX(W_,107);
DYNX(W_,33) = DYNX(W_,35)*DYNX(W_,25);
DYNX(W_,31) = DYNX(X_,1)-273.15;
if (NewParameters_) {
DYNX(DYNhelp,191) = sqrtGuarded(DYNX(DP_,8)*3.141592653589793,"tank1.crossArea*3.141592653589793");
}
DYNX(W_,55) = DYNX(DP_,8)+2.0*DYNX(DYNhelp,191)*DYNX(X_,0);
DYNX(W_,113) = DYNX(X_,3)-273.15;
if (NewParameters_) {
DYNX(DYNhelp,192) = sqrtGuarded(DYNX(DP_,24)*3.141592653589793,"tank2.crossArea*3.141592653589793");
}
DYNX(W_,136) = DYNX(DP_,24)+2.0*DYNX(DYNhelp,192)*DYNX(X_,2);
DYNX(W_,182) = (-0.0010044335697769957)*DYNX(W_,41);
DYNX(W_,185) = 273.15+0.0002390057361376673*DYNX(W_,43);
DYNX(W_,183) = IF  -DYNX(W_,41) > DYNX(W_,178) THEN DYNX(W_,185) ELSE IF  -
  DYNX(W_,41) <  -DYNX(W_,178) THEN 273.15+0.0002390057361376673*DYNX(W_,124)
   ELSE IF DYNX(W_,178) > 0 THEN 136.575+divGuarded((-0.25)*DYNX(W_,41)*(sqr(
  divGuarded(DYNX(W_,41),"tank1.ports[1].m_flow",DYNX(W_,178),"R3.m_flow_small"))
  -3)*(273.15+0.0002390057361376673*DYNX(W_,124)-DYNX(W_,185)),"(-0.25)*(tank1.ports[1].m_flow*((tank1.ports[1].m_flow/R3.m_flow_small)^2-3)*(273.15+0.0002390057361376673*tank2.ports[1].h_outflow-R3.state_a.T))",
  DYNX(W_,178),"R3.m_flow_small")+0.5*(DYNX(W_,185)+0.0002390057361376673*
  DYNX(W_,124)) ELSE 136.575+0.5*(DYNX(W_,185)+0.0002390057361376673*
  DYNX(W_,124));
DYNX(W_,186) = 273.15+0.0002390057361376673*DYNX(W_,124);
DYNX(W_,184) = IF DYNX(W_,41) > DYNX(W_,178) THEN DYNX(W_,186) ELSE IF 
  DYNX(W_,41) <  -DYNX(W_,178) THEN 273.15+0.0002390057361376673*DYNX(W_,43)
   ELSE IF DYNX(W_,178) > 0 THEN 136.575+divGuarded(0.25*DYNX(W_,41)*(sqr(
  divGuarded(DYNX(W_,41),"tank1.ports[1].m_flow",DYNX(W_,178),"R3.m_flow_small"))
  -3)*(273.15+0.0002390057361376673*DYNX(W_,43)-DYNX(W_,186)),"0.25*(tank1.ports[1].m_flow*((tank1.ports[1].m_flow/R3.m_flow_small)^2-3)*(273.15+0.0002390057361376673*tank1.ports[1].h_outflow-R3.state_b.T))",
  DYNX(W_,178),"R3.m_flow_small")+0.5*(DYNX(W_,186)+0.0002390057361376673*
  DYNX(W_,43)) ELSE 136.575+0.5*(DYNX(W_,186)+0.0002390057361376673*DYNX(W_,43));
DYNX(W_,200) = (-0.0010044335697769957)*DYNX(W_,44);
DYNX(W_,203) = 273.15+0.0002390057361376673*DYNX(W_,43);
DYNX(W_,201) = IF  -DYNX(W_,44) > DYNX(W_,196) THEN DYNX(W_,203) ELSE IF  -
  DYNX(W_,44) <  -DYNX(W_,196) THEN 273.15+0.0002390057361376673*DYNX(W_,191)
   ELSE IF DYNX(W_,196) > 0 THEN 136.575+divGuarded((-0.25)*DYNX(W_,44)*(sqr(
  divGuarded(DYNX(W_,44),"tank1.ports[2].m_flow",DYNX(W_,196),"R1.m_flow_small"))
  -3)*(273.15+0.0002390057361376673*DYNX(W_,191)-DYNX(W_,203)),"(-0.25)*(tank1.ports[2].m_flow*((tank1.ports[2].m_flow/R1.m_flow_small)^2-3)*(273.15+0.0002390057361376673*R1.port_a.h_outflow-R1.state_a.T))",
  DYNX(W_,196),"R1.m_flow_small")+0.5*(DYNX(W_,203)+0.0002390057361376673*
  DYNX(W_,191)) ELSE 136.575+0.5*(DYNX(W_,203)+0.0002390057361376673*
  DYNX(W_,191));
DYNX(W_,202) = IF DYNX(W_,44) > DYNX(W_,196) THEN DYNX(W_,204) ELSE IF 
  DYNX(W_,44) <  -DYNX(W_,196) THEN 273.15+0.0002390057361376673*DYNX(W_,43)
   ELSE IF DYNX(W_,196) > 0 THEN 136.575+divGuarded(0.25*DYNX(W_,44)*(sqr(
  divGuarded(DYNX(W_,44),"tank1.ports[2].m_flow",DYNX(W_,196),"R1.m_flow_small"))
  -3)*(273.15+0.0002390057361376673*DYNX(W_,43)-DYNX(W_,204)),"0.25*(tank1.ports[2].m_flow*((tank1.ports[2].m_flow/R1.m_flow_small)^2-3)*(273.15+0.0002390057361376673*tank1.ports[1].h_outflow-R1.state_b.T))",
  DYNX(W_,196),"R1.m_flow_small")+0.5*(DYNX(W_,204)+0.0002390057361376673*
  DYNX(W_,43)) ELSE 136.575+0.5*(DYNX(W_,204)+0.0002390057361376673*DYNX(W_,43));
DYNX(W_,234) = (-0.0010044335697769957)*DYNX(W_,125);
DYNX(W_,237) = 273.15+0.0002390057361376673*DYNX(W_,124);
DYNX(W_,235) = IF  -DYNX(W_,125) > DYNX(W_,230) THEN DYNX(W_,237) ELSE IF  -
  DYNX(W_,125) <  -DYNX(W_,230) THEN 273.15+0.0002390057361376673*DYNX(W_,225)
   ELSE IF DYNX(W_,230) > 0 THEN 136.575+divGuarded((-0.25)*DYNX(W_,125)*(sqr(
  divGuarded(DYNX(W_,125),"tank2.ports[2].m_flow",DYNX(W_,230),"R2.m_flow_small"))
  -3)*(273.15+0.0002390057361376673*DYNX(W_,225)-DYNX(W_,237)),"(-0.25)*(tank2.ports[2].m_flow*((tank2.ports[2].m_flow/R2.m_flow_small)^2-3)*(273.15+0.0002390057361376673*R2.port_a.h_outflow-R2.state_a.T))",
  DYNX(W_,230),"R2.m_flow_small")+0.5*(DYNX(W_,237)+0.0002390057361376673*
  DYNX(W_,225)) ELSE 136.575+0.5*(DYNX(W_,237)+0.0002390057361376673*
  DYNX(W_,225));
DYNX(W_,236) = IF DYNX(W_,125) > DYNX(W_,230) THEN DYNX(W_,238) ELSE IF 
  DYNX(W_,125) <  -DYNX(W_,230) THEN 273.15+0.0002390057361376673*DYNX(W_,124)
   ELSE IF DYNX(W_,230) > 0 THEN 136.575+divGuarded(0.25*DYNX(W_,125)*(sqr(
  divGuarded(DYNX(W_,125),"tank2.ports[2].m_flow",DYNX(W_,230),"R2.m_flow_small"))
  -3)*(273.15+0.0002390057361376673*DYNX(W_,124)-DYNX(W_,238)),"0.25*(tank2.ports[2].m_flow*((tank2.ports[2].m_flow/R2.m_flow_small)^2-3)*(273.15+0.0002390057361376673*tank2.ports[1].h_outflow-R2.state_b.T))",
  DYNX(W_,230),"R2.m_flow_small")+0.5*(DYNX(W_,238)+0.0002390057361376673*
  DYNX(W_,124)) ELSE 136.575+0.5*(DYNX(W_,238)+0.0002390057361376673*
  DYNX(W_,124));
DYNX(W_,267) = 1E-05*DYNX(W_,269);
DYNX(W_,286) = 1E-05*DYNX(W_,288);

DefaultSection
InitializeData(1)
EndTranslatedEquations

#include <dsblock6.c>

PreNonAliasNew(0)
StartNonAlias(0)
DeclareParameter("system.p_ambient", "Default ambient pressure [Pa|bar]", 0, 101325,\
 0.0,1E+100,100000.0,0,560)
DeclareParameter("system.T_ambient", "Default ambient temperature [K|degC]", 1, \
293.15, 0.0,1E+100,300.0,0,560)
DeclareParameter("system.g", "Constant gravity acceleration [m/s2]", 2, 9.80665,\
 0.0,0.0,0.0,0,560)
DeclareVariable("system.allowFlowReversal", "= false to restrict to design flow direction (port_a -> port_b) [:#(type=Boolean)]",\
 0, true, 0.0,0.0,0.0,0,515)
DeclareVariable("system.energyDynamics", "Default formulation of energy balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 1, 2, 1.0,4.0,0.0,0,517)
DeclareVariable("system.massDynamics", "Default formulation of mass balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 2, 2, 1.0,4.0,0.0,0,517)
DeclareVariable("system.substanceDynamics", "Default formulation of substance balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 3, 2, 1.0,4.0,0.0,0,517)
DeclareVariable("system.traceDynamics", "Default formulation of trace substance balances [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 4, 2, 1.0,4.0,0.0,0,517)
DeclareVariable("system.momentumDynamics", "Default formulation of momentum balances, if options available [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 5, 4, 1.0,4.0,0.0,0,517)
DeclareParameter("system.m_flow_start", "Default start value for mass flow rates [kg/s]",\
 3, 0, 0.0,0.0,0.0,0,560)
DeclareVariable("system.p_start", "Default start value for pressures [Pa|bar]", 6,\
 0.0, 0.0,1E+100,100000.0,0,513)
DeclareVariable("system.T_start", "Default start value for temperatures [K|degC]",\
 7, 288.15, 0.0,1E+100,300.0,0,513)
DeclareVariable("system.use_eps_Re", "= true to determine turbulent region automatically using Reynolds number [:#(type=Boolean)]",\
 8, false, 0.0,0.0,0.0,0,515)
DeclareVariable("system.m_flow_nominal", "Default nominal mass flow rate [kg/s]",\
 9, 0.0, 0.0,0.0,0.0,0,513)
DeclareParameter("system.eps_m_flow", "Regularization of zero flow for |m_flow| < eps_m_flow*m_flow_nominal [1]",\
 4, 0.0001, 0.0,1E+100,0.0,0,560)
DeclareParameter("system.dp_small", "Default small pressure drop for regularization of laminar and zero flow [Pa|bar]",\
 5, 1, 0.0,1E+100,100000.0,0,560)
DeclareParameter("system.m_flow_small", "Default small mass flow rate for regularization of laminar and zero flow [kg/s]",\
 6, 0.01, 0.0,1E+100,0.0,0,560)
DeclareState("tank1.level", "Level height of tank [m]", 0, 5, 0.0,1E+100,0.0,0,544)
DeclareDerivative("tank1.der(level)", "der(Level height of tank) [m/s]", 0, 0.0,\
 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.V", "Actual tank volume [m3]", 10, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.der(V)", "der(Actual tank volume) [m3/s]", 11, 0.0, \
0.0,0.0,0.0,0,512)
DeclareParameter("tank1.height", "Height of tank [m]", 7, 10, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank1.crossArea", "Area of tank [m2]", 8, 0.1, 0.0,0.0,0.0,0,560)
DeclareVariable("tank1.p_ambient", "Tank surface pressure [Pa|bar]", 12, \
100000.0, 0.0,100000000.0,100000.0,0,513)
DeclareVariable("tank1.T_ambient", "Tank surface Temperature [K|degC]", 13, \
288.15, 1.0,10000.0,300.0,0,513)
DeclareParameter("tank1.level_start", "Start value of tank level [m]", 9, 5, 0.0,\
1E+100,0.0,0,560)
DeclareAlias2("tank1.fluidVolume", "Volume [m3]", "tank1.V", 1, 5, 10, 0)
DeclareVariable("tank1.energyDynamics", "Formulation of energy balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 14, 2, 1.0,4.0,0.0,0,517)
DeclareVariable("tank1.massDynamics", "Formulation of mass balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 15, 2, 1.0,4.0,0.0,0,517)
DeclareVariable("tank1.substanceDynamics", "Formulation of substance balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 16, 2, 1.0,4.0,0.0,0,517)
DeclareVariable("tank1.traceDynamics", "Formulation of trace substance balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 17, 2, 1.0,4.0,0.0,0,517)
DeclareVariable("tank1.p_start", "Start value of pressure [Pa|bar]", 18, \
100000.0, 0.0,100000000.0,100000.0,0,513)
DeclareVariable("tank1.use_T_start", "= true, use T_start, otherwise h_start [:#(type=Boolean)]",\
 19, true, 0.0,0.0,0.0,0,515)
DeclareVariable("tank1.T_start", "Start value of temperature [K|degC]", 20, \
288.15, 1.0,10000.0,300.0,0,513)
DeclareVariable("tank1.h_start", "Start value of specific enthalpy [J/kg]", 21, \
0.0, -10000000000.0,10000000000.0,1000000.0,0,513)
DeclareParameter("tank1.X_start[1]", "Start value of mass fractions m_i/m [kg/kg]",\
 10, 1.0, 0.0,1.0,0.1,0,560)
DeclareVariable("tank1.medium.p", "Absolute pressure of medium [Pa|bar]", 22, \
0.0, 0.0,1E+100,100000.0,0,513)
DeclareAlias2("tank1.medium.h", "Specific enthalpy of medium [J/kg]", \
"tank1.ports[1].h_outflow", 1, 5, 43, 0)
DeclareVariable("tank1.medium.d", "Density of medium [kg/m3|g/cm3]", 23, 995.586,\
 0.0,100000.0,1.0,0,513)
DeclareState("tank1.medium.T", "Temperature of medium [K|degC]", 1, 300.0, 1.0,\
10000.0,300.0,0,544)
DeclareDerivative("tank1.medium.der(T)", "der(Temperature of medium) [K/s]", 1, \
0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.medium.X[1]", "Mass fractions (= (component mass)/total mass  m_i/m) [kg/kg]",\
 24, 1.0, 0.0,1.0,0.1,0,513)
DeclareVariable("tank1.medium.u", "Specific internal energy of medium [J/kg]", 25,\
 0.0, -100000000.0,100000000.0,1000000.0,0,512)
DeclareVariable("tank1.medium.der(u)", "der(Specific internal energy of medium) [m2/s3]",\
 26, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.medium.R_s", "Gas constant (of mixture if applicable) [J/(kg.K)]",\
 27, 0, 0.0,10000000.0,1000.0,0,513)
DeclareVariable("tank1.medium.MM", "Molar mass (of mixture or single fluid) [kg/mol]",\
 28, 0.018015268, 0.001,0.25,0.032,0,513)
DeclareAlias2("tank1.medium.state.p", "Absolute pressure of medium [Pa|bar]", \
"tank1.p_ambient", 1, 5, 12, 0)
DeclareAlias2("tank1.medium.state.T", "Temperature of medium [K|degC]", \
"tank1.medium.T", 1, 1, 1, 0)
DeclareVariable("tank1.medium.preferredMediumStates", "= true if StateSelect.prefer shall be used for the independent property variables of the medium [:#(type=Boolean)]",\
 29, true, 0.0,0.0,0.0,0,515)
DeclareVariable("tank1.medium.standardOrderComponents", "If true, and reducedX = true, the last element of X will be computed from the other ones [:#(type=Boolean)]",\
 30, true, 0.0,0.0,0.0,0,515)
DeclareVariable("tank1.medium.T_degC", "Temperature of medium in [degC] [degC;]",\
 31, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.medium.p_bar", "Absolute pressure of medium in [bar] [bar]",\
 32, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank1.U", "Internal energy of fluid [J]", 33, 0.0, 0.0,0.0,0.0,\
0,512)
DeclareVariable("tank1.der(U)", "der(Internal energy of fluid) [W]", 34, 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("tank1.m", "Mass of fluid [kg]", 35, 0.0, 0.0,1E+100,0.0,0,512)
DeclareVariable("tank1.der(m)", "der(Mass of fluid) [kg/s]", 36, 0.0, 0.0,0.0,\
0.0,0,512)
DeclareAlias2("tank1.mb_flow", "Mass flows across boundaries [kg/s]", \
"tank1.der(m)", 1, 5, 36, 0)
DeclareAlias2("tank1.Hb_flow", "Enthalpy flow across boundaries or energy source/sink [W]",\
 "tank1.der(U)", 1, 5, 34, 0)
DeclareVariable("tank1.Qb_flow", "Heat flow across boundaries or energy source/sink [W]",\
 37, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank1.Wb_flow", "Work flow across boundaries or source term [W]",\
 38, 0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank1.initialize_p", "= true to set up initial equations for pressure [:#(type=Boolean)]",\
 39, false, 0.0,0.0,0.0,0,2563)
DeclareVariable("tank1.nPorts", "Number of ports [:#(type=Integer)]", 40, 3, \
0.0,0.0,0.0,0,517)
DeclareVariable("tank1.ports[1].m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 41, 0.0, -100000.0,100000.0,0.0,0,776)
DeclareVariable("tank1.ports[1].p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 42, 100000.0, 0.0,100000000.0,100000.0,0,520)
DeclareVariable("tank1.ports[1].h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 43, 0.0, -10000000000.0,10000000000.0,1000000.0,0,520)
DeclareVariable("tank1.ports[2].m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 44, 0.0, -100000.0,100000.0,0.0,0,776)
DeclareVariable("tank1.ports[2].p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 45, 100000.0, 0.0,100000000.0,100000.0,0,520)
DeclareAlias2("tank1.ports[2].h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 "tank1.ports[1].h_outflow", 1, 5, 43, 4)
DeclareAlias2("tank1.ports[3].m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "x1_inlet.ports[1].m_flow", -1, 5, 268, 132)
DeclareAlias2("tank1.ports[3].p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "x1_inlet.ports[1].p", 1, 5, 269, 4)
DeclareAlias2("tank1.ports[3].h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 "tank1.ports[1].h_outflow", 1, 5, 43, 4)
DeclareVariable("tank1.use_portsData", "= false to neglect pressure loss and kinetic energy [:#(type=Boolean)]",\
 46, true, 0.0,0.0,0.0,0,515)
DeclareParameter("tank1.portsData[1].diameter", "Inner (hydraulic) diameter of inlet/outlet port [m]",\
 11, 0.1, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank1.portsData[1].height", "Height over the bottom of the vessel [m]",\
 12, 0.0, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank1.portsData[1].zeta_out", "Hydraulic resistance out of vessel, default 0.5 for small diameter mounted flush with the wall",\
 13, 0.5, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank1.portsData[1].zeta_in", "Hydraulic resistance into vessel, default 1.04 for small diameter mounted flush with the wall",\
 14, 1.04, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank1.portsData[2].diameter", "Inner (hydraulic) diameter of inlet/outlet port [m]",\
 15, 0.1, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank1.portsData[2].height", "Height over the bottom of the vessel [m]",\
 16, 0.0, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank1.portsData[2].zeta_out", "Hydraulic resistance out of vessel, default 0.5 for small diameter mounted flush with the wall",\
 17, 0.5, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank1.portsData[2].zeta_in", "Hydraulic resistance into vessel, default 1.04 for small diameter mounted flush with the wall",\
 18, 1.04, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank1.portsData[3].diameter", "Inner (hydraulic) diameter of inlet/outlet port [m]",\
 19, 0.1, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank1.portsData[3].height", "Height over the bottom of the vessel [m]",\
 20, 0.0, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank1.portsData[3].zeta_out", "Hydraulic resistance out of vessel, default 0.5 for small diameter mounted flush with the wall",\
 21, 0.5, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank1.portsData[3].zeta_in", "Hydraulic resistance into vessel, default 1.04 for small diameter mounted flush with the wall",\
 22, 1.04, 0.0,1E+100,0.0,0,560)
DeclareVariable("tank1.m_flow_nominal", "Nominal value for mass flow rates in ports [kg/s]",\
 47, 0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("tank1.m_flow_small", "Regularization range at zero mass flow rate [kg/s]",\
 48, 0.0, 0.0,1E+100,0.0,0,513)
DeclareVariable("tank1.use_Re", "= true, if turbulent region is defined by Re, otherwise by m_flow_small [:#(type=Boolean)]",\
 49, false, 0.0,0.0,0.0,0,515)
DeclareVariable("tank1.ports_H_flow[1]", "[W]", 50, 0.0, -100000000.0,\
100000000.0,1000.0,0,512)
DeclareVariable("tank1.ports_H_flow[2]", "[W]", 51, 0.0, -100000000.0,\
100000000.0,1000.0,0,512)
DeclareVariable("tank1.ports_H_flow[3]", "[W]", 52, 0.0, -100000000.0,\
100000000.0,1000.0,0,512)
DeclareVariable("tank1.use_HeatTransfer", "= true to use the HeatTransfer model [:#(type=Boolean)]",\
 53, false, 0.0,0.0,0.0,0,515)
DeclareVariable("tank1.heatTransfer.n", "Number of heat transfer segments [:#(type=Integer)]",\
 54, 1, 0.0,0.0,0.0,0,517)
DeclareAlias2("tank1.heatTransfer.states[1].p", "Absolute pressure of medium [Pa|bar]",\
 "tank1.p_ambient", 1, 5, 12, 0)
DeclareAlias2("tank1.heatTransfer.states[1].T", "Temperature of medium [K|degC]",\
 "tank1.medium.T", 1, 1, 1, 0)
DeclareVariable("tank1.heatTransfer.surfaceAreas[1]", "Heat transfer areas [m2]",\
 55, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.heatTransfer.Q_flows[1]", "Heat flow rates [W]", 56, 0.0,\
 0.0,0.0,0.0,0,513)
DeclareVariable("tank1.heatTransfer.use_k", "= true to use k value for thermal isolation [:#(type=Boolean)]",\
 57, false, 0.0,0.0,0.0,0,515)
DeclareVariable("tank1.heatTransfer.k", "Heat transfer coefficient to ambient [W/(m2.K)]",\
 58, 0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank1.heatTransfer.T_ambient", "Ambient temperature [K|degC]", 59,\
 288.15, 0.0,1E+100,300.0,0,513)
DeclareAlias2("tank1.heatTransfer.heatPorts[1].T", "Port temperature [K|degC]", \
"tank1.medium.T", 1, 1, 1, 4)
DeclareVariable("tank1.heatTransfer.heatPorts[1].Q_flow", "Heat flow rate (positive if flowing from outside into the component) [W]",\
 60, 0.0, 0.0,0.0,0.0,0,777)
DeclareAlias2("tank1.heatTransfer.Ts[1]", "Temperatures defined by fluid states [K|degC]",\
 "tank1.medium.T", 1, 1, 1, 0)
DeclareVariable("tank1.portInDensities[1]", "Densities of the fluid at the device boundary [kg/m3|g/cm3]",\
 61, 995.586, 0.0,100000.0,1.0,0,513)
DeclareVariable("tank1.portInDensities[2]", "Densities of the fluid at the device boundary [kg/m3|g/cm3]",\
 62, 995.586, 0.0,100000.0,1.0,0,513)
DeclareVariable("tank1.portInDensities[3]", "Densities of the fluid at the device boundary [kg/m3|g/cm3]",\
 63, 995.586, 0.0,100000.0,1.0,0,513)
DeclareVariable("tank1.portVelocities[1]", "Velocities of fluid flow at device boundary [m/s]",\
 64, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.portVelocities[2]", "Velocities of fluid flow at device boundary [m/s]",\
 65, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.portVelocities[3]", "Velocities of fluid flow at device boundary [m/s]",\
 66, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.ports_E_flow[1]", "Flow of kinetic and potential energy at device boundary [W]",\
 67, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.ports_E_flow[2]", "Flow of kinetic and potential energy at device boundary [W]",\
 68, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.ports_E_flow[3]", "Flow of kinetic and potential energy at device boundary [W]",\
 69, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.s[1]", "Curve parameters for port flows vs. port pressures; for further details see, Modelica Tutorial: Ideal switching devices [m]",\
 70, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.s[2]", "Curve parameters for port flows vs. port pressures; for further details see, Modelica Tutorial: Ideal switching devices [m]",\
 71, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.s[3]", "Curve parameters for port flows vs. port pressures; for further details see, Modelica Tutorial: Ideal switching devices [m]",\
 72, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.ports_penetration[1]", "Penetration of port with fluid, depending on fluid level and port diameter",\
 73, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.ports_penetration[2]", "Penetration of port with fluid, depending on fluid level and port diameter",\
 74, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.ports_penetration[3]", "Penetration of port with fluid, depending on fluid level and port diameter",\
 75, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank1.portAreas[1]", "[m2]", 76, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank1.portAreas[2]", "[m2]", 77, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank1.portAreas[3]", "[m2]", 78, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank1.vessel_ps_static[1]", "Static pressures inside the vessel at the height of the corresponding ports, zero flow velocity [Pa|bar]",\
 79, 100000.0, 0.0,100000000.0,100000.0,0,512)
DeclareVariable("tank1.vessel_ps_static[2]", "Static pressures inside the vessel at the height of the corresponding ports, zero flow velocity [Pa|bar]",\
 80, 100000.0, 0.0,100000000.0,100000.0,0,512)
DeclareVariable("tank1.vessel_ps_static[3]", "Static pressures inside the vessel at the height of the corresponding ports, zero flow velocity [Pa|bar]",\
 81, 100000.0, 0.0,100000000.0,100000.0,0,512)
DeclareVariable("tank1.Re_turbulent", "cf. suddenExpansion [1]", 82, 100, \
0.0,0.0,0.0,0,513)
DeclareAlias2("tank1.m_flow_turbulent[1]", "[kg/s]", "tank1.m_flow_small", 1, 5,\
 48, 0)
DeclareAlias2("tank1.m_flow_turbulent[2]", "[kg/s]", "tank1.m_flow_small", 1, 5,\
 48, 0)
DeclareAlias2("tank1.m_flow_turbulent[3]", "[kg/s]", "tank1.m_flow_small", 1, 5,\
 48, 0)
DeclareAlias2("tank1.fluidLevel", "Level of fluid in the vessel for treating heights of ports [m]",\
 "tank1.level", 1, 1, 0, 1024)
DeclareVariable("tank1.fluidLevel_max", "Maximum level of fluid in the vessel [m]",\
 83, 0.0, 0.0,1E+100,0.0,0,2561)
DeclareVariable("tank1.vesselArea", "Area of the vessel used to relate to cross flow area of ports [m2]",\
 84, 0.0, 0.0,0.0,0.0,0,2561)
DeclareAlias2("tank1.portsData_diameter_internal[1]", "", "tank1.portsData[1].diameter", 1,\
 7, 11, 1024)
DeclareAlias2("tank1.portsData_diameter_internal[2]", "", "tank1.portsData[2].diameter", 1,\
 7, 15, 1024)
DeclareAlias2("tank1.portsData_diameter_internal[3]", "", "tank1.portsData[3].diameter", 1,\
 7, 19, 1024)
DeclareAlias2("tank1.portsData_height_internal[1]", "", "tank1.portsData[1].height", 1,\
 7, 12, 1024)
DeclareAlias2("tank1.portsData_height_internal[2]", "", "tank1.portsData[2].height", 1,\
 7, 16, 1024)
DeclareAlias2("tank1.portsData_height_internal[3]", "", "tank1.portsData[3].height", 1,\
 7, 20, 1024)
DeclareAlias2("tank1.portsData_zeta_in_internal[1]", "", "tank1.portsData[1].zeta_in", 1,\
 7, 14, 1024)
DeclareAlias2("tank1.portsData_zeta_in_internal[2]", "", "tank1.portsData[2].zeta_in", 1,\
 7, 18, 1024)
DeclareAlias2("tank1.portsData_zeta_in_internal[3]", "", "tank1.portsData[3].zeta_in", 1,\
 7, 22, 1024)
DeclareAlias2("tank1.portsData_zeta_out_internal[1]", "", "tank1.portsData[1].zeta_out", 1,\
 7, 13, 1024)
DeclareAlias2("tank1.portsData_zeta_out_internal[2]", "", "tank1.portsData[2].zeta_out", 1,\
 7, 17, 1024)
DeclareAlias2("tank1.portsData_zeta_out_internal[3]", "", "tank1.portsData[3].zeta_out", 1,\
 7, 21, 1024)
DeclareAlias2("tank1.portsData_diameter[1]", "", "tank1.portsData[1].diameter", 1,\
 7, 11, 1024)
DeclareAlias2("tank1.portsData_diameter[2]", "", "tank1.portsData[2].diameter", 1,\
 7, 15, 1024)
DeclareAlias2("tank1.portsData_diameter[3]", "", "tank1.portsData[3].diameter", 1,\
 7, 19, 1024)
DeclareAlias2("tank1.portsData_height[1]", "", "tank1.portsData[1].height", 1, 7,\
 12, 1024)
DeclareAlias2("tank1.portsData_height[2]", "", "tank1.portsData[2].height", 1, 7,\
 16, 1024)
DeclareAlias2("tank1.portsData_height[3]", "", "tank1.portsData[3].height", 1, 7,\
 20, 1024)
DeclareAlias2("tank1.portsData_zeta_in[1]", "", "tank1.portsData[1].zeta_in", 1,\
 7, 14, 1024)
DeclareAlias2("tank1.portsData_zeta_in[2]", "", "tank1.portsData[2].zeta_in", 1,\
 7, 18, 1024)
DeclareAlias2("tank1.portsData_zeta_in[3]", "", "tank1.portsData[3].zeta_in", 1,\
 7, 22, 1024)
DeclareAlias2("tank1.portsData_zeta_out[1]", "", "tank1.portsData[1].zeta_out", 1,\
 7, 13, 1024)
DeclareAlias2("tank1.portsData_zeta_out[2]", "", "tank1.portsData[2].zeta_out", 1,\
 7, 17, 1024)
DeclareAlias2("tank1.portsData_zeta_out[3]", "", "tank1.portsData[3].zeta_out", 1,\
 7, 21, 1024)
DeclareVariable("tank1.regularFlow[1]", "[:#(type=Boolean)]", 85, true, 0.0,0.0,\
0.0,0,2690)
DeclareVariable("tank1.regularFlow[2]", "[:#(type=Boolean)]", 86, true, 0.0,0.0,\
0.0,0,2690)
DeclareVariable("tank1.regularFlow[3]", "[:#(type=Boolean)]", 87, true, 0.0,0.0,\
0.0,0,2690)
DeclareVariable("tank1.inFlow[1]", "[:#(type=Boolean)]", 88, false, 0.0,0.0,0.0,\
0,2754)
DeclareVariable("tank1.inFlow[2]", "[:#(type=Boolean)]", 89, false, 0.0,0.0,0.0,\
0,2754)
DeclareVariable("tank1.inFlow[3]", "[:#(type=Boolean)]", 90, false, 0.0,0.0,0.0,\
0,2754)
DeclareVariable("tank1.level_start_eps", "[m]", 91, 0.0, 0.0,1E+100,0.0,0,2561)
DeclareState("tank2.level", "Level height of tank [m]", 2, 5, 0.0,1E+100,0.0,0,544)
DeclareDerivative("tank2.der(level)", "der(Level height of tank) [m/s]", 2, 0.0,\
 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.V", "Actual tank volume [m3]", 92, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.der(V)", "der(Actual tank volume) [m3/s]", 93, 0.0, \
0.0,0.0,0.0,0,512)
DeclareParameter("tank2.height", "Height of tank [m]", 23, 10, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank2.crossArea", "Area of tank [m2]", 24, 0.1, 0.0,0.0,0.0,0,560)
DeclareVariable("tank2.p_ambient", "Tank surface pressure [Pa|bar]", 94, \
100000.0, 0.0,100000000.0,100000.0,0,513)
DeclareVariable("tank2.T_ambient", "Tank surface Temperature [K|degC]", 95, \
288.15, 1.0,10000.0,300.0,0,513)
DeclareParameter("tank2.level_start", "Start value of tank level [m]", 25, 5, \
0.0,1E+100,0.0,0,560)
DeclareAlias2("tank2.fluidVolume", "Volume [m3]", "tank2.V", 1, 5, 92, 0)
DeclareVariable("tank2.energyDynamics", "Formulation of energy balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 96, 2, 1.0,4.0,0.0,0,517)
DeclareVariable("tank2.massDynamics", "Formulation of mass balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 97, 2, 1.0,4.0,0.0,0,517)
DeclareVariable("tank2.substanceDynamics", "Formulation of substance balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 98, 2, 1.0,4.0,0.0,0,517)
DeclareVariable("tank2.traceDynamics", "Formulation of trace substance balance [:#(type=Modelica.Fluid.Types.Dynamics)]",\
 99, 2, 1.0,4.0,0.0,0,517)
DeclareVariable("tank2.p_start", "Start value of pressure [Pa|bar]", 100, \
100000.0, 0.0,100000000.0,100000.0,0,513)
DeclareVariable("tank2.use_T_start", "= true, use T_start, otherwise h_start [:#(type=Boolean)]",\
 101, true, 0.0,0.0,0.0,0,515)
DeclareVariable("tank2.T_start", "Start value of temperature [K|degC]", 102, \
288.15, 1.0,10000.0,300.0,0,513)
DeclareVariable("tank2.h_start", "Start value of specific enthalpy [J/kg]", 103,\
 0.0, -10000000000.0,10000000000.0,1000000.0,0,513)
DeclareParameter("tank2.X_start[1]", "Start value of mass fractions m_i/m [kg/kg]",\
 26, 1.0, 0.0,1.0,0.1,0,560)
DeclareVariable("tank2.medium.p", "Absolute pressure of medium [Pa|bar]", 104, \
0.0, 0.0,1E+100,100000.0,0,513)
DeclareAlias2("tank2.medium.h", "Specific enthalpy of medium [J/kg]", \
"tank2.ports[1].h_outflow", 1, 5, 124, 0)
DeclareVariable("tank2.medium.d", "Density of medium [kg/m3|g/cm3]", 105, \
995.586, 0.0,100000.0,1.0,0,513)
DeclareState("tank2.medium.T", "Temperature of medium [K|degC]", 3, 300.0, 1.0,\
10000.0,300.0,0,544)
DeclareDerivative("tank2.medium.der(T)", "der(Temperature of medium) [K/s]", 3, \
0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.medium.X[1]", "Mass fractions (= (component mass)/total mass  m_i/m) [kg/kg]",\
 106, 1.0, 0.0,1.0,0.1,0,513)
DeclareVariable("tank2.medium.u", "Specific internal energy of medium [J/kg]", 107,\
 0.0, -100000000.0,100000000.0,1000000.0,0,512)
DeclareVariable("tank2.medium.der(u)", "der(Specific internal energy of medium) [m2/s3]",\
 108, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.medium.R_s", "Gas constant (of mixture if applicable) [J/(kg.K)]",\
 109, 0, 0.0,10000000.0,1000.0,0,513)
DeclareVariable("tank2.medium.MM", "Molar mass (of mixture or single fluid) [kg/mol]",\
 110, 0.018015268, 0.001,0.25,0.032,0,513)
DeclareAlias2("tank2.medium.state.p", "Absolute pressure of medium [Pa|bar]", \
"tank2.p_ambient", 1, 5, 94, 0)
DeclareAlias2("tank2.medium.state.T", "Temperature of medium [K|degC]", \
"tank2.medium.T", 1, 1, 3, 0)
DeclareVariable("tank2.medium.preferredMediumStates", "= true if StateSelect.prefer shall be used for the independent property variables of the medium [:#(type=Boolean)]",\
 111, true, 0.0,0.0,0.0,0,515)
DeclareVariable("tank2.medium.standardOrderComponents", "If true, and reducedX = true, the last element of X will be computed from the other ones [:#(type=Boolean)]",\
 112, true, 0.0,0.0,0.0,0,515)
DeclareVariable("tank2.medium.T_degC", "Temperature of medium in [degC] [degC;]",\
 113, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.medium.p_bar", "Absolute pressure of medium in [bar] [bar]",\
 114, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank2.U", "Internal energy of fluid [J]", 115, 0.0, 0.0,0.0,0.0,\
0,512)
DeclareVariable("tank2.der(U)", "der(Internal energy of fluid) [W]", 116, 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("tank2.m", "Mass of fluid [kg]", 117, 0.0, 0.0,1E+100,0.0,0,512)
DeclareVariable("tank2.der(m)", "der(Mass of fluid) [kg/s]", 118, 0.0, 0.0,0.0,\
0.0,0,512)
DeclareAlias2("tank2.mb_flow", "Mass flows across boundaries [kg/s]", \
"tank2.der(m)", 1, 5, 118, 0)
DeclareAlias2("tank2.Hb_flow", "Enthalpy flow across boundaries or energy source/sink [W]",\
 "tank2.der(U)", 1, 5, 116, 0)
DeclareVariable("tank2.Qb_flow", "Heat flow across boundaries or energy source/sink [W]",\
 119, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank2.Wb_flow", "Work flow across boundaries or source term [W]",\
 120, 0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank2.initialize_p", "= true to set up initial equations for pressure [:#(type=Boolean)]",\
 121, false, 0.0,0.0,0.0,0,2563)
DeclareVariable("tank2.nPorts", "Number of ports [:#(type=Integer)]", 122, 3, \
0.0,0.0,0.0,0,517)
DeclareAlias2("tank2.ports[1].m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank1.ports[1].m_flow", -1, 5, 41, 132)
DeclareVariable("tank2.ports[1].p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 123, 100000.0, 0.0,100000000.0,100000.0,0,584)
DeclareVariable("tank2.ports[1].h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 124, 0.0, -10000000000.0,10000000000.0,1000000.0,0,520)
DeclareVariable("tank2.ports[2].m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 125, 0.0, -100000.0,100000.0,0.0,0,776)
DeclareVariable("tank2.ports[2].p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 126, 100000.0, 0.0,100000000.0,100000.0,0,520)
DeclareAlias2("tank2.ports[2].h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 "tank2.ports[1].h_outflow", 1, 5, 124, 4)
DeclareAlias2("tank2.ports[3].m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "x2_inlet.ports[1].m_flow", -1, 5, 287, 132)
DeclareAlias2("tank2.ports[3].p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "x2_inlet.ports[1].p", 1, 5, 288, 4)
DeclareAlias2("tank2.ports[3].h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 "tank2.ports[1].h_outflow", 1, 5, 124, 4)
DeclareVariable("tank2.use_portsData", "= false to neglect pressure loss and kinetic energy [:#(type=Boolean)]",\
 127, true, 0.0,0.0,0.0,0,515)
DeclareParameter("tank2.portsData[1].diameter", "Inner (hydraulic) diameter of inlet/outlet port [m]",\
 27, 0.1, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank2.portsData[1].height", "Height over the bottom of the vessel [m]",\
 28, 0.0, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank2.portsData[1].zeta_out", "Hydraulic resistance out of vessel, default 0.5 for small diameter mounted flush with the wall",\
 29, 0.5, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank2.portsData[1].zeta_in", "Hydraulic resistance into vessel, default 1.04 for small diameter mounted flush with the wall",\
 30, 1.04, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank2.portsData[2].diameter", "Inner (hydraulic) diameter of inlet/outlet port [m]",\
 31, 0.1, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank2.portsData[2].height", "Height over the bottom of the vessel [m]",\
 32, 0.0, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank2.portsData[2].zeta_out", "Hydraulic resistance out of vessel, default 0.5 for small diameter mounted flush with the wall",\
 33, 0.5, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank2.portsData[2].zeta_in", "Hydraulic resistance into vessel, default 1.04 for small diameter mounted flush with the wall",\
 34, 1.04, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank2.portsData[3].diameter", "Inner (hydraulic) diameter of inlet/outlet port [m]",\
 35, 0.1, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank2.portsData[3].height", "Height over the bottom of the vessel [m]",\
 36, 0.0, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank2.portsData[3].zeta_out", "Hydraulic resistance out of vessel, default 0.5 for small diameter mounted flush with the wall",\
 37, 0.5, 0.0,1E+100,0.0,0,560)
DeclareParameter("tank2.portsData[3].zeta_in", "Hydraulic resistance into vessel, default 1.04 for small diameter mounted flush with the wall",\
 38, 1.04, 0.0,1E+100,0.0,0,560)
DeclareVariable("tank2.m_flow_nominal", "Nominal value for mass flow rates in ports [kg/s]",\
 128, 0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("tank2.m_flow_small", "Regularization range at zero mass flow rate [kg/s]",\
 129, 0.0, 0.0,1E+100,0.0,0,513)
DeclareVariable("tank2.use_Re", "= true, if turbulent region is defined by Re, otherwise by m_flow_small [:#(type=Boolean)]",\
 130, false, 0.0,0.0,0.0,0,515)
DeclareVariable("tank2.ports_H_flow[1]", "[W]", 131, 0.0, -100000000.0,\
100000000.0,1000.0,0,512)
DeclareVariable("tank2.ports_H_flow[2]", "[W]", 132, 0.0, -100000000.0,\
100000000.0,1000.0,0,512)
DeclareVariable("tank2.ports_H_flow[3]", "[W]", 133, 0.0, -100000000.0,\
100000000.0,1000.0,0,512)
DeclareVariable("tank2.use_HeatTransfer", "= true to use the HeatTransfer model [:#(type=Boolean)]",\
 134, false, 0.0,0.0,0.0,0,515)
DeclareVariable("tank2.heatTransfer.n", "Number of heat transfer segments [:#(type=Integer)]",\
 135, 1, 0.0,0.0,0.0,0,517)
DeclareAlias2("tank2.heatTransfer.states[1].p", "Absolute pressure of medium [Pa|bar]",\
 "tank2.p_ambient", 1, 5, 94, 0)
DeclareAlias2("tank2.heatTransfer.states[1].T", "Temperature of medium [K|degC]",\
 "tank2.medium.T", 1, 1, 3, 0)
DeclareVariable("tank2.heatTransfer.surfaceAreas[1]", "Heat transfer areas [m2]",\
 136, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.heatTransfer.Q_flows[1]", "Heat flow rates [W]", 137, 0.0,\
 0.0,0.0,0.0,0,513)
DeclareVariable("tank2.heatTransfer.use_k", "= true to use k value for thermal isolation [:#(type=Boolean)]",\
 138, false, 0.0,0.0,0.0,0,515)
DeclareVariable("tank2.heatTransfer.k", "Heat transfer coefficient to ambient [W/(m2.K)]",\
 139, 0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank2.heatTransfer.T_ambient", "Ambient temperature [K|degC]", 140,\
 288.15, 0.0,1E+100,300.0,0,513)
DeclareAlias2("tank2.heatTransfer.heatPorts[1].T", "Port temperature [K|degC]", \
"tank2.medium.T", 1, 1, 3, 4)
DeclareVariable("tank2.heatTransfer.heatPorts[1].Q_flow", "Heat flow rate (positive if flowing from outside into the component) [W]",\
 141, 0.0, 0.0,0.0,0.0,0,777)
DeclareAlias2("tank2.heatTransfer.Ts[1]", "Temperatures defined by fluid states [K|degC]",\
 "tank2.medium.T", 1, 1, 3, 0)
DeclareVariable("tank2.portInDensities[1]", "Densities of the fluid at the device boundary [kg/m3|g/cm3]",\
 142, 995.586, 0.0,100000.0,1.0,0,513)
DeclareVariable("tank2.portInDensities[2]", "Densities of the fluid at the device boundary [kg/m3|g/cm3]",\
 143, 995.586, 0.0,100000.0,1.0,0,513)
DeclareVariable("tank2.portInDensities[3]", "Densities of the fluid at the device boundary [kg/m3|g/cm3]",\
 144, 995.586, 0.0,100000.0,1.0,0,513)
DeclareVariable("tank2.portVelocities[1]", "Velocities of fluid flow at device boundary [m/s]",\
 145, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.portVelocities[2]", "Velocities of fluid flow at device boundary [m/s]",\
 146, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.portVelocities[3]", "Velocities of fluid flow at device boundary [m/s]",\
 147, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.ports_E_flow[1]", "Flow of kinetic and potential energy at device boundary [W]",\
 148, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.ports_E_flow[2]", "Flow of kinetic and potential energy at device boundary [W]",\
 149, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.ports_E_flow[3]", "Flow of kinetic and potential energy at device boundary [W]",\
 150, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.s[1]", "Curve parameters for port flows vs. port pressures; for further details see, Modelica Tutorial: Ideal switching devices [m]",\
 151, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.s[2]", "Curve parameters for port flows vs. port pressures; for further details see, Modelica Tutorial: Ideal switching devices [m]",\
 152, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.s[3]", "Curve parameters for port flows vs. port pressures; for further details see, Modelica Tutorial: Ideal switching devices [m]",\
 153, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.ports_penetration[1]", "Penetration of port with fluid, depending on fluid level and port diameter",\
 154, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.ports_penetration[2]", "Penetration of port with fluid, depending on fluid level and port diameter",\
 155, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.ports_penetration[3]", "Penetration of port with fluid, depending on fluid level and port diameter",\
 156, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("tank2.portAreas[1]", "[m2]", 157, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank2.portAreas[2]", "[m2]", 158, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank2.portAreas[3]", "[m2]", 159, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("tank2.vessel_ps_static[1]", "Static pressures inside the vessel at the height of the corresponding ports, zero flow velocity [Pa|bar]",\
 160, 100000.0, 0.0,100000000.0,100000.0,0,512)
DeclareVariable("tank2.vessel_ps_static[2]", "Static pressures inside the vessel at the height of the corresponding ports, zero flow velocity [Pa|bar]",\
 161, 100000.0, 0.0,100000000.0,100000.0,0,512)
DeclareVariable("tank2.vessel_ps_static[3]", "Static pressures inside the vessel at the height of the corresponding ports, zero flow velocity [Pa|bar]",\
 162, 100000.0, 0.0,100000000.0,100000.0,0,512)
DeclareVariable("tank2.Re_turbulent", "cf. suddenExpansion [1]", 163, 100, \
0.0,0.0,0.0,0,513)
DeclareAlias2("tank2.m_flow_turbulent[1]", "[kg/s]", "tank2.m_flow_small", 1, 5,\
 129, 0)
DeclareAlias2("tank2.m_flow_turbulent[2]", "[kg/s]", "tank2.m_flow_small", 1, 5,\
 129, 0)
DeclareAlias2("tank2.m_flow_turbulent[3]", "[kg/s]", "tank2.m_flow_small", 1, 5,\
 129, 0)
DeclareAlias2("tank2.fluidLevel", "Level of fluid in the vessel for treating heights of ports [m]",\
 "tank2.level", 1, 1, 2, 1024)
DeclareVariable("tank2.fluidLevel_max", "Maximum level of fluid in the vessel [m]",\
 164, 0.0, 0.0,1E+100,0.0,0,2561)
DeclareVariable("tank2.vesselArea", "Area of the vessel used to relate to cross flow area of ports [m2]",\
 165, 0.0, 0.0,0.0,0.0,0,2561)
DeclareAlias2("tank2.portsData_diameter_internal[1]", "", "tank2.portsData[1].diameter", 1,\
 7, 27, 1024)
DeclareAlias2("tank2.portsData_diameter_internal[2]", "", "tank2.portsData[2].diameter", 1,\
 7, 31, 1024)
DeclareAlias2("tank2.portsData_diameter_internal[3]", "", "tank2.portsData[3].diameter", 1,\
 7, 35, 1024)
DeclareAlias2("tank2.portsData_height_internal[1]", "", "tank2.portsData[1].height", 1,\
 7, 28, 1024)
DeclareAlias2("tank2.portsData_height_internal[2]", "", "tank2.portsData[2].height", 1,\
 7, 32, 1024)
DeclareAlias2("tank2.portsData_height_internal[3]", "", "tank2.portsData[3].height", 1,\
 7, 36, 1024)
DeclareAlias2("tank2.portsData_zeta_in_internal[1]", "", "tank2.portsData[1].zeta_in", 1,\
 7, 30, 1024)
DeclareAlias2("tank2.portsData_zeta_in_internal[2]", "", "tank2.portsData[2].zeta_in", 1,\
 7, 34, 1024)
DeclareAlias2("tank2.portsData_zeta_in_internal[3]", "", "tank2.portsData[3].zeta_in", 1,\
 7, 38, 1024)
DeclareAlias2("tank2.portsData_zeta_out_internal[1]", "", "tank2.portsData[1].zeta_out", 1,\
 7, 29, 1024)
DeclareAlias2("tank2.portsData_zeta_out_internal[2]", "", "tank2.portsData[2].zeta_out", 1,\
 7, 33, 1024)
DeclareAlias2("tank2.portsData_zeta_out_internal[3]", "", "tank2.portsData[3].zeta_out", 1,\
 7, 37, 1024)
DeclareAlias2("tank2.portsData_diameter[1]", "", "tank2.portsData[1].diameter", 1,\
 7, 27, 1024)
DeclareAlias2("tank2.portsData_diameter[2]", "", "tank2.portsData[2].diameter", 1,\
 7, 31, 1024)
DeclareAlias2("tank2.portsData_diameter[3]", "", "tank2.portsData[3].diameter", 1,\
 7, 35, 1024)
DeclareAlias2("tank2.portsData_height[1]", "", "tank2.portsData[1].height", 1, 7,\
 28, 1024)
DeclareAlias2("tank2.portsData_height[2]", "", "tank2.portsData[2].height", 1, 7,\
 32, 1024)
DeclareAlias2("tank2.portsData_height[3]", "", "tank2.portsData[3].height", 1, 7,\
 36, 1024)
DeclareAlias2("tank2.portsData_zeta_in[1]", "", "tank2.portsData[1].zeta_in", 1,\
 7, 30, 1024)
DeclareAlias2("tank2.portsData_zeta_in[2]", "", "tank2.portsData[2].zeta_in", 1,\
 7, 34, 1024)
DeclareAlias2("tank2.portsData_zeta_in[3]", "", "tank2.portsData[3].zeta_in", 1,\
 7, 38, 1024)
DeclareAlias2("tank2.portsData_zeta_out[1]", "", "tank2.portsData[1].zeta_out", 1,\
 7, 29, 1024)
DeclareAlias2("tank2.portsData_zeta_out[2]", "", "tank2.portsData[2].zeta_out", 1,\
 7, 33, 1024)
DeclareAlias2("tank2.portsData_zeta_out[3]", "", "tank2.portsData[3].zeta_out", 1,\
 7, 37, 1024)
DeclareVariable("tank2.regularFlow[1]", "[:#(type=Boolean)]", 166, true, \
0.0,0.0,0.0,0,2690)
DeclareVariable("tank2.regularFlow[2]", "[:#(type=Boolean)]", 167, true, \
0.0,0.0,0.0,0,2690)
DeclareVariable("tank2.regularFlow[3]", "[:#(type=Boolean)]", 168, true, \
0.0,0.0,0.0,0,2690)
DeclareVariable("tank2.inFlow[1]", "[:#(type=Boolean)]", 169, false, 0.0,0.0,0.0,\
0,2754)
DeclareVariable("tank2.inFlow[2]", "[:#(type=Boolean)]", 170, false, 0.0,0.0,0.0,\
0,2754)
DeclareVariable("tank2.inFlow[3]", "[:#(type=Boolean)]", 171, false, 0.0,0.0,0.0,\
0,2754)
DeclareVariable("tank2.level_start_eps", "[m]", 172, 0.0, 0.0,1E+100,0.0,0,2561)
DeclareVariable("R3.allowFlowReversal", "= true to allow flow reversal, false restricts to design direction (port_a -> port_b) [:#(type=Boolean)]",\
 173, true, 0.0,0.0,0.0,0,515)
DeclareAlias2("R3.port_a.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank1.ports[1].m_flow", -1, 5, 41, 132)
DeclareAlias2("R3.port_a.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "tank1.ports[1].p", 1, 5, 42, 4)
DeclareAlias2("R3.port_a.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 "tank2.ports[1].h_outflow", 1, 5, 124, 4)
DeclareAlias2("R3.port_b.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank1.ports[1].m_flow", 1, 5, 41, 132)
DeclareAlias2("R3.port_b.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "tank2.ports[1].p", 1, 5, 123, 4)
DeclareAlias2("R3.port_b.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 "tank1.ports[1].h_outflow", 1, 5, 43, 4)
DeclareVariable("R3.port_a_exposesState", "= true if port_a exposes the state of a fluid volume [:#(type=Boolean)]",\
 174, false, 0.0,0.0,0.0,0,2563)
DeclareVariable("R3.port_b_exposesState", "= true if port_b.p exposes the state of a fluid volume [:#(type=Boolean)]",\
 175, false, 0.0,0.0,0.0,0,2563)
DeclareParameter("R3.showDesignFlowDirection", "= false to hide the arrow in the model icon [:#(type=Boolean)]",\
 39, true, 0.0,0.0,0.0,0,2610)
DeclareVariable("R3.dp_start", "Guess value of dp = port_a.p - port_b.p [Pa|bar]",\
 176, 100000.0, -1E+60,100000000.0,100000.0,0,513)
DeclareVariable("R3.m_flow_start", "Guess value of m_flow = port_a.m_flow [kg/s]",\
 177, 0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("R3.m_flow_small", "Small mass flow rate for regularization of zero flow [kg/s]",\
 178, 0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("R3.show_T", "= true, if temperatures at port_a and port_b are computed [:#(type=Boolean)]",\
 179, true, 0.0,0.0,0.0,0,515)
DeclareVariable("R3.show_V_flow", "= true, if volume flow rate at inflowing port is computed [:#(type=Boolean)]",\
 180, true, 0.0,0.0,0.0,0,515)
DeclareAlias2("R3.m_flow", "Mass flow rate in design flow direction [kg/s]", \
"tank1.ports[1].m_flow", -1, 5, 41, 0)
DeclareVariable("R3.dp", "Pressure difference between port_a and port_b (= port_a.p - port_b.p) [Pa|bar]",\
 181, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("R3.V_flow", "Volume flow rate at inflowing port (positive when flow from port_a to port_b) [m3/s]",\
 182, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("R3.port_a_T", "Temperature close to port_a, if show_T = true [K|degC]",\
 183, 288.15, 1.0,10000.0,300.0,0,512)
DeclareVariable("R3.port_b_T", "Temperature close to port_b, if show_T = true [K|degC]",\
 184, 288.15, 1.0,10000.0,300.0,0,512)
DeclareAlias2("R3.state_a.p", "Absolute pressure of medium [Pa|bar]", \
"tank1.ports[1].p", 1, 5, 42, 1024)
DeclareVariable("R3.state_a.T", "Temperature of medium [K|degC]", 185, 288.15, \
1.0,10000.0,300.0,0,2560)
DeclareAlias2("R3.state_b.p", "Absolute pressure of medium [Pa|bar]", \
"tank2.ports[1].p", 1, 5, 123, 1024)
DeclareVariable("R3.state_b.T", "Temperature of medium [K|degC]", 186, 288.15, \
1.0,10000.0,300.0,0,2560)
DeclareParameter("R3.a", "Coefficient for quadratic term [(Pa.s2)/m6]", 40, 1, \
0.0,0.0,0.0,0,560)
DeclareParameter("R3.b", "Coefficient for linear term [(Pa.s)/m3]", 41, 0.001, \
0.0,0.0,0.0,0,560)
DeclareParameter("R3.state_dp_small.p", "Absolute pressure of medium [Pa|bar]", 42,\
 101325.0, 0.0,100000000.0,100000.0,0,2608)
DeclareParameter("R3.state_dp_small.T", "Temperature of medium [K|degC]", 43, \
298.15, 1.0,10000.0,300.0,0,2608)
DeclareVariable("R3.dp_small", "Default small pressure drop for regularization of laminar and zero flow (calculated from m_flow_small) [Pa|bar]",\
 187, 100000.0, 0.0,100000000.0,100000.0,0,2561)
DeclareVariable("R3.d_a", "Density at port_a when fluid is flowing from port_a to port_b [kg/m3|g/cm3]",\
 188, 995.586, 0.0,100000.0,1.0,0,2561)
DeclareVariable("R3.d_b", "If allowFlowReversal=true then density at port_b when fluid is flowing from port_b to port_a else d_a [kg/m3|g/cm3]",\
 189, 995.586, 0.0,100000.0,1.0,0,2561)
DeclareVariable("R1.allowFlowReversal", "= true to allow flow reversal, false restricts to design direction (port_a -> port_b) [:#(type=Boolean)]",\
 190, true, 0.0,0.0,0.0,0,515)
DeclareAlias2("R1.port_a.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank1.ports[2].m_flow", -1, 5, 44, 132)
DeclareAlias2("R1.port_a.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "tank1.ports[2].p", 1, 5, 45, 4)
DeclareVariable("R1.port_a.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 191, 0.0, -10000000000.0,10000000000.0,1000000.0,0,521)
DeclareAlias2("R1.port_b.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank1.ports[2].m_flow", 1, 5, 44, 132)
DeclareAlias2("R1.port_b.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "y1_outlet.p", 1, 7, 49, 4)
DeclareAlias2("R1.port_b.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 "tank1.ports[1].h_outflow", 1, 5, 43, 4)
DeclareVariable("R1.port_a_exposesState", "= true if port_a exposes the state of a fluid volume [:#(type=Boolean)]",\
 192, false, 0.0,0.0,0.0,0,2563)
DeclareVariable("R1.port_b_exposesState", "= true if port_b.p exposes the state of a fluid volume [:#(type=Boolean)]",\
 193, false, 0.0,0.0,0.0,0,2563)
DeclareParameter("R1.showDesignFlowDirection", "= false to hide the arrow in the model icon [:#(type=Boolean)]",\
 44, true, 0.0,0.0,0.0,0,2610)
DeclareVariable("R1.dp_start", "Guess value of dp = port_a.p - port_b.p [Pa|bar]",\
 194, 100000.0, -1E+60,100000000.0,100000.0,0,513)
DeclareVariable("R1.m_flow_start", "Guess value of m_flow = port_a.m_flow [kg/s]",\
 195, 0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("R1.m_flow_small", "Small mass flow rate for regularization of zero flow [kg/s]",\
 196, 0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("R1.show_T", "= true, if temperatures at port_a and port_b are computed [:#(type=Boolean)]",\
 197, true, 0.0,0.0,0.0,0,515)
DeclareVariable("R1.show_V_flow", "= true, if volume flow rate at inflowing port is computed [:#(type=Boolean)]",\
 198, true, 0.0,0.0,0.0,0,515)
DeclareAlias2("R1.m_flow", "Mass flow rate in design flow direction [kg/s]", \
"tank1.ports[2].m_flow", -1, 5, 44, 0)
DeclareVariable("R1.dp", "Pressure difference between port_a and port_b (= port_a.p - port_b.p) [Pa|bar]",\
 199, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("R1.V_flow", "Volume flow rate at inflowing port (positive when flow from port_a to port_b) [m3/s]",\
 200, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("R1.port_a_T", "Temperature close to port_a, if show_T = true [K|degC]",\
 201, 288.15, 1.0,10000.0,300.0,0,512)
DeclareVariable("R1.port_b_T", "Temperature close to port_b, if show_T = true [K|degC]",\
 202, 288.15, 1.0,10000.0,300.0,0,512)
DeclareAlias2("R1.state_a.p", "Absolute pressure of medium [Pa|bar]", \
"tank1.ports[2].p", 1, 5, 45, 1024)
DeclareVariable("R1.state_a.T", "Temperature of medium [K|degC]", 203, 288.15, \
1.0,10000.0,300.0,0,2560)
DeclareAlias2("R1.state_b.p", "Absolute pressure of medium [Pa|bar]", \
"y1_outlet.p", 1, 7, 49, 1024)
DeclareVariable("R1.state_b.T", "Temperature of medium [K|degC]", 204, 288.15, \
1.0,10000.0,300.0,0,2561)
DeclareParameter("R1.a", "Coefficient for quadratic term [(Pa.s2)/m6]", 45, 1, \
0.0,0.0,0.0,0,560)
DeclareParameter("R1.b", "Coefficient for linear term [(Pa.s)/m3]", 46, 1, \
0.0,0.0,0.0,0,560)
DeclareParameter("R1.state_dp_small.p", "Absolute pressure of medium [Pa|bar]", 47,\
 101325.0, 0.0,100000000.0,100000.0,0,2608)
DeclareParameter("R1.state_dp_small.T", "Temperature of medium [K|degC]", 48, \
298.15, 1.0,10000.0,300.0,0,2608)
DeclareVariable("R1.dp_small", "Default small pressure drop for regularization of laminar and zero flow (calculated from m_flow_small) [Pa|bar]",\
 205, 100000.0, 0.0,100000000.0,100000.0,0,2561)
DeclareVariable("R1.d_a", "Density at port_a when fluid is flowing from port_a to port_b [kg/m3|g/cm3]",\
 206, 995.586, 0.0,100000.0,1.0,0,2561)
DeclareVariable("R1.d_b", "If allowFlowReversal=true then density at port_b when fluid is flowing from port_b to port_a else d_a [kg/m3|g/cm3]",\
 207, 995.586, 0.0,100000.0,1.0,0,2561)
DeclareVariable("y1_outlet.nPorts", "Number of ports [:#(type=Integer)]", 208, 1,\
 0.0,0.0,0.0,0,517)
DeclareAlias2("y1_outlet.medium.p", "Absolute pressure of medium [Pa|bar]", \
"y1_outlet.p", 1, 7, 49, 0)
DeclareAlias2("y1_outlet.medium.h", "Specific enthalpy of medium [J/kg]", \
"R1.port_a.h_outflow", 1, 5, 191, 0)
DeclareVariable("y1_outlet.medium.d", "Density of medium [kg/m3|g/cm3]", 209, \
995.586, 0.0,100000.0,1.0,0,513)
DeclareAlias2("y1_outlet.medium.T", "Temperature of medium [K|degC]", \
"y1_outlet.T", 1, 7, 50, 0)
DeclareVariable("y1_outlet.medium.X[1]", "Mass fractions (= (component mass)/total mass  m_i/m) [kg/kg]",\
 210, 1.0, 0.0,1.0,0.1,0,513)
DeclareVariable("y1_outlet.medium.u", "Specific internal energy of medium [J/kg]",\
 211, 0.0, -100000000.0,100000000.0,1000000.0,0,513)
DeclareVariable("y1_outlet.medium.R_s", "Gas constant (of mixture if applicable) [J/(kg.K)]",\
 212, 0, 0.0,10000000.0,1000.0,0,513)
DeclareVariable("y1_outlet.medium.MM", "Molar mass (of mixture or single fluid) [kg/mol]",\
 213, 0.018015268, 0.001,0.25,0.032,0,513)
DeclareAlias2("y1_outlet.medium.state.p", "Absolute pressure of medium [Pa|bar]",\
 "y1_outlet.p", 1, 7, 49, 0)
DeclareAlias2("y1_outlet.medium.state.T", "Temperature of medium [K|degC]", \
"y1_outlet.T", 1, 7, 50, 0)
DeclareVariable("y1_outlet.medium.preferredMediumStates", "= true if StateSelect.prefer shall be used for the independent property variables of the medium [:#(type=Boolean)]",\
 214, false, 0.0,0.0,0.0,0,515)
DeclareVariable("y1_outlet.medium.standardOrderComponents", "If true, and reducedX = true, the last element of X will be computed from the other ones [:#(type=Boolean)]",\
 215, true, 0.0,0.0,0.0,0,515)
DeclareVariable("y1_outlet.medium.T_degC", "Temperature of medium in [degC] [degC;]",\
 216, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("y1_outlet.medium.p_bar", "Absolute pressure of medium in [bar] [bar]",\
 217, 0.0, 0.0,0.0,0.0,0,513)
DeclareAlias2("y1_outlet.ports[1].m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank1.ports[2].m_flow", -1, 5, 44, 132)
DeclareAlias2("y1_outlet.ports[1].p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "y1_outlet.p", 1, 7, 49, 4)
DeclareAlias2("y1_outlet.ports[1].h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 "R1.port_a.h_outflow", 1, 5, 191, 4)
DeclareVariable("y1_outlet.flowDirection", "Allowed flow direction [:#(type=Modelica.Fluid.Types.PortFlowDirection)]",\
 218, 3, 1.0,3.0,0.0,0,2565)
DeclareVariable("y1_outlet.use_p_in", "Get the pressure from the input connector [:#(type=Boolean)]",\
 219, false, 0.0,0.0,0.0,0,1539)
DeclareVariable("y1_outlet.use_T_in", "Get the temperature from the input connector [:#(type=Boolean)]",\
 220, false, 0.0,0.0,0.0,0,1539)
DeclareVariable("y1_outlet.use_X_in", "Get the composition from the input connector [:#(type=Boolean)]",\
 221, false, 0.0,0.0,0.0,0,1539)
DeclareVariable("y1_outlet.use_C_in", "Get the trace substances from the input connector [:#(type=Boolean)]",\
 222, false, 0.0,0.0,0.0,0,1539)
DeclareParameter("y1_outlet.p", "Fixed value of pressure [Pa|bar]", 49, 101325, \
0.0,100000000.0,100000.0,0,560)
DeclareParameter("y1_outlet.T", "Fixed value of temperature [K|degC]", 50, \
293.15, 1.0,10000.0,300.0,0,560)
DeclareParameter("y1_outlet.X[1]", "Fixed value of composition [kg/kg]", 51, 1.0,\
 0.0,1.0,0.1,0,560)
DeclareAlias2("y1_outlet.p_in_internal", "Needed to connect to conditional connector [Pa]",\
 "y1_outlet.p", 1, 7, 49, 1024)
DeclareAlias2("y1_outlet.T_in_internal", "Needed to connect to conditional connector [K]",\
 "y1_outlet.T", 1, 7, 50, 1024)
DeclareVariable("y1_outlet.X_in_internal[1]", "Needed to connect to conditional connector [1]",\
 223, 0.0, 0.0,0.0,0.0,0,2561)
DeclareVariable("R2.allowFlowReversal", "= true to allow flow reversal, false restricts to design direction (port_a -> port_b) [:#(type=Boolean)]",\
 224, true, 0.0,0.0,0.0,0,515)
DeclareAlias2("R2.port_a.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank2.ports[2].m_flow", -1, 5, 125, 132)
DeclareAlias2("R2.port_a.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "tank2.ports[2].p", 1, 5, 126, 4)
DeclareVariable("R2.port_a.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 225, 0.0, -10000000000.0,10000000000.0,1000000.0,0,521)
DeclareAlias2("R2.port_b.m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank2.ports[2].m_flow", 1, 5, 125, 132)
DeclareAlias2("R2.port_b.p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "y2_outlet.p", 1, 7, 57, 4)
DeclareAlias2("R2.port_b.h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 "tank2.ports[1].h_outflow", 1, 5, 124, 4)
DeclareVariable("R2.port_a_exposesState", "= true if port_a exposes the state of a fluid volume [:#(type=Boolean)]",\
 226, false, 0.0,0.0,0.0,0,2563)
DeclareVariable("R2.port_b_exposesState", "= true if port_b.p exposes the state of a fluid volume [:#(type=Boolean)]",\
 227, false, 0.0,0.0,0.0,0,2563)
DeclareParameter("R2.showDesignFlowDirection", "= false to hide the arrow in the model icon [:#(type=Boolean)]",\
 52, true, 0.0,0.0,0.0,0,2610)
DeclareVariable("R2.dp_start", "Guess value of dp = port_a.p - port_b.p [Pa|bar]",\
 228, 100000.0, -1E+60,100000000.0,100000.0,0,513)
DeclareVariable("R2.m_flow_start", "Guess value of m_flow = port_a.m_flow [kg/s]",\
 229, 0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("R2.m_flow_small", "Small mass flow rate for regularization of zero flow [kg/s]",\
 230, 0.0, -100000.0,100000.0,0.0,0,513)
DeclareVariable("R2.show_T", "= true, if temperatures at port_a and port_b are computed [:#(type=Boolean)]",\
 231, true, 0.0,0.0,0.0,0,515)
DeclareVariable("R2.show_V_flow", "= true, if volume flow rate at inflowing port is computed [:#(type=Boolean)]",\
 232, true, 0.0,0.0,0.0,0,515)
DeclareAlias2("R2.m_flow", "Mass flow rate in design flow direction [kg/s]", \
"tank2.ports[2].m_flow", -1, 5, 125, 0)
DeclareVariable("R2.dp", "Pressure difference between port_a and port_b (= port_a.p - port_b.p) [Pa|bar]",\
 233, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("R2.V_flow", "Volume flow rate at inflowing port (positive when flow from port_a to port_b) [m3/s]",\
 234, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("R2.port_a_T", "Temperature close to port_a, if show_T = true [K|degC]",\
 235, 288.15, 1.0,10000.0,300.0,0,512)
DeclareVariable("R2.port_b_T", "Temperature close to port_b, if show_T = true [K|degC]",\
 236, 288.15, 1.0,10000.0,300.0,0,512)
DeclareAlias2("R2.state_a.p", "Absolute pressure of medium [Pa|bar]", \
"tank2.ports[2].p", 1, 5, 126, 1024)
DeclareVariable("R2.state_a.T", "Temperature of medium [K|degC]", 237, 288.15, \
1.0,10000.0,300.0,0,2560)
DeclareAlias2("R2.state_b.p", "Absolute pressure of medium [Pa|bar]", \
"y2_outlet.p", 1, 7, 57, 1024)
DeclareVariable("R2.state_b.T", "Temperature of medium [K|degC]", 238, 288.15, \
1.0,10000.0,300.0,0,2561)
DeclareParameter("R2.a", "Coefficient for quadratic term [(Pa.s2)/m6]", 53, 1, \
0.0,0.0,0.0,0,560)
DeclareParameter("R2.b", "Coefficient for linear term [(Pa.s)/m3]", 54, 1, \
0.0,0.0,0.0,0,560)
DeclareParameter("R2.state_dp_small.p", "Absolute pressure of medium [Pa|bar]", 55,\
 101325.0, 0.0,100000000.0,100000.0,0,2608)
DeclareParameter("R2.state_dp_small.T", "Temperature of medium [K|degC]", 56, \
298.15, 1.0,10000.0,300.0,0,2608)
DeclareVariable("R2.dp_small", "Default small pressure drop for regularization of laminar and zero flow (calculated from m_flow_small) [Pa|bar]",\
 239, 100000.0, 0.0,100000000.0,100000.0,0,2561)
DeclareVariable("R2.d_a", "Density at port_a when fluid is flowing from port_a to port_b [kg/m3|g/cm3]",\
 240, 995.586, 0.0,100000.0,1.0,0,2561)
DeclareVariable("R2.d_b", "If allowFlowReversal=true then density at port_b when fluid is flowing from port_b to port_a else d_a [kg/m3|g/cm3]",\
 241, 995.586, 0.0,100000.0,1.0,0,2561)
DeclareVariable("y2_outlet.nPorts", "Number of ports [:#(type=Integer)]", 242, 1,\
 0.0,0.0,0.0,0,517)
DeclareAlias2("y2_outlet.medium.p", "Absolute pressure of medium [Pa|bar]", \
"y2_outlet.p", 1, 7, 57, 0)
DeclareAlias2("y2_outlet.medium.h", "Specific enthalpy of medium [J/kg]", \
"R2.port_a.h_outflow", 1, 5, 225, 0)
DeclareVariable("y2_outlet.medium.d", "Density of medium [kg/m3|g/cm3]", 243, \
995.586, 0.0,100000.0,1.0,0,513)
DeclareAlias2("y2_outlet.medium.T", "Temperature of medium [K|degC]", \
"y2_outlet.T", 1, 7, 58, 0)
DeclareVariable("y2_outlet.medium.X[1]", "Mass fractions (= (component mass)/total mass  m_i/m) [kg/kg]",\
 244, 1.0, 0.0,1.0,0.1,0,513)
DeclareVariable("y2_outlet.medium.u", "Specific internal energy of medium [J/kg]",\
 245, 0.0, -100000000.0,100000000.0,1000000.0,0,513)
DeclareVariable("y2_outlet.medium.R_s", "Gas constant (of mixture if applicable) [J/(kg.K)]",\
 246, 0, 0.0,10000000.0,1000.0,0,513)
DeclareVariable("y2_outlet.medium.MM", "Molar mass (of mixture or single fluid) [kg/mol]",\
 247, 0.018015268, 0.001,0.25,0.032,0,513)
DeclareAlias2("y2_outlet.medium.state.p", "Absolute pressure of medium [Pa|bar]",\
 "y2_outlet.p", 1, 7, 57, 0)
DeclareAlias2("y2_outlet.medium.state.T", "Temperature of medium [K|degC]", \
"y2_outlet.T", 1, 7, 58, 0)
DeclareVariable("y2_outlet.medium.preferredMediumStates", "= true if StateSelect.prefer shall be used for the independent property variables of the medium [:#(type=Boolean)]",\
 248, false, 0.0,0.0,0.0,0,515)
DeclareVariable("y2_outlet.medium.standardOrderComponents", "If true, and reducedX = true, the last element of X will be computed from the other ones [:#(type=Boolean)]",\
 249, true, 0.0,0.0,0.0,0,515)
DeclareVariable("y2_outlet.medium.T_degC", "Temperature of medium in [degC] [degC;]",\
 250, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("y2_outlet.medium.p_bar", "Absolute pressure of medium in [bar] [bar]",\
 251, 0.0, 0.0,0.0,0.0,0,513)
DeclareAlias2("y2_outlet.ports[1].m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 "tank2.ports[2].m_flow", -1, 5, 125, 132)
DeclareAlias2("y2_outlet.ports[1].p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 "y2_outlet.p", 1, 7, 57, 4)
DeclareAlias2("y2_outlet.ports[1].h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 "R2.port_a.h_outflow", 1, 5, 225, 4)
DeclareVariable("y2_outlet.flowDirection", "Allowed flow direction [:#(type=Modelica.Fluid.Types.PortFlowDirection)]",\
 252, 3, 1.0,3.0,0.0,0,2565)
DeclareVariable("y2_outlet.use_p_in", "Get the pressure from the input connector [:#(type=Boolean)]",\
 253, false, 0.0,0.0,0.0,0,1539)
DeclareVariable("y2_outlet.use_T_in", "Get the temperature from the input connector [:#(type=Boolean)]",\
 254, false, 0.0,0.0,0.0,0,1539)
DeclareVariable("y2_outlet.use_X_in", "Get the composition from the input connector [:#(type=Boolean)]",\
 255, false, 0.0,0.0,0.0,0,1539)
DeclareVariable("y2_outlet.use_C_in", "Get the trace substances from the input connector [:#(type=Boolean)]",\
 256, false, 0.0,0.0,0.0,0,1539)
DeclareParameter("y2_outlet.p", "Fixed value of pressure [Pa|bar]", 57, 101325, \
0.0,100000000.0,100000.0,0,560)
DeclareParameter("y2_outlet.T", "Fixed value of temperature [K|degC]", 58, \
293.15, 1.0,10000.0,300.0,0,560)
DeclareParameter("y2_outlet.X[1]", "Fixed value of composition [kg/kg]", 59, 1.0,\
 0.0,1.0,0.1,0,560)
DeclareAlias2("y2_outlet.p_in_internal", "Needed to connect to conditional connector [Pa]",\
 "y2_outlet.p", 1, 7, 57, 1024)
DeclareAlias2("y2_outlet.T_in_internal", "Needed to connect to conditional connector [K]",\
 "y2_outlet.T", 1, 7, 58, 1024)
DeclareVariable("y2_outlet.X_in_internal[1]", "Needed to connect to conditional connector [1]",\
 257, 0.0, 0.0,0.0,0.0,0,2561)
DeclareVariable("x1_inlet.nPorts", "Number of ports [:#(type=Integer)]", 258, 1,\
 0.0,0.0,0.0,0,517)
DeclareAlias2("x1_inlet.medium.p", "Absolute pressure of medium [Pa|bar]", \
"x1_inlet.ports[1].p", 1, 5, 269, 0)
DeclareAlias2("x1_inlet.medium.h", "Specific enthalpy of medium [J/kg]", \
"x1_inlet.ports[1].h_outflow", 1, 5, 270, 0)
DeclareVariable("x1_inlet.medium.d", "Density of medium [kg/m3|g/cm3]", 259, \
995.586, 0.0,100000.0,1.0,0,513)
DeclareAlias2("x1_inlet.medium.T", "Temperature of medium [K|degC]", \
"x1_inlet.T", 1, 7, 61, 0)
DeclareVariable("x1_inlet.medium.X[1]", "Mass fractions (= (component mass)/total mass  m_i/m) [kg/kg]",\
 260, 1.0, 0.0,1.0,0.1,0,513)
DeclareVariable("x1_inlet.medium.u", "Specific internal energy of medium [J/kg]",\
 261, 0.0, -100000000.0,100000000.0,1000000.0,0,513)
DeclareVariable("x1_inlet.medium.R_s", "Gas constant (of mixture if applicable) [J/(kg.K)]",\
 262, 0, 0.0,10000000.0,1000.0,0,513)
DeclareVariable("x1_inlet.medium.MM", "Molar mass (of mixture or single fluid) [kg/mol]",\
 263, 0.018015268, 0.001,0.25,0.032,0,513)
DeclareAlias2("x1_inlet.medium.state.p", "Absolute pressure of medium [Pa|bar]",\
 "x1_inlet.ports[1].p", 1, 5, 269, 0)
DeclareAlias2("x1_inlet.medium.state.T", "Temperature of medium [K|degC]", \
"x1_inlet.T", 1, 7, 61, 0)
DeclareVariable("x1_inlet.medium.preferredMediumStates", "= true if StateSelect.prefer shall be used for the independent property variables of the medium [:#(type=Boolean)]",\
 264, false, 0.0,0.0,0.0,0,515)
DeclareVariable("x1_inlet.medium.standardOrderComponents", "If true, and reducedX = true, the last element of X will be computed from the other ones [:#(type=Boolean)]",\
 265, true, 0.0,0.0,0.0,0,515)
DeclareVariable("x1_inlet.medium.T_degC", "Temperature of medium in [degC] [degC;]",\
 266, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("x1_inlet.medium.p_bar", "Absolute pressure of medium in [bar] [bar]",\
 267, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("x1_inlet.ports[1].m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 268, 0.0, -100000.0,100000.0,0.0,0,776)
DeclareVariable("x1_inlet.ports[1].p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 269, 100000.0, 0.0,100000000.0,100000.0,0,520)
DeclareVariable("x1_inlet.ports[1].h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 270, 0.0, -10000000000.0,10000000000.0,1000000.0,0,521)
DeclareVariable("x1_inlet.flowDirection", "Allowed flow direction [:#(type=Modelica.Fluid.Types.PortFlowDirection)]",\
 271, 3, 1.0,3.0,0.0,0,2565)
DeclareVariable("x1_inlet.use_m_flow_in", "Get the mass flow rate from the input connector [:#(type=Boolean)]",\
 272, true, 0.0,0.0,0.0,0,1539)
DeclareVariable("x1_inlet.use_T_in", "Get the temperature from the input connector [:#(type=Boolean)]",\
 273, false, 0.0,0.0,0.0,0,1539)
DeclareVariable("x1_inlet.use_X_in", "Get the composition from the input connector [:#(type=Boolean)]",\
 274, false, 0.0,0.0,0.0,0,1539)
DeclareVariable("x1_inlet.use_C_in", "Get the trace substances from the input connector [:#(type=Boolean)]",\
 275, false, 0.0,0.0,0.0,0,1539)
DeclareParameter("x1_inlet.m_flow", "Fixed mass flow rate going out of the fluid port [kg/s]",\
 60, 0, -100000.0,100000.0,0.0,0,560)
DeclareParameter("x1_inlet.T", "Fixed value of temperature [K|degC]", 61, 293.15,\
 1.0,10000.0,300.0,0,560)
DeclareParameter("x1_inlet.X[1]", "Fixed value of composition [kg/kg]", 62, 1.0,\
 0.0,1.0,0.1,0,560)
DeclareAlias2("x1_inlet.m_flow_in", "Prescribed mass flow rate [kg/s]", \
"x1_inlet.ports[1].m_flow", -1, 5, 268, 0)
DeclareAlias2("x1_inlet.m_flow_in_internal", "Needed to connect to conditional connector [kg/s]",\
 "x1_inlet.ports[1].m_flow", -1, 5, 268, 1024)
DeclareAlias2("x1_inlet.T_in_internal", "Needed to connect to conditional connector [K]",\
 "x1_inlet.T", 1, 7, 61, 1024)
DeclareVariable("x1_inlet.X_in_internal[1]", "Needed to connect to conditional connector [1]",\
 276, 0.0, 0.0,0.0,0.0,0,2561)
DeclareVariable("x2_inlet.nPorts", "Number of ports [:#(type=Integer)]", 277, 1,\
 0.0,0.0,0.0,0,517)
DeclareAlias2("x2_inlet.medium.p", "Absolute pressure of medium [Pa|bar]", \
"x2_inlet.ports[1].p", 1, 5, 288, 0)
DeclareAlias2("x2_inlet.medium.h", "Specific enthalpy of medium [J/kg]", \
"x2_inlet.ports[1].h_outflow", 1, 5, 289, 0)
DeclareVariable("x2_inlet.medium.d", "Density of medium [kg/m3|g/cm3]", 278, \
995.586, 0.0,100000.0,1.0,0,513)
DeclareAlias2("x2_inlet.medium.T", "Temperature of medium [K|degC]", \
"x2_inlet.T", 1, 7, 64, 0)
DeclareVariable("x2_inlet.medium.X[1]", "Mass fractions (= (component mass)/total mass  m_i/m) [kg/kg]",\
 279, 1.0, 0.0,1.0,0.1,0,513)
DeclareVariable("x2_inlet.medium.u", "Specific internal energy of medium [J/kg]",\
 280, 0.0, -100000000.0,100000000.0,1000000.0,0,513)
DeclareVariable("x2_inlet.medium.R_s", "Gas constant (of mixture if applicable) [J/(kg.K)]",\
 281, 0, 0.0,10000000.0,1000.0,0,513)
DeclareVariable("x2_inlet.medium.MM", "Molar mass (of mixture or single fluid) [kg/mol]",\
 282, 0.018015268, 0.001,0.25,0.032,0,513)
DeclareAlias2("x2_inlet.medium.state.p", "Absolute pressure of medium [Pa|bar]",\
 "x2_inlet.ports[1].p", 1, 5, 288, 0)
DeclareAlias2("x2_inlet.medium.state.T", "Temperature of medium [K|degC]", \
"x2_inlet.T", 1, 7, 64, 0)
DeclareVariable("x2_inlet.medium.preferredMediumStates", "= true if StateSelect.prefer shall be used for the independent property variables of the medium [:#(type=Boolean)]",\
 283, false, 0.0,0.0,0.0,0,515)
DeclareVariable("x2_inlet.medium.standardOrderComponents", "If true, and reducedX = true, the last element of X will be computed from the other ones [:#(type=Boolean)]",\
 284, true, 0.0,0.0,0.0,0,515)
DeclareVariable("x2_inlet.medium.T_degC", "Temperature of medium in [degC] [degC;]",\
 285, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("x2_inlet.medium.p_bar", "Absolute pressure of medium in [bar] [bar]",\
 286, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("x2_inlet.ports[1].m_flow", "Mass flow rate from the connection point into the component [kg/s]",\
 287, 0.0, -100000.0,100000.0,0.0,0,776)
DeclareVariable("x2_inlet.ports[1].p", "Thermodynamic pressure in the connection point [Pa|bar]",\
 288, 100000.0, 0.0,100000000.0,100000.0,0,520)
DeclareVariable("x2_inlet.ports[1].h_outflow", "Specific thermodynamic enthalpy close to the connection point if m_flow < 0 [J/kg]",\
 289, 0.0, -10000000000.0,10000000000.0,1000000.0,0,521)
DeclareVariable("x2_inlet.flowDirection", "Allowed flow direction [:#(type=Modelica.Fluid.Types.PortFlowDirection)]",\
 290, 3, 1.0,3.0,0.0,0,2565)
DeclareVariable("x2_inlet.use_m_flow_in", "Get the mass flow rate from the input connector [:#(type=Boolean)]",\
 291, true, 0.0,0.0,0.0,0,1539)
DeclareVariable("x2_inlet.use_T_in", "Get the temperature from the input connector [:#(type=Boolean)]",\
 292, false, 0.0,0.0,0.0,0,1539)
DeclareVariable("x2_inlet.use_X_in", "Get the composition from the input connector [:#(type=Boolean)]",\
 293, false, 0.0,0.0,0.0,0,1539)
DeclareVariable("x2_inlet.use_C_in", "Get the trace substances from the input connector [:#(type=Boolean)]",\
 294, false, 0.0,0.0,0.0,0,1539)
DeclareParameter("x2_inlet.m_flow", "Fixed mass flow rate going out of the fluid port [kg/s]",\
 63, 0, -100000.0,100000.0,0.0,0,560)
DeclareParameter("x2_inlet.T", "Fixed value of temperature [K|degC]", 64, 293.15,\
 1.0,10000.0,300.0,0,560)
DeclareParameter("x2_inlet.X[1]", "Fixed value of composition [kg/kg]", 65, 1.0,\
 0.0,1.0,0.1,0,560)
DeclareAlias2("x2_inlet.m_flow_in", "Prescribed mass flow rate [kg/s]", \
"x2_inlet.ports[1].m_flow", -1, 5, 287, 0)
DeclareAlias2("x2_inlet.m_flow_in_internal", "Needed to connect to conditional connector [kg/s]",\
 "x2_inlet.ports[1].m_flow", -1, 5, 287, 1024)
DeclareAlias2("x2_inlet.T_in_internal", "Needed to connect to conditional connector [K]",\
 "x2_inlet.T", 1, 7, 64, 1024)
DeclareVariable("x2_inlet.X_in_internal[1]", "Needed to connect to conditional connector [1]",\
 295, 0.0, 0.0,0.0,0.0,0,2561)
DeclareParameter("setpoint_Tank1.k", "Constant output value [m]", 66, 5, \
0.0,0.0,0.0,0,560)
DeclareAlias2("setpoint_Tank1.y", "Connector of Real output signal [m]", \
"setpoint_Tank1.k", 1, 7, 66, 0)
DeclareVariable("pid_Tank1.u", "Connector of Real input signal [m]", 296, 0.0, \
0.0,0.0,0.0,0,512)
DeclareAlias2("pid_Tank1.y", "Connector of Real output signal [kg/s]", \
"x1_inlet.ports[1].m_flow", -1, 5, 268, 0)
DeclareParameter("pid_Tank1.k", "Gain [1]", 67, 1, 0.0,0.0,0.0,0,560)
DeclareParameter("pid_Tank1.Ti", "Time Constant of Integrator [s]", 68, 0.1, \
1E-60,1E+100,0.0,0,560)
DeclareParameter("pid_Tank1.Td", "Time Constant of Derivative block [s]", 69, 0,\
 0.0,1E+100,0.0,0,560)
DeclareParameter("pid_Tank1.Nd", "The higher Nd, the more ideal the derivative block",\
 70, 10, 1E-60,1E+100,0.0,0,560)
DeclareVariable("pid_Tank1.initType", "Type of initialization (1: no init, 2: steady state, 3: initial state, 4: initial output) [:#(type=Modelica.Blocks.Types.Init)]",\
 297, 3, 1.0,4.0,0.0,0,517)
DeclareParameter("pid_Tank1.xi_start", "Initial or guess value for integrator output (= integrator state) [m.s]",\
 71, 0, 0.0,0.0,0.0,0,560)
DeclareParameter("pid_Tank1.xd_start", "Initial or guess value for state of derivative block [m]",\
 72, 0, 0.0,0.0,0.0,0,560)
DeclareParameter("pid_Tank1.y_start", "Initial value of output [kg/s]", 73, 0, \
0.0,0.0,0.0,0,560)
DeclareVariable("pid_Tank1.unitTime", "[s]", 298, 1, 0.0,0.0,0.0,0,1537)
DeclareParameter("pid_Tank1.P.k", "Gain value multiplied with input signal [1]",\
 74, 1, 0.0,0.0,0.0,0,560)
DeclareAlias2("pid_Tank1.P.u", "Input signal connector [m]", "pid_Tank1.u", 1, 5,\
 296, 0)
DeclareVariable("pid_Tank1.P.y", "Output signal connector [m]", 299, 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("pid_Tank1.I.k", "Integrator gain [1]", 300, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pid_Tank1.I.use_reset", "= true, if reset port enabled [:#(type=Boolean)]",\
 301, false, 0.0,0.0,0.0,0,1539)
DeclareVariable("pid_Tank1.I.use_set", "= true, if set port enabled and used as reinitialization value when reset [:#(type=Boolean)]",\
 302, false, 0.0,0.0,0.0,0,1539)
DeclareVariable("pid_Tank1.I.initType", "Type of initialization (1: no init, 2: steady state, 3,4: initial output) [:#(type=Modelica.Blocks.Types.Init)]",\
 303, 3, 1.0,4.0,0.0,0,517)
DeclareVariable("pid_Tank1.I.y_start", "Initial or guess value of output (= state) [m.s]",\
 304, 0.0, 0.0,0.0,0.0,0,513)
DeclareAlias2("pid_Tank1.I.u", "Connector of Real input signal [m]", \
"pid_Tank1.u", 1, 5, 296, 0)
DeclareState("pid_Tank1.I.y", "Connector of Real output signal [m.s]", 4, 0.0, \
0.0,0.0,0.0,0,544)
DeclareDerivative("pid_Tank1.I.der(y)", "der(Connector of Real output signal) [m]",\
 4, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pid_Tank1.I.local_reset", "[:#(type=Boolean)]", 305, false, \
0.0,0.0,0.0,0,1539)
DeclareVariable("pid_Tank1.I.local_set", "", 306, 0, 0.0,0.0,0.0,0,1537)
DeclareVariable("pid_Tank1.D.k", "Gains [1]", 307, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pid_Tank1.D.T", "Time constants (T>0 required; T=0 is ideal derivative block) [s]",\
 308, 1E-60, 1E-60,1E+100,0.0,0,513)
DeclareVariable("pid_Tank1.D.initType", "Type of initialization (1: no init, 2: steady state, 3: initial state, 4: initial output) [:#(type=Modelica.Blocks.Types.Init)]",\
 309, 3, 1.0,4.0,0.0,0,517)
DeclareVariable("pid_Tank1.D.x_start", "Initial or guess value of state [m]", 310,\
 0.0, 0.0,0.0,0.0,0,513)
DeclareParameter("pid_Tank1.D.y_start", "Initial value of output (= state) [m/s]",\
 75, 0, 0.0,0.0,0.0,0,560)
DeclareAlias2("pid_Tank1.D.u", "Connector of Real input signal [m]", \
"pid_Tank1.u", 1, 5, 296, 0)
DeclareVariable("pid_Tank1.D.y", "Connector of Real output signal [m/s]", 311, \
0.0, 0.0,0.0,0.0,0,512)
DeclareState("pid_Tank1.D.x", "State of block [m]", 5, 0.0, 0.0,0.0,0.0,0,544)
DeclareDerivative("pid_Tank1.D.der(x)", "der(State of block) [m/s]", 5, 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("pid_Tank1.D.zeroGain", "[:#(type=Boolean)]", 312, false, \
0.0,0.0,0.0,0,2563)
DeclareVariable("pid_Tank1.Gain.k", "Gain value multiplied with input signal [1]",\
 313, 1, 0.0,0.0,0.0,0,513)
DeclareVariable("pid_Tank1.Gain.u", "Input signal connector", 314, 0.0, 0.0,0.0,\
0.0,0,512)
DeclareAlias2("pid_Tank1.Gain.y", "Output signal connector [kg/s]", \
"x1_inlet.ports[1].m_flow", -1, 5, 268, 0)
DeclareParameter("pid_Tank1.Add.k1", "Gain of input signal 1", 76, 1, 0.0,0.0,\
0.0,0,560)
DeclareParameter("pid_Tank1.Add.k2", "Gain of input signal 2", 77, 1, 0.0,0.0,\
0.0,0,560)
DeclareParameter("pid_Tank1.Add.k3", "Gain of input signal 3", 78, 1, 0.0,0.0,\
0.0,0,560)
DeclareAlias2("pid_Tank1.Add.u1", "Connector of Real input signal 1 [m]", \
"pid_Tank1.P.y", 1, 5, 299, 0)
DeclareAlias2("pid_Tank1.Add.u2", "Connector of Real input signal 2 [m.s]", \
"pid_Tank1.I.y", 1, 1, 4, 0)
DeclareAlias2("pid_Tank1.Add.u3", "Connector of Real input signal 3 [m/s]", \
"pid_Tank1.D.y", 1, 5, 311, 0)
DeclareAlias2("pid_Tank1.Add.y", "Connector of Real output signal", \
"pid_Tank1.Gain.u", 1, 5, 314, 0)
DeclareAlias2("level_Tank1.y", "Value of Real output [m]", "tank1.level", 1, 1, 0,\
 0)
DeclareAlias2("feedback_Tank1.u1", "Commanded input [m]", "setpoint_Tank1.k", 1,\
 7, 66, 0)
DeclareAlias2("feedback_Tank1.u2", "Feedback input [m]", "tank1.level", 1, 1, 0,\
 0)
DeclareAlias2("feedback_Tank1.y", "[m]", "pid_Tank1.u", 1, 5, 296, 0)
DeclareVariable("feedback_Tank2.u1", "Commanded input [m]", 315, 0.0, 0.0,0.0,\
0.0,0,640)
DeclareAlias2("feedback_Tank2.u2", "Feedback input [m]", "tank2.level", 1, 1, 2,\
 0)
DeclareVariable("feedback_Tank2.y", "[m]", 316, 0.0, 0.0,0.0,0.0,0,512)
DeclareAlias2("level_Tank2.y", "Value of Real output [m]", "tank2.level", 1, 1, 2,\
 0)
DeclareAlias2("pid_Tank2.u", "Connector of Real input signal [m]", \
"feedback_Tank2.y", 1, 5, 316, 0)
DeclareAlias2("pid_Tank2.y", "Connector of Real output signal [kg/s]", \
"x2_inlet.ports[1].m_flow", -1, 5, 287, 0)
DeclareParameter("pid_Tank2.k", "Gain [1]", 79, 1, 0.0,0.0,0.0,0,560)
DeclareParameter("pid_Tank2.Ti", "Time Constant of Integrator [s]", 80, 0.1, \
1E-60,1E+100,0.0,0,560)
DeclareParameter("pid_Tank2.Td", "Time Constant of Derivative block [s]", 81, 0,\
 0.0,1E+100,0.0,0,560)
DeclareParameter("pid_Tank2.Nd", "The higher Nd, the more ideal the derivative block",\
 82, 10, 1E-60,1E+100,0.0,0,560)
DeclareVariable("pid_Tank2.initType", "Type of initialization (1: no init, 2: steady state, 3: initial state, 4: initial output) [:#(type=Modelica.Blocks.Types.Init)]",\
 317, 3, 1.0,4.0,0.0,0,517)
DeclareParameter("pid_Tank2.xi_start", "Initial or guess value for integrator output (= integrator state) [m.s]",\
 83, 0, 0.0,0.0,0.0,0,560)
DeclareParameter("pid_Tank2.xd_start", "Initial or guess value for state of derivative block [m]",\
 84, 0, 0.0,0.0,0.0,0,560)
DeclareParameter("pid_Tank2.y_start", "Initial value of output [kg/s]", 85, 0, \
0.0,0.0,0.0,0,560)
DeclareVariable("pid_Tank2.unitTime", "[s]", 318, 1, 0.0,0.0,0.0,0,1537)
DeclareParameter("pid_Tank2.P.k", "Gain value multiplied with input signal [1]",\
 86, 1, 0.0,0.0,0.0,0,560)
DeclareAlias2("pid_Tank2.P.u", "Input signal connector [m]", "feedback_Tank2.y", 1,\
 5, 316, 0)
DeclareVariable("pid_Tank2.P.y", "Output signal connector [m]", 319, 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("pid_Tank2.I.k", "Integrator gain [1]", 320, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pid_Tank2.I.use_reset", "= true, if reset port enabled [:#(type=Boolean)]",\
 321, false, 0.0,0.0,0.0,0,1539)
DeclareVariable("pid_Tank2.I.use_set", "= true, if set port enabled and used as reinitialization value when reset [:#(type=Boolean)]",\
 322, false, 0.0,0.0,0.0,0,1539)
DeclareVariable("pid_Tank2.I.initType", "Type of initialization (1: no init, 2: steady state, 3,4: initial output) [:#(type=Modelica.Blocks.Types.Init)]",\
 323, 3, 1.0,4.0,0.0,0,517)
DeclareVariable("pid_Tank2.I.y_start", "Initial or guess value of output (= state) [m.s]",\
 324, 0.0, 0.0,0.0,0.0,0,513)
DeclareAlias2("pid_Tank2.I.u", "Connector of Real input signal [m]", \
"feedback_Tank2.y", 1, 5, 316, 0)
DeclareState("pid_Tank2.I.y", "Connector of Real output signal [m.s]", 6, 0.0, \
0.0,0.0,0.0,0,544)
DeclareDerivative("pid_Tank2.I.der(y)", "der(Connector of Real output signal) [m]",\
 6, 0.0, 0.0,0.0,0.0,0,512)
DeclareVariable("pid_Tank2.I.local_reset", "[:#(type=Boolean)]", 325, false, \
0.0,0.0,0.0,0,1539)
DeclareVariable("pid_Tank2.I.local_set", "", 326, 0, 0.0,0.0,0.0,0,1537)
DeclareVariable("pid_Tank2.D.k", "Gains [1]", 327, 0.0, 0.0,0.0,0.0,0,513)
DeclareVariable("pid_Tank2.D.T", "Time constants (T>0 required; T=0 is ideal derivative block) [s]",\
 328, 1E-60, 1E-60,1E+100,0.0,0,513)
DeclareVariable("pid_Tank2.D.initType", "Type of initialization (1: no init, 2: steady state, 3: initial state, 4: initial output) [:#(type=Modelica.Blocks.Types.Init)]",\
 329, 3, 1.0,4.0,0.0,0,517)
DeclareVariable("pid_Tank2.D.x_start", "Initial or guess value of state [m]", 330,\
 0.0, 0.0,0.0,0.0,0,513)
DeclareParameter("pid_Tank2.D.y_start", "Initial value of output (= state) [m/s]",\
 87, 0, 0.0,0.0,0.0,0,560)
DeclareAlias2("pid_Tank2.D.u", "Connector of Real input signal [m]", \
"feedback_Tank2.y", 1, 5, 316, 0)
DeclareVariable("pid_Tank2.D.y", "Connector of Real output signal [m/s]", 331, \
0.0, 0.0,0.0,0.0,0,512)
DeclareState("pid_Tank2.D.x", "State of block [m]", 7, 0.0, 0.0,0.0,0.0,0,544)
DeclareDerivative("pid_Tank2.D.der(x)", "der(State of block) [m/s]", 7, 0.0, \
0.0,0.0,0.0,0,512)
DeclareVariable("pid_Tank2.D.zeroGain", "[:#(type=Boolean)]", 332, false, \
0.0,0.0,0.0,0,2563)
DeclareVariable("pid_Tank2.Gain.k", "Gain value multiplied with input signal [1]",\
 333, 1, 0.0,0.0,0.0,0,513)
DeclareVariable("pid_Tank2.Gain.u", "Input signal connector", 334, 0.0, 0.0,0.0,\
0.0,0,512)
DeclareAlias2("pid_Tank2.Gain.y", "Output signal connector [kg/s]", \
"x2_inlet.ports[1].m_flow", -1, 5, 287, 0)
DeclareParameter("pid_Tank2.Add.k1", "Gain of input signal 1", 88, 1, 0.0,0.0,\
0.0,0,560)
DeclareParameter("pid_Tank2.Add.k2", "Gain of input signal 2", 89, 1, 0.0,0.0,\
0.0,0,560)
DeclareParameter("pid_Tank2.Add.k3", "Gain of input signal 3", 90, 1, 0.0,0.0,\
0.0,0,560)
DeclareAlias2("pid_Tank2.Add.u1", "Connector of Real input signal 1 [m]", \
"pid_Tank2.P.y", 1, 5, 319, 0)
DeclareAlias2("pid_Tank2.Add.u2", "Connector of Real input signal 2 [m.s]", \
"pid_Tank2.I.y", 1, 1, 6, 0)
DeclareAlias2("pid_Tank2.Add.u3", "Connector of Real input signal 3 [m/s]", \
"pid_Tank2.D.y", 1, 5, 331, 0)
DeclareAlias2("pid_Tank2.Add.y", "Connector of Real output signal", \
"pid_Tank2.Gain.u", 1, 5, 334, 0)
DeclareAlias2("realExpression.y", "Value of Real output [m]", "feedback_Tank2.u1", 1,\
 5, 315, 0)
EndNonAlias(0)

#define DymolaHaveUpdateInitVars 1
#include <dsblock5.c>

DYMOLA_STATIC void UpdateInitVars(double*time, double* X_, double* XD_, double* U_, double* DP_, int IP_[], Dymola_bool LP_[], double* F_, double* Y_, double* W_, double QZ_[], double duser_[], int iuser_[], void*cuser_[],struct DYNInstanceData*did_,int initialCall) {
}
StartDataBlock
StartPreBlock
preWD(DYNX(W_,85),"tank1.regularFlow[1]", true, 0);
preWD(DYNX(W_,86),"tank1.regularFlow[2]", true, 1);
preWD(DYNX(W_,166),"tank2.regularFlow[1]", true, 2);
preWD(DYNX(W_,167),"tank2.regularFlow[2]", true, 3);
EndPreBlock
StartEqBlock
if (final_==2) {
DYNX(W_,199) = DYNX(W_,194);
DYNX(W_,233) = DYNX(W_,228);
DYNX(W_,181) = DYNX(W_,176);
}
DoRemember_(DYNX(W_,199), DYNX(W_,194), 4);
DoRemember_(DYNX(W_,233), DYNX(W_,228), 0);
DoRemember_(DYNX(W_,181), DYNX(W_,176), 2);
DoRemember_(DYNX(F_,0), 0.0, 5);
DoRemember_(DYNX(W_,26), 0.0, 6);
DoRemember_(DYNX(F_,2), 0.0, 3);
DoRemember_(DYNX(W_,108), 0.0, 7);
DoRemember_(DYNX(W_,123), 100000.0, 1);
DoRememAcc_(DYNX(W_,269), 100000.0, 8);
DoRememAcc_(DYNX(W_,288), 100000.0, 9);
EndEqBlock
EndDataBlock

BreakSectionFunctionStart(0);
BreakSectionFunctionCallNew(1);
BreakSectionFunctionEnd()
